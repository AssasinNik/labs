2025-04-23 19:32:35.112 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.1 with PID 21412 (D:\AndroidProjects\labs\lab_1\build\classes\kotlin\main started by Neket in D:\AndroidProjects\labs)
2025-04-23 19:32:35.114 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 19:32:35.114 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 19:32:36.774 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-23 19:32:36.786 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 19:32:36.786 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 19:32:36.846 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 19:32:36.846 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1673 ms
2025-04-23 19:32:36.899 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 19:32:36.899 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 19:32:36.981 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 19:32:36.981 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 19:32:40.029 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/20.0.1+9-29"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@3c62c81f, com.mongodb.Jep395RecordCodecProvider@6a4d57b7, com.mongodb.KotlinCodecProvider@a36ff0b]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 19:32:40.071 [cluster-ClusterId{value='6809162768c42b5ac837386b', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56143000, minRoundTripTimeNanos=0}
2025-04-23 19:32:40.480 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 439513824 created for server address localhost:7687
2025-04-23 19:32:41.162 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-23 19:32:41.176 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 6.591 seconds (process running for 7.43)
2025-04-23 19:34:57.470 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 19:34:57.470 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 19:34:57.470 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-23 19:34:57.477 [http-nio-8080-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 4c104d0f-6f25-4333-abca-12159ca79ab5: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 19:34:57.480 [http-nio-8080-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 19:34:57.717 [http-nio-8080-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2773774d} - {200} ({237} мс)
2025-04-23 19:36:45.150 [http-nio-8080-exec-5] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса f0b9f1dc-d38d-42b1-84d3-88bd92c047c7: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 19:36:45.150 [http-nio-8080-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 19:36:45.210 [http-nio-8080-exec-5] WARN  c.c.l.configs.GlobalExceptionHandler - Ошибка валидации входных данных: JSON parse error: Cannot deserialize value of type `java.time.Instant` from String "2023-12-31T23:59:59:59.000Z": Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2023-12-31T23:59:59:59.000Z' could not be parsed at index 19
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.Instant` from String "2023-12-31T23:59:59:59.000Z": Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2023-12-31T23:59:59:59.000Z' could not be parsed at index 19
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:409)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:357)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:204)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:176)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:150)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.cherenkov.lab_1.configs.JwtAuthFilter.doFilterInternal(JwtAuthFilter.kt:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cherenkov.lab_1.configs.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.kt:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.Instant` from String "2023-12-31T23:59:59:59.000Z": Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2023-12-31T23:59:59:59.000Z' could not be parsed at index 19
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 4, column: 16] (through reference chain: com.cherenkov.lab_1.dto.ReportRequest["endDate"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1959)
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1245)
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer._fromString(InstantDeserializer.java:452)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:355)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:54)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:543)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:585)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:447)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1497)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:348)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2131)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1501)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:398)
	... 105 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2023-12-31T23:59:59:59.000Z' could not be parsed at index 19
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1934)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer._fromString(InstantDeserializer.java:446)
	... 117 common frames omitted
2025-04-23 19:36:45.234 [http-nio-8080-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@6c6c9205} - {400} ({84} мс)
2025-04-23 19:36:45.236 [http-nio-8080-exec-5] WARN  c.c.l.configs.RequestLoggingFilter - Ответ с ошибкой {400}: {{"error":"ÐÑÐ¸Ð±ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°ÑÐ¸Ð¸","message":"ÐÐµÐºÐ¾ÑÑÐµÐºÑÐ½ÑÐ¹ ÑÐ¾ÑÐ¼Ð°Ñ Ð·Ð°Ð¿ÑÐ¾ÑÐ°: JSON parse error: Cannot deserialize value of type `java.time.Instant` from String \"2023-12-31T23:59:59:59.000Z\": Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2023-12-31T23:59:59:59.000Z' could not be parsed at index 19"}}
2025-04-23 19:37:02.084 [http-nio-8080-exec-7] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 8963f932-1a73-4b5b-a4ce-0f2a949422f3: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 19:37:02.086 [http-nio-8080-exec-7] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 19:37:02.090 [http-nio-8080-exec-7] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 19:37:02.090 [http-nio-8080-exec-7] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 19:37:02.090 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 19:37:02.090 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 19:37:02.090 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: Docker
2025-04-23 19:37:02.090 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: Docker
2025-04-23 19:37:02.095 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@29a57d08
2025-04-23 19:37:02.213 [http-nio-8080-exec-7] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 19:37:02.394 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 32 записей
2025-04-23 19:37:02.394 [http-nio-8080-exec-7] INFO  c.c.lab_1.service.ReportService - Найдено 32 лекций по термину 'Docker'
2025-04-23 19:37:02.394 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 32 лекций
2025-04-23 19:37:02.394 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [13, 30, 37, 108, 110, 111, 115, 117, 121, 129, 131, 155, 163, 209, 220, 267, 277, 298, 306, 308, 322, 363, 379, 383, 389, 403, 416, 422, 493, 547, 565, 581], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 19:37:02.427 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 19:37:02.686 [http-nio-8080-exec-7] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-04-23 19:37:02.686 [http-nio-8080-exec-7] INFO  org.jooq.Constants - 

jOOQ tip of the day: Multi tenancy is best implemented in jOOQ using runtime schema and table mapping: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-render-mapping/

2025-04-23 19:37:02.680 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    13, 30, 37, 108, 110, 111, 115, 117, 121, 129, 131, 155, 163, 209, 220, 267, 
    277, 298, 306, 308, 322, 363, 379, 383, 389, 403, 416, 422, 493, 547, 565, 581
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 19:37:02.761 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 19:37:02.763 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (13, 30, 37, 108, 110, 111, 115, 117, 121, 129, 131, 155, 163, 209, 220, 267, 277, 298, 306, 308, 322, 363, 379, 383, 389, 403, 416, 422, 493, 547, 565, 581) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 19:37:02.764 [http-nio-8080-exec-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-23 19:37:02.887 [http-nio-8080-exec-7] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@288931c0
2025-04-23 19:37:02.888 [http-nio-8080-exec-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-23 19:37:02.895 [http-nio-8080-exec-7] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +------------+-----+--------+----------+
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |id_student  |total|attended|percentage|
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S28371820028|    8|       0|       0  |
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S1417830017 |    8|       3|      37.5|
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S114170017  |    8|       3|      37.5|
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S1314700011 |    8|       3|      37.5|
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S1416790026 |    8|       3|      37.5|
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 19:37:02.994 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 19:37:02.997 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S28371820028: всего занятий 8, посещено 0, процент 0.0%
2025-04-23 19:37:02.998 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S1417830017: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:02.999 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S114170017: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S1314700011: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S1416790026: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S1417820015: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S114200006: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S114180013: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S1314690004: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент S1416760010: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:03.000 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 19:37:03.001 [http-nio-8080-exec-7] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 19:37:03.001 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 19:37:03.001 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S28371820028, S1417830017, S114170017, S1314700011, S1416790026, S1417820015, S114200006, S114180013, S1314690004, S1416760010]
2025-04-23 19:37:03.017 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S28371820028', 'S1417830017', 'S114170017', 'S1314700011', 'S1416790026', 'S1417820015', 
  'S114200006', 'S114180013', 'S1314690004', 'S1416760010'
)
2025-04-23 19:37:03.021 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 19:37:03.023 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S28371820028', 'S1417830017', 'S114170017', 'S1314700011', 'S1416790026', 'S1417820015', 'S114200006', 'S114180013', 'S1314690004', 'S1416760010')
2025-04-23 19:37:03.029 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+-------------------------------+----------------------------+----------+--------------------------+----------------------------------+---------------+-------------------+
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                       |email                       |group_name|department_name           |institute_name                    |university_name|redis_key          |
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+-------------------------------+----------------------------+----------+--------------------------+----------------------------------+---------------+-------------------+
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S114170017    |Молчанов Андроник Исидорович   |andronikm1997@edu.mirea.ru  |БСБО-52-18|Кафедра системного анализа|Институт информационных технологий|РТУ МИРЭА      |student:S114170017 |
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S114180013    |Григорьева Маргарита Кирилловна|margaritag2001@edu.mirea.ru |БСБО-46-22|Кафедра системного анализа|Институт информационных технологий|РТУ МИРЭА      |student:S114180013 |
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S114200006    |Фаина Григорьевна Новикова     |grigorevnaf1997@edu.mirea.ru|БСБО-20-19|Кафедра системного анализа|Институт информационных технологий|РТУ МИРЭА      |student:S114200006 |
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S1314690004   |Суворова Анастасия Артемовна   |anastasiyas2000@edu.mirea.ru|БСБО-28-18|Кафедра системного анализа|Институт экономики и управления   |РТУ МИРЭА      |student:S1314690004|
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |S1314700011   |Кабанов Пимен Евсеевич         |pimenk2003@edu.mirea.ru     |БСБО-02-21|Кафедра системного анализа|Институт экономики и управления   |РТУ МИРЭА      |student:S1314700011|
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+-------------------------------+----------------------------+----------+--------------------------+----------------------------------+---------------+-------------------+
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 19:37:03.030 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Молчанов Андроник Исидорович, группа: БСБО-52-18, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 19:37:03.032 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Григорьева Маргарита Кирилловна, группа: БСБО-46-22, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 19:37:03.032 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Фаина Григорьевна Новикова, группа: БСБО-20-19, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 19:37:03.032 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Суворова Анастасия Артемовна, группа: БСБО-28-18, кафедра: Кафедра системного анализа, институт: Институт экономики и управления, университет: РТУ МИРЭА
2025-04-23 19:37:03.032 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Кабанов Пимен Евсеевич, группа: БСБО-02-21, кафедра: Кафедра системного анализа, институт: Институт экономики и управления, университет: РТУ МИРЭА
2025-04-23 19:37:03.032 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Корнилова Елизавета Даниловна, группа: БСБО-71-23, кафедра: Кафедра информатики, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 19:37:03.033 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Бобылева Нина Леонидовна, группа: БСБО-12-15, кафедра: Кафедра информатики, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 19:37:03.033 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Мартын Ильясович Наумов, группа: БСБО-30-15, кафедра: Кафедра кибербезопасности, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 19:37:03.033 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Ирина Болеславовна Шарова, группа: БСБО-73-17, кафедра: Кафедра кибербезопасности, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 19:37:03.033 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Студент: Мария Харитоновна Игнатова, группа: БСБО-67-19, кафедра: Кафедра кибербезопасности, институт: Институт тонких химических технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 19:37:03.033 [http-nio-8080-exec-7] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 19:37:03.033 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 19:37:03.033 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S114170017
2025-04-23 19:37:03.352 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Молчанов Андроник Исидорович, email=andronikm1997@edu.mirea.ru, group_id=17, group_name=БСБО-52-18, redis_key=student:S114170017}
2025-04-23 19:37:03.353 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-52-18
2025-04-23 19:37:03.354 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Молчанов Андроник Исидорович, посещаемость: 37.5%
2025-04-23 19:37:03.354 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S114180013
2025-04-23 19:37:03.355 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Григорьева Маргарита Кирилловна, email=margaritag2001@edu.mirea.ru, group_id=18, group_name=БСБО-46-22, redis_key=student:S114180013}
2025-04-23 19:37:03.355 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-46-22
2025-04-23 19:37:03.355 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Григорьева Маргарита Кирилловна, посещаемость: 37.5%
2025-04-23 19:37:03.355 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S114200006
2025-04-23 19:37:03.357 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Фаина Григорьевна Новикова, email=grigorevnaf1997@edu.mirea.ru, group_id=20, group_name=БСБО-20-19, redis_key=student:S114200006}
2025-04-23 19:37:03.357 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-20-19
2025-04-23 19:37:03.357 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Фаина Григорьевна Новикова, посещаемость: 37.5%
2025-04-23 19:37:03.357 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1314690004
2025-04-23 19:37:03.358 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Суворова Анастасия Артемовна, email=anastasiyas2000@edu.mirea.ru, group_id=69, group_name=БСБО-28-18, redis_key=student:S1314690004}
2025-04-23 19:37:03.358 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-28-18
2025-04-23 19:37:03.358 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Суворова Анастасия Артемовна, посещаемость: 37.5%
2025-04-23 19:37:03.358 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1314700011
2025-04-23 19:37:03.359 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Кабанов Пимен Евсеевич, email=pimenk2003@edu.mirea.ru, group_id=70, group_name=БСБО-02-21, redis_key=student:S1314700011}
2025-04-23 19:37:03.359 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-02-21
2025-04-23 19:37:03.359 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Кабанов Пимен Евсеевич, посещаемость: 37.5%
2025-04-23 19:37:03.360 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1416760010
2025-04-23 19:37:03.360 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Корнилова Елизавета Даниловна, email=elizavetak2001@edu.mirea.ru, group_id=76, group_name=БСБО-71-23, redis_key=student:S1416760010}
2025-04-23 19:37:03.360 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-71-23
2025-04-23 19:37:03.360 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Корнилова Елизавета Даниловна, посещаемость: 37.5%
2025-04-23 19:37:03.360 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1416790026
2025-04-23 19:37:03.361 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Бобылева Нина Леонидовна, email=ninab1994@edu.mirea.ru, group_id=79, group_name=БСБО-12-15, redis_key=student:S1416790026}
2025-04-23 19:37:03.361 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-12-15
2025-04-23 19:37:03.361 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Бобылева Нина Леонидовна, посещаемость: 37.5%
2025-04-23 19:37:03.361 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1417820015
2025-04-23 19:37:03.362 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Мартын Ильясович Наумов, email=ilyasovichm1993@edu.mirea.ru, group_id=82, group_name=БСБО-30-15, redis_key=student:S1417820015}
2025-04-23 19:37:03.362 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-30-15
2025-04-23 19:37:03.362 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Мартын Ильясович Наумов, посещаемость: 37.5%
2025-04-23 19:37:03.362 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1417830017
2025-04-23 19:37:03.363 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Ирина Болеславовна Шарова, email=boleslavovnai1998@edu.mirea.ru, group_id=83, group_name=БСБО-73-17, redis_key=student:S1417830017}
2025-04-23 19:37:03.363 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-73-17
2025-04-23 19:37:03.363 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Ирина Болеславовна Шарова, посещаемость: 37.5%
2025-04-23 19:37:03.363 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S28371820028
2025-04-23 19:37:03.364 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Мария Харитоновна Игнатова, email=haritonovnam1997@edu.mirea.ru, group_id=182, group_name=БСБО-67-19, redis_key=student:S28371820028}
2025-04-23 19:37:03.365 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-67-19
2025-04-23 19:37:03.365 [http-nio-8080-exec-7] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Мария Харитоновна Игнатова, посещаемость: 0.0%
2025-04-23 19:37:03.365 [http-nio-8080-exec-7] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 19:37:03.365 [http-nio-8080-exec-7] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 19:37:03.379 [http-nio-8080-exec-7] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@1881c461} - {200} ({1295} мс)
2025-04-23 19:37:21.378 [http-nio-8080-exec-8] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 2380ba87-1cfc-42fe-9e65-f3b054244666: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 19:37:21.378 [http-nio-8080-exec-8] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 19:37:21.382 [http-nio-8080-exec-8] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=Api, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 19:37:21.382 [http-nio-8080-exec-8] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=Api, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 19:37:21.383 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 19:37:21.383 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 19:37:21.383 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: Api
2025-04-23 19:37:21.383 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: Api
2025-04-23 19:37:21.383 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@5778517d
2025-04-23 19:37:21.393 [http-nio-8080-exec-8] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 19:37:21.399 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 35 записей
2025-04-23 19:37:21.400 [http-nio-8080-exec-8] INFO  c.c.lab_1.service.ReportService - Найдено 35 лекций по термину 'Api'
2025-04-23 19:37:21.400 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 35 лекций
2025-04-23 19:37:21.400 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [1, 15, 106, 60, 114, 118, 122, 133, 184, 195, 203, 207, 219, 242, 302, 324, 331, 339, 378, 386, 390, 402, 405, 430, 431, 468, 516, 518, 524, 527, 558, 568, 579, 589, 592], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 19:37:21.400 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 19:37:21.400 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    1, 15, 106, 60, 114, 118, 122, 133, 184, 195, 203, 207, 219, 242, 302, 324, 
    331, 339, 378, 386, 390, 402, 405, 430, 431, 468, 516, 518, 524, 527, 558, 568, 
    579, 589, 592
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 19:37:21.403 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 19:37:21.404 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (1, 15, 106, 60, 114, 118, 122, 133, 184, 195, 203, 207, 219, 242, 302, 324, 331, 339, 378, 386, 390, 402, 405, 430, 431, 468, 516, 518, 524, 527, 558, 568, 579, 589, 592) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 19:37:21.459 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +-------------+-----+--------+----------+
2025-04-23 19:37:21.459 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |id_student   |total|attended|percentage|
2025-04-23 19:37:21.459 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 19:37:21.459 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S310472350007|    8|       1|      12.5|
2025-04-23 19:37:21.459 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S126280019   |    8|       2|      25  |
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S27311510024 |    8|       2|      25  |
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S1419920004  |    8|       3|      37.5|
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S1314700022  |    8|       3|      37.5|
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S310472350007: всего занятий 8, посещено 1, процент 12.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S126280019: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S27311510024: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S1419920004: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S1314700022: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S1419910003: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S1314670013: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S11120015: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S11140014: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S1314690021: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 19:37:21.460 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S310472350007, S126280019, S27311510024, S1419920004, S1314700022, S1419910003, S1314670013, S11120015, S11140014, S1314690021]
2025-04-23 19:37:21.461 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S310472350007', 'S126280019', 'S27311510024', 'S1419920004', 'S1314700022', 'S1419910003', 
  'S1314670013', 'S11120015', 'S11140014', 'S1314690021'
)
2025-04-23 19:37:21.462 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 19:37:21.462 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S310472350007', 'S126280019', 'S27311510024', 'S1419920004', 'S1314700022', 'S1419910003', 'S1314670013', 'S11120015', 'S11140014', 'S1314690021')
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+-------------------------------+----------------------------+----------+--------------------------+----------------------------------+---------------+-------------------+
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                       |email                       |group_name|department_name           |institute_name                    |university_name|redis_key          |
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+-------------------------------+----------------------------+----------+--------------------------+----------------------------------+---------------+-------------------+
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S11120015     |Ксения Аскольдовна Евсеева     |askoldovnak2002@edu.mirea.ru|БСБО-47-19|Кафедра информатики       |Институт информационных технологий|РТУ МИРЭА      |student:S11120015  |
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S11140014     |Ферапонт Федосьевич Никифоров  |fedosevichf2001@edu.mirea.ru|БСБО-73-20|Кафедра информатики       |Институт информационных технологий|РТУ МИРЭА      |student:S11140014  |
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S126280019    |Медведева Анжела Святославовна |anzhelam2003@edu.mirea.ru   |БСБО-09-20|Кафедра информатики       |Институт кибербезопасности        |РТУ МИРЭА      |student:S126280019 |
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S1314670013   |Евфросиния Степановна Капустина|stepanovnae2004@edu.mirea.ru|БСБО-57-23|Кафедра системного анализа|Институт экономики и управления   |РТУ МИРЭА      |student:S1314670013|
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S1314690021   |Вишняков Аверкий Аксёнович     |averkiyv1996@edu.mirea.ru   |БСБО-28-18|Кафедра системного анализа|Институт экономики и управления   |РТУ МИРЭА      |student:S1314690021|
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+-------------------------------+----------------------------+----------+--------------------------+----------------------------------+---------------+-------------------+
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Ксения Аскольдовна Евсеева, группа: БСБО-47-19, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 19:37:21.466 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Ферапонт Федосьевич Никифоров, группа: БСБО-73-20, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Медведева Анжела Святославовна, группа: БСБО-09-20, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: РТУ МИРЭА
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Евфросиния Степановна Капустина, группа: БСБО-57-23, кафедра: Кафедра системного анализа, институт: Институт экономики и управления, университет: РТУ МИРЭА
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Вишняков Аверкий Аксёнович, группа: БСБО-28-18, кафедра: Кафедра системного анализа, институт: Институт экономики и управления, университет: РТУ МИРЭА
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: г-жа Брагина Дарья Алексеевна, группа: БСБО-02-21, кафедра: Кафедра системного анализа, институт: Институт экономики и управления, университет: РТУ МИРЭА
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Фока Антипович Дьячков, группа: БСБО-72-16, кафедра: Кафедра системного анализа, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Евдокимов Селиван Бориславович, группа: БСБО-26-19, кафедра: Кафедра системного анализа, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Каллистрат Давыдович Анисимов, группа: БСБО-09-20, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Спиридон Фёдорович Некрасов, группа: БСБО-36-18, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГТУ им. Н.Э. Баумана
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 19:37:21.467 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S11120015
2025-04-23 19:37:21.469 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Ксения Аскольдовна Евсеева, email=askoldovnak2002@edu.mirea.ru, group_id=2, group_name=БСБО-47-19, redis_key=student:S11120015}
2025-04-23 19:37:21.469 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-47-19
2025-04-23 19:37:21.469 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Ксения Аскольдовна Евсеева, посещаемость: 37.5%
2025-04-23 19:37:21.469 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S11140014
2025-04-23 19:37:21.470 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Ферапонт Федосьевич Никифоров, email=fedosevichf2001@edu.mirea.ru, group_id=4, group_name=БСБО-73-20, redis_key=student:S11140014}
2025-04-23 19:37:21.470 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-73-20
2025-04-23 19:37:21.470 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Ферапонт Федосьевич Никифоров, посещаемость: 37.5%
2025-04-23 19:37:21.470 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S126280019
2025-04-23 19:37:21.472 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Медведева Анжела Святославовна, email=anzhelam2003@edu.mirea.ru, group_id=28, group_name=БСБО-09-20, redis_key=student:S126280019}
2025-04-23 19:37:21.472 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-09-20
2025-04-23 19:37:21.472 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Медведева Анжела Святославовна, посещаемость: 25.0%
2025-04-23 19:37:21.472 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1314670013
2025-04-23 19:37:21.473 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Евфросиния Степановна Капустина, email=stepanovnae2004@edu.mirea.ru, group_id=67, group_name=БСБО-57-23, redis_key=student:S1314670013}
2025-04-23 19:37:21.473 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-57-23
2025-04-23 19:37:21.473 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Евфросиния Степановна Капустина, посещаемость: 37.5%
2025-04-23 19:37:21.473 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1314690021
2025-04-23 19:37:21.475 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Вишняков Аверкий Аксёнович, email=averkiyv1996@edu.mirea.ru, group_id=69, group_name=БСБО-28-18, redis_key=student:S1314690021}
2025-04-23 19:37:21.475 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-28-18
2025-04-23 19:37:21.475 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Вишняков Аверкий Аксёнович, посещаемость: 37.5%
2025-04-23 19:37:21.475 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1314700022
2025-04-23 19:37:21.477 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=г-жа Брагина Дарья Алексеевна, email=braginag1999@edu.mirea.ru, group_id=70, group_name=БСБО-02-21, redis_key=student:S1314700022}
2025-04-23 19:37:21.477 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-02-21
2025-04-23 19:37:21.477 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: г-жа Брагина Дарья Алексеевна, посещаемость: 37.5%
2025-04-23 19:37:21.477 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1419910003
2025-04-23 19:37:21.478 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Фока Антипович Дьячков, email=antipovichf1998@edu.mirea.ru, group_id=91, group_name=БСБО-72-16, redis_key=student:S1419910003}
2025-04-23 19:37:21.478 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-72-16
2025-04-23 19:37:21.478 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Фока Антипович Дьячков, посещаемость: 37.5%
2025-04-23 19:37:21.478 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1419920004
2025-04-23 19:37:21.479 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Евдокимов Селиван Бориславович, email=selivane1998@edu.mirea.ru, group_id=92, group_name=БСБО-26-19, redis_key=student:S1419920004}
2025-04-23 19:37:21.479 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-26-19
2025-04-23 19:37:21.479 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Евдокимов Селиван Бориславович, посещаемость: 37.5%
2025-04-23 19:37:21.480 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311510024
2025-04-23 19:37:21.481 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Каллистрат Давыдович Анисимов, email=davydovichk2002@edu.mirea.ru, group_id=151, group_name=БСБО-09-20, redis_key=student:S27311510024}
2025-04-23 19:37:21.481 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-09-20
2025-04-23 19:37:21.481 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Каллистрат Давыдович Анисимов, посещаемость: 25.0%
2025-04-23 19:37:21.481 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S310472350007
2025-04-23 19:37:21.482 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Спиридон Фёдорович Некрасов, email=fedorovichs1999@edu.mirea.ru, group_id=235, group_name=БСБО-36-18, redis_key=student:S310472350007}
2025-04-23 19:37:21.483 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-36-18
2025-04-23 19:37:21.483 [http-nio-8080-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Спиридон Фёдорович Некрасов, посещаемость: 12.5%
2025-04-23 19:37:21.483 [http-nio-8080-exec-8] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 19:37:21.483 [http-nio-8080-exec-8] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 19:37:21.485 [http-nio-8080-exec-8] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@59bfa5e2} - {200} ({107} мс)
2025-04-23 19:37:53.105 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 19:37:53.181 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 19:37:53.315 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 439513824
2025-04-23 19:37:53.569 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-23 19:37:53.572 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-23 20:35:37.699 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 1984 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 20:35:37.700 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 20:35:37.701 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 20:35:38.846 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-23 20:35:38.854 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 20:35:38.854 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 20:35:38.881 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 20:35:38.882 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1145 ms
2025-04-23 20:35:38.924 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 20:35:38.925 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 20:35:38.925 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 20:35:38.980 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 20:35:38.981 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 20:35:39.699 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 20:35:40.106 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1822a61b, com.mongodb.Jep395RecordCodecProvider@240f712e, com.mongodb.KotlinCodecProvider@3e7ddb7e]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 20:35:40.130 [cluster-ClusterId{value='680924ecab22ac2fddcefe44', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=25296208, minRoundTripTimeNanos=0}
2025-04-23 20:35:40.231 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 585257927 created for server address localhost:7687
2025-04-23 20:35:40.564 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-04-23 20:35:40.564 [main] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 585257927
2025-04-23 20:35:40.802 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23 20:35:40.811 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-04-23 20:36:35.005 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 2023 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 20:36:35.006 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 20:36:35.007 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 20:36:35.982 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 20:36:35.991 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 20:36:35.992 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 20:36:36.021 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 20:36:36.021 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 991 ms
2025-04-23 20:36:36.063 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 20:36:36.063 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 20:36:36.063 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 20:36:36.118 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 20:36:36.119 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 20:36:36.886 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 20:36:37.316 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5feb8e9a, com.mongodb.Jep395RecordCodecProvider@6d5d1204, com.mongodb.KotlinCodecProvider@1784a296]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 20:36:37.327 [cluster-ClusterId{value='680925257d978742e94d0570', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=12733208, minRoundTripTimeNanos=0}
2025-04-23 20:36:37.444 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 682914321 created for server address localhost:7687
2025-04-23 20:36:37.672 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 20:36:37.680 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.898 seconds (process running for 3.222)
2025-04-23 20:37:04.578 [http-nio-8081-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 20:37:04.578 [http-nio-8081-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 20:37:04.579 [http-nio-8081-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 20:37:04.582 [http-nio-8081-exec-2] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса e1ebd5c9-2708-459f-8ca8-f00a82eb50f2: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 20:37:04.584 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 20:37:04.593 [http-nio-8081-exec-2] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 20:37:04.748 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@1abad5e2} - {200} ({164} мс)
2025-04-23 20:37:27.788 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 067d8c8f-f170-47ee-9f99-0c94ddaee1cb: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:37:27.790 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:37:27.793 [http-nio-8081-exec-3] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /reports/attendance
2025-04-23 20:37:27.794 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2919b211} - {403} ({4} мс)
2025-04-23 20:37:48.792 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса b46479db-8fb6-4bbd-8d08-f427f1b1c619: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:37:48.792 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:37:48.793 [http-nio-8081-exec-4] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /reports/attendance
2025-04-23 20:37:48.793 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@4ff0bbdf} - {403} ({1} мс)
2025-04-23 20:38:38.651 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 20:38:38.653 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 20:38:38.771 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 682914321
2025-04-23 20:39:22.654 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 2082 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 20:39:22.655 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 20:39:22.655 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 20:39:23.652 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 20:39:23.660 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 20:39:23.661 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 20:39:23.690 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 20:39:23.690 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1010 ms
2025-04-23 20:39:23.733 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 20:39:23.734 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 20:39:23.734 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 20:39:23.793 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 20:39:23.793 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 20:39:24.545 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 20:39:24.978 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7d3a2459, com.mongodb.Jep395RecordCodecProvider@7d5cbcc9, com.mongodb.KotlinCodecProvider@3833897c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 20:39:24.990 [cluster-ClusterId{value='680925cc65bc7e28eaa1b1d6', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=13308458, minRoundTripTimeNanos=0}
2025-04-23 20:39:25.094 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 814945818 created for server address localhost:7687
2025-04-23 20:39:25.326 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 20:39:25.334 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.902 seconds (process running for 3.213)
2025-04-23 20:40:26.428 [http-nio-8081-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 20:40:26.429 [http-nio-8081-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 20:40:26.430 [http-nio-8081-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 20:40:26.433 [http-nio-8081-exec-2] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 5fb06ff5-4b5e-4a30-b9ed-39044210c7d7: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 20:40:26.434 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 20:40:26.443 [http-nio-8081-exec-2] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 20:40:26.581 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@51bcdc8d} - {200} ({147} мс)
2025-04-23 20:41:12.798 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса d7647134-6e39-4973-afc2-e3546efbdce3: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:41:12.800 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:41:12.801 [http-nio-8081-exec-3] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /reports/attendance
2025-04-23 20:41:12.801 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2a189dd} - {403} ({1} мс)
2025-04-23 20:41:32.581 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 20:41:32.583 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 20:41:32.697 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 814945818
2025-04-23 20:51:44.306 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 2538 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 20:51:44.307 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 20:51:44.307 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 20:51:45.270 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 20:51:45.279 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 20:51:45.279 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 20:51:45.305 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 20:51:45.306 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 973 ms
2025-04-23 20:51:45.344 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 20:51:45.345 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 20:51:45.345 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 20:51:45.394 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 20:51:45.394 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 20:51:46.124 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 20:51:46.538 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4d682397, com.mongodb.Jep395RecordCodecProvider@444ebefd, com.mongodb.KotlinCodecProvider@2ecf4b3e]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 20:51:46.556 [cluster-ClusterId{value='680928b22889161fe6145042', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=19836250, minRoundTripTimeNanos=0}
2025-04-23 20:51:46.657 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 333825340 created for server address localhost:7687
2025-04-23 20:51:46.883 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 20:51:46.891 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.809 seconds (process running for 3.185)
2025-04-23 20:52:01.022 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 20:52:01.022 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 20:52:01.023 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 20:52:01.026 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 7c99e6fa-f5f7-4894-8c17-30dcacb02535: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 20:52:01.028 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 20:52:01.039 [http-nio-8081-exec-1] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 20:52:01.192 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@23e360a6} - {200} ({165} мс)
2025-04-23 20:52:17.523 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса d1a7b87d-c539-4966-8724-ea6f9df6a3fb: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:52:17.523 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:52:17.526 [http-nio-8081-exec-3] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /reports/attendance
2025-04-23 20:52:17.526 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@796df7bf} - {403} ({3} мс)
2025-04-23 20:52:46.284 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 6cba9da0-bb52-4f70-b360-6c4f8983f052: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:52:46.285 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:52:46.286 [http-nio-8081-exec-4] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /reports/attendance
2025-04-23 20:52:46.286 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@56d0f5b1} - {403} ({1} мс)
2025-04-23 20:53:23.755 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 20:53:23.757 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 20:53:23.876 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 333825340
2025-04-23 20:56:55.176 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 2610 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 20:56:55.177 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 20:56:55.177 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 20:56:56.219 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 20:56:56.228 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 20:56:56.228 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 20:56:56.254 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 20:56:56.254 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1051 ms
2025-04-23 20:56:56.294 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 20:56:56.294 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 20:56:56.294 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 20:56:56.348 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 20:56:56.349 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 20:56:57.105 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 20:56:57.553 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@3833897c, com.mongodb.Jep395RecordCodecProvider@519eab1e, com.mongodb.KotlinCodecProvider@7d2a4598]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 20:56:57.571 [cluster-ClusterId{value='680929e9871b6a30c827a7ad', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=17852125, minRoundTripTimeNanos=0}
2025-04-23 20:56:57.693 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 633964087 created for server address localhost:7687
2025-04-23 20:56:57.916 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 20:56:57.924 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.965 seconds (process running for 3.318)
2025-04-23 20:57:16.989 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 20:57:16.989 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 20:57:16.990 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 20:57:16.994 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса a61e762a-8cd4-4c25-b423-ff58538e347d: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:57:16.996 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:57:17.010 [http-nio-8081-exec-1] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 20:57:17.092 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@34698d2f} - {403} ({97} мс)
2025-04-23 20:58:35.101 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 4f240206-8400-4c61-b10a-b9dcce330416: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 20:58:35.101 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 20:58:35.102 [http-nio-8081-exec-3] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 20:58:35.206 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@12fd9ec5} - {200} ({105} мс)
2025-04-23 20:59:14.144 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 1b8e060d-f702-4ecd-887b-9d110ac67585: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:59:14.147 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:59:14.149 [http-nio-8081-exec-4] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 20:59:14.164 [http-nio-8081-exec-4] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:14.165 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:14.165 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 20:59:14.166 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 20:59:14.166 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: Docker
2025-04-23 20:59:14.166 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: Docker
2025-04-23 20:59:14.169 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@4b854aa1
2025-04-23 20:59:14.308 [http-nio-8081-exec-4] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 20:59:14.435 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 39 записей
2025-04-23 20:59:14.436 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Найдено 39 лекций по термину 'Docker'
2025-04-23 20:59:14.436 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 39 лекций
2025-04-23 20:59:14.436 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 20:59:14.456 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 20:59:14.681 [http-nio-8081-exec-4] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-04-23 20:59:14.681 [http-nio-8081-exec-4] INFO  org.jooq.Constants - 

jOOQ tip of the day: In order to improve cardinality estimates, it can be valuable to auto-inline bind variables on certain columns, e.g. on enum types: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-auto-inline-bind-values/

2025-04-23 20:59:14.677 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 
    298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 
    491, 493, 532, 574, 584, 598
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 20:59:14.732 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 20:59:14.734 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 20:59:14.735 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-23 20:59:14.831 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6efeac9c
2025-04-23 20:59:14.832 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-23 20:59:14.837 [http-nio-8081-exec-4] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +------------+-----+--------+----------+
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |id_student  |total|attended|percentage|
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S27311540026|    8|       2|      25  |
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S39432150002|    8|       2|      25  |
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S27311550019|    8|       3|      37.5|
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S26301460001|    8|       3|      37.5|
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009   |    8|       3|      37.5|
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 20:59:14.976 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 20:59:14.978 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S27311540026: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S39432150002: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S27311550019: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S26301460001: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S11290009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S126300009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S26271310025: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S25211030024: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S26271340027: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент S27311530007: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 20:59:14.979 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S27311540026, S39432150002, S27311550019, S26301460001, S11290009, S126300009, S26271310025, S25211030024, S26271340027, S27311530007]
2025-04-23 20:59:14.986 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 
  'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007'
)
2025-04-23 20:59:14.988 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 20:59:14.988 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007')
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                    |email                      |group_name|department_name          |institute_name                    |university_name        |redis_key           |
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009     |Никандр Фокич Афанасьев     |fokichn1996@edu.mirea.ru   |БСБО-63-17|Кафедра кибербезопасности|Институт информационных технологий|РТУ МИРЭА              |student:S11290009   |
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S126300009    |Мясников Добромысл Ааронович|dobromyslm1998@edu.mirea.ru|БСБО-53-16|Кафедра информатики      |Институт кибербезопасности        |РТУ МИРЭА              |student:S126300009  |
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S25211030024  |Федоров Лавр Васильевич     |lavrf2004@edu.mirea.ru     |БСБО-62-21|Кафедра информатики      |Институт информационных технологий|МГУ им. М.В. Ломоносова|student:S25211030024|
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S26271310025  |Орлов Ювеналий Адрианович   |yuvenaliyo2000@edu.mirea.ru|БСБО-10-21|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271310025|
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |S26271340027  |Федосеев Измаил Григорьевич |izmailf2003@edu.mirea.ru   |БСБО-37-23|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271340027|
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 20:59:14.994 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Никандр Фокич Афанасьев, группа: БСБО-63-17, кафедра: Кафедра кибербезопасности, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Мясников Добромысл Ааронович, группа: БСБО-53-16, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: РТУ МИРЭА
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Федоров Лавр Васильевич, группа: БСБО-62-21, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Орлов Ювеналий Адрианович, группа: БСБО-10-21, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Федосеев Измаил Григорьевич, группа: БСБО-37-23, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Пелагея Феликсовна Лебедева, группа: БСБО-68-19, кафедра: Кафедра программной инженерии, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Селиван Валентинович Ефремов, группа: БСБО-97-20, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Эмилия Ильинична Николаева, группа: БСБО-83-19, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:14.995 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Наталья Алексеевна Бобылева, группа: БСБО-99-17, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:14.996 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Студент: Миронов Любим Григорьевич, группа: БСБО-84-17, кафедра: Кафедра прикладной математики, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 20:59:14.996 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 20:59:14.996 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 20:59:14.996 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S11290009
2025-04-23 20:59:15.197 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Никандр Фокич Афанасьев, email=fokichn1996@edu.mirea.ru, group_id=9, group_name=БСБО-63-17, redis_key=student:S11290009}
2025-04-23 20:59:15.197 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-63-17
2025-04-23 20:59:15.198 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Никандр Фокич Афанасьев, посещаемость: 37.5%
2025-04-23 20:59:15.198 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S126300009
2025-04-23 20:59:15.199 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Мясников Добромысл Ааронович, email=dobromyslm1998@edu.mirea.ru, group_id=30, group_name=БСБО-53-16, redis_key=student:S126300009}
2025-04-23 20:59:15.199 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-53-16
2025-04-23 20:59:15.199 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Мясников Добромысл Ааронович, посещаемость: 37.5%
2025-04-23 20:59:15.199 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211030024
2025-04-23 20:59:15.200 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федоров Лавр Васильевич, email=lavrf2004@edu.mirea.ru, group_id=103, group_name=БСБО-62-21, redis_key=student:S25211030024}
2025-04-23 20:59:15.200 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-62-21
2025-04-23 20:59:15.200 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федоров Лавр Васильевич, посещаемость: 37.5%
2025-04-23 20:59:15.200 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271310025
2025-04-23 20:59:15.201 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Орлов Ювеналий Адрианович, email=yuvenaliyo2000@edu.mirea.ru, group_id=131, group_name=БСБО-10-21, redis_key=student:S26271310025}
2025-04-23 20:59:15.201 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-10-21
2025-04-23 20:59:15.201 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Орлов Ювеналий Адрианович, посещаемость: 37.5%
2025-04-23 20:59:15.201 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271340027
2025-04-23 20:59:15.202 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федосеев Измаил Григорьевич, email=izmailf2003@edu.mirea.ru, group_id=134, group_name=БСБО-37-23, redis_key=student:S26271340027}
2025-04-23 20:59:15.202 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-37-23
2025-04-23 20:59:15.202 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федосеев Измаил Григорьевич, посещаемость: 37.5%
2025-04-23 20:59:15.202 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26301460001
2025-04-23 20:59:15.203 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Пелагея Феликсовна Лебедева, email=feliksovnap1997@edu.mirea.ru, group_id=146, group_name=БСБО-68-19, redis_key=student:S26301460001}
2025-04-23 20:59:15.203 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-68-19
2025-04-23 20:59:15.203 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Пелагея Феликсовна Лебедева, посещаемость: 37.5%
2025-04-23 20:59:15.203 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311530007
2025-04-23 20:59:15.204 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Селиван Валентинович Ефремов, email=valentinovichs1999@edu.mirea.ru, group_id=153, group_name=БСБО-97-20, redis_key=student:S27311530007}
2025-04-23 20:59:15.204 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-97-20
2025-04-23 20:59:15.204 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Селиван Валентинович Ефремов, посещаемость: 37.5%
2025-04-23 20:59:15.204 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311540026
2025-04-23 20:59:15.205 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Эмилия Ильинична Николаева, email=ilinichnae1998@edu.mirea.ru, group_id=154, group_name=БСБО-83-19, redis_key=student:S27311540026}
2025-04-23 20:59:15.205 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-83-19
2025-04-23 20:59:15.206 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Эмилия Ильинична Николаева, посещаемость: 25.0%
2025-04-23 20:59:15.206 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311550019
2025-04-23 20:59:15.207 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Наталья Алексеевна Бобылева, email=alekseevnan1995@edu.mirea.ru, group_id=155, group_name=БСБО-99-17, redis_key=student:S27311550019}
2025-04-23 20:59:15.207 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-99-17
2025-04-23 20:59:15.207 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Наталья Алексеевна Бобылева, посещаемость: 37.5%
2025-04-23 20:59:15.208 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39432150002
2025-04-23 20:59:15.208 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Миронов Любим Григорьевич, email=lyubimm1998@edu.mirea.ru, group_id=215, group_name=БСБО-84-17, redis_key=student:S39432150002}
2025-04-23 20:59:15.208 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-84-17
2025-04-23 20:59:15.209 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Миронов Любим Григорьевич, посещаемость: 25.0%
2025-04-23 20:59:15.209 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 20:59:15.209 [http-nio-8081-exec-4] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 20:59:15.222 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@679a0bbb} - {200} ({1075} мс)
2025-04-23 20:59:28.123 [http-nio-8081-exec-5] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 9bdb9340-f101-4aa1-9c40-1a114955ff6e: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:59:28.123 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:59:28.124 [http-nio-8081-exec-5] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 20:59:28.127 [http-nio-8081-exec-5] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=api, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:28.128 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=api, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:28.128 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 20:59:28.128 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 20:59:28.128 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: api
2025-04-23 20:59:28.128 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: api
2025-04-23 20:59:28.128 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@8f94d0b
2025-04-23 20:59:28.139 [http-nio-8081-exec-5] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 20:59:28.143 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 27 записей
2025-04-23 20:59:28.143 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Найдено 27 лекций по термину 'api'
2025-04-23 20:59:28.143 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 27 лекций
2025-04-23 20:59:28.143 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [22, 24, 31, 42, 64, 66, 157, 206, 209, 249, 258, 263, 302, 336, 337, 342, 379, 395, 413, 416, 456, 460, 483, 507, 535, 537, 585], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 20:59:28.144 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 20:59:28.144 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    22, 24, 31, 42, 64, 66, 157, 206, 209, 249, 258, 263, 302, 336, 337, 342, 379, 
    395, 413, 416, 456, 460, 483, 507, 535, 537, 585
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 20:59:28.147 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 20:59:28.148 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (22, 24, 31, 42, 64, 66, 157, 206, 209, 249, 258, 263, 302, 336, 337, 342, 379, 395, 413, 416, 456, 460, 483, 507, 535, 537, 585) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +------------+-----+--------+----------+
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |id_student  |total|attended|percentage|
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26261300006|    8|       3|      37.5|
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26261280000|    8|       3|      37.5|
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S115220016  |    8|       3|      37.5|
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26261280002|    8|       3|      37.5|
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S1416770025 |    8|       3|      37.5|
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26261300006: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26261280000: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S115220016: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26261280002: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S1416770025: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.198 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S25251230025: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S114200021: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S115220013: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S114180003: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26271350009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S26261300006, S26261280000, S115220016, S26261280002, S1416770025, S25251230025, S114200021, S115220013, S114180003, S26271350009]
2025-04-23 20:59:28.199 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S26261300006', 'S26261280000', 'S115220016', 'S26261280002', 'S1416770025', 'S25251230025', 
  'S114200021', 'S115220013', 'S114180003', 'S26271350009'
)
2025-04-23 20:59:28.200 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 20:59:28.201 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S26261300006', 'S26261280000', 'S115220016', 'S26261280002', 'S1416770025', 'S25251230025', 'S114200021', 'S115220013', 'S114180003', 'S26271350009')
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+---------------------------------+-------------------------------+----------+-----------------------------+-------------------------------------+---------------+-------------------+
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                         |email                          |group_name|department_name              |institute_name                       |university_name|redis_key          |
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+---------------------------------+-------------------------------+----------+-----------------------------+-------------------------------------+---------------+-------------------+
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S114180003    |Карл Ерофеевич Трофимов          |erofeevichk1995@edu.mirea.ru   |БСБО-52-15|Кафедра системного анализа   |Институт информационных технологий   |РТУ МИРЭА      |student:S114180003 |
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S114200021    |Самуил Авдеевич Силин            |avdeevichs2004@edu.mirea.ru    |БСБО-69-22|Кафедра системного анализа   |Институт информационных технологий   |РТУ МИРЭА      |student:S114200021 |
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S115220013    |Аполлинарий Владиленович Михайлов|vladilenovicha2000@edu.mirea.ru|БСБО-13-21|Кафедра программной инженерии|Институт информационных технологий   |РТУ МИРЭА      |student:S115220013 |
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S115220016    |Никандр Трифонович Кудряшов      |trifonovichn1999@edu.mirea.ru  |БСБО-13-21|Кафедра программной инженерии|Институт информационных технологий   |РТУ МИРЭА      |student:S115220016 |
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S1416770025   |Афанасьева Ия Антоновна          |iyaa1999@edu.mirea.ru          |БСБО-22-16|Кафедра информатики          |Институт тонких химических технологий|РТУ МИРЭА      |student:S1416770025|
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+---------------------------------+-------------------------------+----------+-----------------------------+-------------------------------------+---------------+-------------------+
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Карл Ерофеевич Трофимов, группа: БСБО-52-15, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Самуил Авдеевич Силин, группа: БСБО-69-22, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Аполлинарий Владиленович Михайлов, группа: БСБО-13-21, кафедра: Кафедра программной инженерии, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Никандр Трифонович Кудряшов, группа: БСБО-13-21, кафедра: Кафедра программной инженерии, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Афанасьева Ия Антоновна, группа: БСБО-22-16, кафедра: Кафедра информатики, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Виктория Максимовна Воронцова, группа: БСБО-40-17, кафедра: Кафедра программной инженерии, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Платон Гурьевич Колесников, группа: БСБО-37-22, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Никифоров Амос Ерофеевич, группа: БСБО-37-22, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Евпраксия Владимировна Лыткина, группа: БСБО-23-17, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Колесникова Анна Болеславовна, группа: БСБО-64-23, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 20:59:28.203 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S114180003
2025-04-23 20:59:28.204 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Карл Ерофеевич Трофимов, email=erofeevichk1995@edu.mirea.ru, group_id=18, group_name=БСБО-52-15, redis_key=student:S114180003}
2025-04-23 20:59:28.205 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-52-15
2025-04-23 20:59:28.205 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Карл Ерофеевич Трофимов, посещаемость: 37.5%
2025-04-23 20:59:28.205 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S114200021
2025-04-23 20:59:28.205 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Самуил Авдеевич Силин, email=avdeevichs2004@edu.mirea.ru, group_id=20, group_name=БСБО-69-22, redis_key=student:S114200021}
2025-04-23 20:59:28.205 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-69-22
2025-04-23 20:59:28.205 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Самуил Авдеевич Силин, посещаемость: 37.5%
2025-04-23 20:59:28.205 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S115220013
2025-04-23 20:59:28.206 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Аполлинарий Владиленович Михайлов, email=vladilenovicha2000@edu.mirea.ru, group_id=22, group_name=БСБО-13-21, redis_key=student:S115220013}
2025-04-23 20:59:28.206 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-13-21
2025-04-23 20:59:28.206 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Аполлинарий Владиленович Михайлов, посещаемость: 37.5%
2025-04-23 20:59:28.206 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S115220016
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Никандр Трифонович Кудряшов, email=trifonovichn1999@edu.mirea.ru, group_id=22, group_name=БСБО-13-21, redis_key=student:S115220016}
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-13-21
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Никандр Трифонович Кудряшов, посещаемость: 37.5%
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1416770025
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Афанасьева Ия Антоновна, email=iyaa1999@edu.mirea.ru, group_id=77, group_name=БСБО-22-16, redis_key=student:S1416770025}
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-22-16
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Афанасьева Ия Антоновна, посещаемость: 37.5%
2025-04-23 20:59:28.207 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25251230025
2025-04-23 20:59:28.208 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Виктория Максимовна Воронцова, email=maksimovnav1996@edu.mirea.ru, group_id=123, group_name=БСБО-40-17, redis_key=student:S25251230025}
2025-04-23 20:59:28.208 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-40-17
2025-04-23 20:59:28.208 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Виктория Максимовна Воронцова, посещаемость: 37.5%
2025-04-23 20:59:28.208 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26261280000
2025-04-23 20:59:28.209 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Платон Гурьевич Колесников, email=gurevichp2000@edu.mirea.ru, group_id=128, group_name=БСБО-37-22, redis_key=student:S26261280000}
2025-04-23 20:59:28.209 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-37-22
2025-04-23 20:59:28.209 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Платон Гурьевич Колесников, посещаемость: 37.5%
2025-04-23 20:59:28.209 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26261280002
2025-04-23 20:59:28.209 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Никифоров Амос Ерофеевич, email=amosn2000@edu.mirea.ru, group_id=128, group_name=БСБО-37-22, redis_key=student:S26261280002}
2025-04-23 20:59:28.209 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-37-22
2025-04-23 20:59:28.209 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Никифоров Амос Ерофеевич, посещаемость: 37.5%
2025-04-23 20:59:28.210 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26261300006
2025-04-23 20:59:28.210 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Евпраксия Владимировна Лыткина, email=vladimirovnae1998@edu.mirea.ru, group_id=130, group_name=БСБО-23-17, redis_key=student:S26261300006}
2025-04-23 20:59:28.210 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-23-17
2025-04-23 20:59:28.210 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Евпраксия Владимировна Лыткина, посещаемость: 37.5%
2025-04-23 20:59:28.210 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271350009
2025-04-23 20:59:28.211 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Колесникова Анна Болеславовна, email=annak2002@edu.mirea.ru, group_id=135, group_name=БСБО-64-23, redis_key=student:S26271350009}
2025-04-23 20:59:28.211 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-64-23
2025-04-23 20:59:28.212 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Колесникова Анна Болеславовна, посещаемость: 37.5%
2025-04-23 20:59:28.212 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 20:59:28.212 [http-nio-8081-exec-5] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 20:59:28.213 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@531792f2} - {200} ({90} мс)
2025-04-23 20:59:41.009 [http-nio-8081-exec-6] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса dd94e8ca-4302-478a-89db-b149049d6d31: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:59:41.011 [http-nio-8081-exec-6] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:59:41.012 [http-nio-8081-exec-6] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 20:59:41.015 [http-nio-8081-exec-6] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=Kubernetes, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:41.015 [http-nio-8081-exec-6] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=Kubernetes, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:41.015 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 20:59:41.015 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 20:59:41.015 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: Kubernetes
2025-04-23 20:59:41.015 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: Kubernetes
2025-04-23 20:59:41.015 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@5506bf75
2025-04-23 20:59:41.031 [http-nio-8081-exec-6] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 20:59:41.036 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 33 записей
2025-04-23 20:59:41.036 [http-nio-8081-exec-6] INFO  c.c.lab_1.service.ReportService - Найдено 33 лекций по термину 'Kubernetes'
2025-04-23 20:59:41.036 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 33 лекций
2025-04-23 20:59:41.036 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [17, 29, 35, 79, 99, 119, 129, 131, 150, 160, 176, 178, 228, 240, 251, 266, 270, 309, 328, 343, 361, 378, 384, 396, 397, 404, 415, 424, 426, 506, 560, 576, 583], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 20:59:41.036 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 20:59:41.036 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    17, 29, 35, 79, 99, 119, 129, 131, 150, 160, 176, 178, 228, 240, 251, 266, 270, 
    309, 328, 343, 361, 378, 384, 396, 397, 404, 415, 424, 426, 506, 560, 576, 583
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 20:59:41.038 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 20:59:41.038 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (17, 29, 35, 79, 99, 119, 129, 131, 150, 160, 176, 178, 228, 240, 251, 266, 270, 309, 328, 343, 361, 378, 384, 396, 397, 404, 415, 424, 426, 506, 560, 576, 583) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +-------------+-----+--------+----------+
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |id_student   |total|attended|percentage|
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S311512550010|    8|       2|        25|
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S1315750014  |    8|       2|        25|
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S27351750010 |    8|       2|        25|
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S28391910011 |    8|       2|        25|
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S28381890006 |    8|       2|        25|
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S311512550010: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S1315750014: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:41.102 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S27351750010: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:41.103 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S28391910011: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:41.103 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S28381890006: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:41.103 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S25241170013: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 20:59:41.103 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S114190029: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:41.103 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S113120002: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:41.104 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S1210470004: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:41.104 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент S113150004: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 20:59:41.104 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 20:59:41.104 [http-nio-8081-exec-6] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 20:59:41.104 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 20:59:41.104 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S311512550010, S1315750014, S27351750010, S28391910011, S28381890006, S25241170013, S114190029, S113120002, S1210470004, S113150004]
2025-04-23 20:59:41.105 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S311512550010', 'S1315750014', 'S27351750010', 'S28391910011', 'S28381890006', 
  'S25241170013', 'S114190029', 'S113120002', 'S1210470004', 'S113150004'
)
2025-04-23 20:59:41.109 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 20:59:41.110 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S311512550010', 'S1315750014', 'S27351750010', 'S28391910011', 'S28381890006', 'S25241170013', 'S114190029', 'S113120002', 'S1210470004', 'S113150004')
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+----------------------------+--------------------------+----------+-----------------------------+----------------------------------+---------------+-------------------+
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                    |email                     |group_name|department_name              |institute_name                    |university_name|redis_key          |
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+--------------------------+----------+-----------------------------+----------------------------------+---------------+-------------------+
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S113120002    |Варвара Павловна Шилова     |pavlovnav1999@edu.mirea.ru|БСБО-83-21|Кафедра прикладной математики|Институт информационных технологий|РТУ МИРЭА      |student:S113120002 |
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S113150004    |Белов Аполлон Арсенович     |apollonb1994@edu.mirea.ru |БСБО-21-16|Кафедра прикладной математики|Институт информационных технологий|РТУ МИРЭА      |student:S113150004 |
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S114190029    |Маркова Любовь Натановна    |lyubovm2001@edu.mirea.ru  |БСБО-61-23|Кафедра системного анализа   |Институт информационных технологий|РТУ МИРЭА      |student:S114190029 |
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S1210470004   |Максимова Марфа Альбертовна |marfam1998@edu.mirea.ru   |БСБО-53-20|Кафедра программной инженерии|Институт кибербезопасности        |РТУ МИРЭА      |student:S1210470004|
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |S1315750014   |Трофимов Аскольд Гавриилович|askoldt1994@edu.mirea.ru  |БСБО-56-16|Кафедра программной инженерии|Институт экономики и управления   |РТУ МИРЭА      |student:S1315750014|
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+--------------------------+----------+-----------------------------+----------------------------------+---------------+-------------------+
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 20:59:41.113 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Варвара Павловна Шилова, группа: БСБО-83-21, кафедра: Кафедра прикладной математики, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Белов Аполлон Арсенович, группа: БСБО-21-16, кафедра: Кафедра прикладной математики, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Маркова Любовь Натановна, группа: БСБО-61-23, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Максимова Марфа Альбертовна, группа: БСБО-53-20, кафедра: Кафедра программной инженерии, институт: Институт кибербезопасности, университет: РТУ МИРЭА
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Трофимов Аскольд Гавриилович, группа: БСБО-56-16, кафедра: Кафедра программной инженерии, институт: Институт экономики и управления, университет: РТУ МИРЭА
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Власов Ювеналий Феодосьевич, группа: БСБО-90-19, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Василиса Наумовна Богданова, группа: БСБО-03-17, кафедра: Кафедра программной инженерии, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Дьячкова Елена Никифоровна, группа: БСБО-98-15, кафедра: Кафедра прикладной математики, институт: Институт тонких химических технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Гурьева Глафира Мироновна, группа: БСБО-32-16, кафедра: Кафедра системного анализа, институт: Институт тонких химических технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Студент: Вероника Станиславовна Родионова, группа: БСБО-62-19, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГТУ им. Н.Э. Баумана
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 20:59:41.114 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S113120002
2025-04-23 20:59:41.119 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Варвара Павловна Шилова, email=pavlovnav1999@edu.mirea.ru, group_id=12, group_name=БСБО-83-21, redis_key=student:S113120002}
2025-04-23 20:59:41.120 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-83-21
2025-04-23 20:59:41.120 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Варвара Павловна Шилова, посещаемость: 37.5%
2025-04-23 20:59:41.120 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S113150004
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Белов Аполлон Арсенович, email=apollonb1994@edu.mirea.ru, group_id=15, group_name=БСБО-21-16, redis_key=student:S113150004}
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-21-16
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Белов Аполлон Арсенович, посещаемость: 37.5%
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S114190029
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Маркова Любовь Натановна, email=lyubovm2001@edu.mirea.ru, group_id=19, group_name=БСБО-61-23, redis_key=student:S114190029}
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-61-23
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Маркова Любовь Натановна, посещаемость: 37.5%
2025-04-23 20:59:41.121 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1210470004
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Максимова Марфа Альбертовна, email=marfam1998@edu.mirea.ru, group_id=47, group_name=БСБО-53-20, redis_key=student:S1210470004}
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-53-20
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Максимова Марфа Альбертовна, посещаемость: 37.5%
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1315750014
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Трофимов Аскольд Гавриилович, email=askoldt1994@edu.mirea.ru, group_id=75, group_name=БСБО-56-16, redis_key=student:S1315750014}
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-56-16
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Трофимов Аскольд Гавриилович, посещаемость: 25.0%
2025-04-23 20:59:41.122 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25241170013
2025-04-23 20:59:41.123 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Власов Ювеналий Феодосьевич, email=yuvenaliyv2002@edu.mirea.ru, group_id=117, group_name=БСБО-90-19, redis_key=student:S25241170013}
2025-04-23 20:59:41.123 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-90-19
2025-04-23 20:59:41.123 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Власов Ювеналий Феодосьевич, посещаемость: 25.0%
2025-04-23 20:59:41.123 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27351750010
2025-04-23 20:59:41.124 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Василиса Наумовна Богданова, email=naumovnav1998@edu.mirea.ru, group_id=175, group_name=БСБО-03-17, redis_key=student:S27351750010}
2025-04-23 20:59:41.124 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-03-17
2025-04-23 20:59:41.124 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Василиса Наумовна Богданова, посещаемость: 25.0%
2025-04-23 20:59:41.124 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S28381890006
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Дьячкова Елена Никифоровна, email=elenad1998@edu.mirea.ru, group_id=189, group_name=БСБО-98-15, redis_key=student:S28381890006}
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-98-15
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Дьячкова Елена Никифоровна, посещаемость: 25.0%
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S28391910011
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Гурьева Глафира Мироновна, email=glafirag1996@edu.mirea.ru, group_id=191, group_name=БСБО-32-16, redis_key=student:S28391910011}
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-32-16
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Гурьева Глафира Мироновна, посещаемость: 25.0%
2025-04-23 20:59:41.125 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S311512550010
2025-04-23 20:59:41.126 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Вероника Станиславовна Родионова, email=stanislavovnav1999@edu.mirea.ru, group_id=255, group_name=БСБО-62-19, redis_key=student:S311512550010}
2025-04-23 20:59:41.126 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-62-19
2025-04-23 20:59:41.126 [http-nio-8081-exec-6] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Вероника Станиславовна Родионова, посещаемость: 25.0%
2025-04-23 20:59:41.126 [http-nio-8081-exec-6] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 20:59:41.126 [http-nio-8081-exec-6] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 20:59:41.127 [http-nio-8081-exec-6] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@5bc14ba5} - {200} ({116} мс)
2025-04-23 20:59:55.641 [http-nio-8081-exec-7] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 37a8782a-e471-4e02-a45f-e479ca2c449e: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 20:59:55.641 [http-nio-8081-exec-7] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 20:59:55.641 [http-nio-8081-exec-7] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 20:59:55.644 [http-nio-8081-exec-7] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=a, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:55.644 [http-nio-8081-exec-7] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=a, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 20:59:55.644 [http-nio-8081-exec-7] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 20:59:55.644 [http-nio-8081-exec-7] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 20:59:55.644 [http-nio-8081-exec-7] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: a
2025-04-23 20:59:55.644 [http-nio-8081-exec-7] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: a
2025-04-23 20:59:55.644 [http-nio-8081-exec-7] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@ddae021
2025-04-23 20:59:55.650 [http-nio-8081-exec-7] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 20:59:55.650 [http-nio-8081-exec-7] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 0 записей
2025-04-23 20:59:55.650 [http-nio-8081-exec-7] INFO  c.c.lab_1.service.ReportService - Найдено 0 лекций по термину 'a'
2025-04-23 20:59:55.650 [http-nio-8081-exec-7] WARN  c.c.lab_1.service.ReportService - Не найдено лекций по термину: a
2025-04-23 20:59:55.650 [http-nio-8081-exec-7] WARN  c.c.l.controllers.ReportController - Отчет сформирован с предупреждениями: Не найдено лекций по указанному термину
2025-04-23 20:59:55.801 [http-nio-8081-exec-7] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@1f36fd4a} - {200} ({160} мс)
2025-04-23 21:00:02.974 [http-nio-8081-exec-8] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 49835b36-cdfc-4a46-ac25-a0eba682e023: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:00:02.974 [http-nio-8081-exec-8] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:00:02.975 [http-nio-8081-exec-8] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:00:02.978 [http-nio-8081-exec-8] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=в, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:00:02.978 [http-nio-8081-exec-8] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=в, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:00:02.978 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 21:00:02.978 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 21:00:02.978 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: в
2025-04-23 21:00:02.978 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: в
2025-04-23 21:00:02.978 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@41271299
2025-04-23 21:00:03.030 [http-nio-8081-exec-8] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 21:00:03.076 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 548 записей
2025-04-23 21:00:03.076 [http-nio-8081-exec-8] INFO  c.c.lab_1.service.ReportService - Найдено 548 лекций по термину 'в'
2025-04-23 21:00:03.076 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 548 лекций
2025-04-23 21:00:03.076 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598, 46, 172, 211, 234, 286, 500, 578, 115, 171, 229, 233, 243, 329, 330, 382, 427, 428, 577, 581, 50, 53, 93, 121, 122, 123, 124, 138, 147, 148, 158, 169, 170, 174, 184, 204, 222, 223, 230, 238, 244, 256, 262, 285, 292, 301, 306, 312, 319, 333, 334, 338, 344, 346, 366, 372, 375, 381, 406, 417, 422, 439, 441, 453, 464, 502, 516, 523, 582, 591, 592, 597, 6, 10, 15, 16, 17, 19, 29, 30, 32, 35, 37, 38, 41, 60, 71, 74, 79, 80, 89, 94, 99, 101, 113, 119, 125, 126, 127, 129, 131, 140, 143, 150, 153, 160, 161, 162, 168, 173, 176, 178, 187, 197, 205, 216, 218, 220, 224, 228, 237, 240, 241, 246, 251, 257, 266, 267, 270, 277, 281, 291, 294, 305, 309, 311, 318, 326, 328, 335, 340, 343, 347, 356, 358, 361, 364, 365, 371, 378, 384, 389, 391, 392, 396, 397, 404, 411, 412, 415, 421, 424, 425, 426, 432, 440, 443, 455, 472, 473, 487, 490, 494, 504, 506, 510, 511, 515, 518, 536, 538, 543, 547, 551, 552, 559, 560, 565, 576, 583, 587, 590, 596, 599, 5, 7, 21, 23, 27, 28, 33, 34, 36, 39, 47, 48, 49, 51, 54, 55, 56, 59, 63, 72, 73, 76, 86, 90, 97, 98, 106, 107, 114, 128, 134, 135, 145, 146, 149, 151, 154, 155, 163, 167, 181, 182, 183, 186, 189, 193, 194, 198, 201, 210, 214, 219, 221, 235, 236, 245, 248, 250, 252, 255, 259, 260, 261, 268, 278, 279, 280, 293, 297, 299, 300, 310, 313, 314, 320, 321, 323, 324, 327, 331, 332, 339, 345, 355, 363, 377, 387, 390, 402, 405, 407, 408, 409, 429, 431, 435, 436, 437, 438, 442, 444, 449, 450, 451, 452, 454, 457, 458, 459, 463, 469, 470, 471, 480, 486, 488, 489, 492, 495, 497, 503, 513, 520, 524, 526, 531, 542, 544, 546, 548, 556, 557, 562, 566, 572, 580, 588, 595, 600, 8, 14, 20, 40, 43, 45, 52, 57, 62, 75, 77, 78, 83, 84, 85, 92, 102, 104, 105, 108, 109, 110, 111, 112, 116, 117, 118, 120, 133, 139, 144, 152, 164, 175, 185, 188, 190, 192, 200, 203, 217, 239, 264, 271, 272, 276, 282, 287, 288, 289, 290, 295, 296, 303, 304, 308, 315, 317, 348, 349, 350, 353, 354, 369, 370, 376, 380, 383, 386, 388, 393, 398, 418, 430, 434, 446, 465, 474, 479, 482, 485, 496, 499, 501, 505, 509, 512, 514, 517, 519, 521, 522, 525, 533, 534, 541, 545, 555, 558, 561, 569, 570, 571, 573, 579, 586, 589, 1, 2, 3, 11, 12, 18, 44, 65, 69, 70, 81, 82, 95, 96, 130, 132, 141, 177, 191, 196, 199, 207, 225, 226, 227, 253, 265, 273, 274, 275, 367, 368, 403, 419, 420, 447, 448, 461, 467, 468, 475, 477, 478, 484, 498, 508, 528, 529, 530, 549, 553, 554, 563, 564, 575, 593, 26, 61, 100, 142, 208, 254, 359, 360, 433, 476, 481, 527, 550, 594], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 21:00:03.076 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 21:00:03.079 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 
    298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 
    491, 493, 532, 574, 584, 598, 46, 172, 211, 234, 286, 500, 578, 115, 171, 229, 
    233, 243, 329, 330, 382, 427, 428, 577, 581, 50, 53, 93, 121, 122, 123, 124, 
    138, 147, 148, 158, 169, 170, 174, 184, 204, 222, 223, 230, 238, 244, 256, 262, 
    285, 292, 301, 306, 312, 319, 333, 334, 338, 344, 346, 366, 372, 375, 381, 406, 
    417, 422, 439, 441, 453, 464, 502, 516, 523, 582, 591, 592, 597, 6, 10, 15, 
    16, 17, 19, 29, 30, 32, 35, 37, 38, 41, 60, 71, 74, 79, 80, 89, 94, 99, 101, 
    113, 119, 125, 126, 127, 129, 131, 140, 143, 150, 153, 160, 161, 162, 168, 173, 
    176, 178, 187, 197, 205, 216, 218, 220, 224, 228, 237, 240, 241, 246, 251, 257, 
    266, 267, 270, 277, 281, 291, 294, 305, 309, 311, 318, 326, 328, 335, 340, 343, 
    347, 356, 358, 361, 364, 365, 371, 378, 384, 389, 391, 392, 396, 397, 404, 411, 
    412, 415, 421, 424, 425, 426, 432, 440, 443, 455, 472, 473, 487, 490, 494, 504, 
    506, 510, 511, 515, 518, 536, 538, 543, 547, 551, 552, 559, 560, 565, 576, 583, 
    587, 590, 596, 599, 5, 7, 21, 23, 27, 28, 33, 34, 36, 39, 47, 48, 49, 51, 54, 
    55, 56, 59, 63, 72, 73, 76, 86, 90, 97, 98, 106, 107, 114, 128, 134, 135, 145, 
    146, 149, 151, 154, 155, 163, 167, 181, 182, 183, 186, 189, 193, 194, 198, 201, 
    210, 214, 219, 221, 235, 236, 245, 248, 250, 252, 255, 259, 260, 261, 268, 278, 
    279, 280, 293, 297, 299, 300, 310, 313, 314, 320, 321, 323, 324, 327, 331, 332, 
    339, 345, 355, 363, 377, 387, 390, 402, 405, 407, 408, 409, 429, 431, 435, 436, 
    437, 438, 442, 444, 449, 450, 451, 452, 454, 457, 458, 459, 463, 469, 470, 471, 
    480, 486, 488, 489, 492, 495, 497, 503, 513, 520, 524, 526, 531, 542, 544, 546, 
    548, 556, 557, 562, 566, 572, 580, 588, 595, 600, 8, 14, 20, 40, 43, 45, 52, 
    57, 62, 75, 77, 78, 83, 84, 85, 92, 102, 104, 105, 108, 109, 110, 111, 112, 
    116, 117, 118, 120, 133, 139, 144, 152, 164, 175, 185, 188, 190, 192, 200, 203, 
    217, 239, 264, 271, 272, 276, 282, 287, 288, 289, 290, 295, 296, 303, 304, 308, 
    315, 317, 348, 349, 350, 353, 354, 369, 370, 376, 380, 383, 386, 388, 393, 398, 
    418, 430, 434, 446, 465, 474, 479, 482, 485, 496, 499, 501, 505, 509, 512, 514, 
    517, 519, 521, 522, 525, 533, 534, 541, 545, 555, 558, 561, 569, 570, 571, 573, 
    579, 586, 589, 1, 2, 3, 11, 12, 18, 44, 65, 69, 70, 81, 82, 95, 96, 130, 132, 
    141, 177, 191, 196, 199, 207, 225, 226, 227, 253, 265, 273, 274, 275, 367, 368, 
    403, 419, 420, 447, 448, 461, 467, 468, 475, 477, 478, 484, 498, 508, 528, 529, 
    530, 549, 553, 554, 563, 564, 575, 593, 26, 61, 100, 142, 208, 254, 359, 360, 
    433, 476, 481, 527, 550, 594
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 21:00:03.084 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 21:00:03.087 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598, 46, 172, 211, 234, 286, 500, 578, 115, 171, 229, 233, 243, 329, 330, 382, 427, 428, 577, 581, 50, 53, 93, 121, 122, 123, 124, 138, 147, 148, 158, 169, 170, 174, 184, 204, 222, 223, 230, 238, 244, 256, 262, 285, 292, 301, 306, 312, 319, 333, 334, 338, 344, 346, 366, 372, 375, 381, 406, 417, 422, 439, 441, 453, 464, 502, 516, 523, 582, 591, 592, 597, 6, 10, 15, 16, 17, 19, 29, 30, 32, 35, 37, 38, 41, 60, 71, 74, 79, 80, 89, 94, 99, 101, 113, 119, 125, 126, 127, 129, 131, 140, 143, 150, 153, 160, 161, 162, 168, 173, 176, 178, 187, 197, 205, 216, 218, 220, 224, 228, 237, 240, 241, 246, 251, 257, 266, 267, 270, 277, 281, 291, 294, 305, 309, 311, 318, 326, 328, 335, 340, 343, 347, 356, 358, 361, 364, 365, 371, 378, 384, 389, 391, 392, 396, 397, 404, 411, 412, 415, 421, 424, 425, 426, 432, 440, 443, 455, 472, 473, 487, 490, 494, 504, 506, 510, 511, 515, 518, 536, 538, 543, 547, 551, 552, 559, 560, 565, 576, 583, 587, 590, 596, 599, 5, 7, 21, 23, 27, 28, 33, 34, 36, 39, 47, 48, 49, 51, 54, 55, 56, 59, 63, 72, 73, 76, 86, 90, 97, 98, 106, 107, 114, 128, 134, 135, 145, 146, 149, 151, 154, 155, 163, 167, 181, 182, 183, 186, 189, 193, 194, 198, 201, 210, 214, 219, 221, 235, 236, 245, 248, 250, 252, 255, 259, 260, 261, 268, 278, 279, 280, 293, 297, 299, 300, 310, 313, 314, 320, 321, 323, 324, 327, 331, 332, 339, 345, 355, 363, 377, 387, 390, 402, 405, 407, 408, 409, 429, 431, 435, 436, 437, 438, 442, 444, 449, 450, 451, 452, 454, 457, 458, 459, 463, 469, 470, 471, 480, 486, 488, 489, 492, 495, 497, 503, 513, 520, 524, 526, 531, 542, 544, 546, 548, 556, 557, 562, 566, 572, 580, 588, 595, 600, 8, 14, 20, 40, 43, 45, 52, 57, 62, 75, 77, 78, 83, 84, 85, 92, 102, 104, 105, 108, 109, 110, 111, 112, 116, 117, 118, 120, 133, 139, 144, 152, 164, 175, 185, 188, 190, 192, 200, 203, 217, 239, 264, 271, 272, 276, 282, 287, 288, 289, 290, 295, 296, 303, 304, 308, 315, 317, 348, 349, 350, 353, 354, 369, 370, 376, 380, 383, 386, 388, 393, 398, 418, 430, 434, 446, 465, 474, 479, 482, 485, 496, 499, 501, 505, 509, 512, 514, 517, 519, 521, 522, 525, 533, 534, 541, 545, 555, 558, 561, 569, 570, 571, 573, 579, 586, 589, 1, 2, 3, 11, 12, 18, 44, 65, 69, 70, 81, 82, 95, 96, 130, 132, 141, 177, 191, 196, 199, 207, 225, 226, 227, 253, 265, 273, 274, 275, 367, 368, 403, 419, 420, 447, 448, 461, 467, 468, 475, 477, 478, 484, 498, 508, 528, 529, 530, 549, 553, 554, 563, 564, 575, 593, 26, 61, 100, 142, 208, 254, 359, 360, 433, 476, 481, 527, 550, 594) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +-------------+-----+--------+----------+
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |id_student   |total|attended|percentage|
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S1416770002  |   64|      39|   60.9375|
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S312592920023|   72|      45|   62.5   |
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S39422100009 |   64|      40|   62.5   |
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S28401970002 |   56|      35|   62.5   |
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S25211020016 |   64|      40|   62.5   |
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:00:03.197 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S1416770002: всего занятий 64, посещено 39, процент 60.9375%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S312592920023: всего занятий 72, посещено 45, процент 62.5%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S39422100009: всего занятий 64, посещено 40, процент 62.5%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S28401970002: всего занятий 56, посещено 35, процент 62.5%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S25211020016: всего занятий 64, посещено 40, процент 62.5%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S312592930000: всего занятий 72, посещено 45, процент 62.5%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S311552740015: всего занятий 80, посещено 51, процент 63.75%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S39442190001: всего занятий 80, посещено 51, процент 63.75%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S310462300000: всего занятий 64, посещено 41, процент 64.0625%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент S25211030028: всего занятий 64, посещено 41, процент 64.0625%
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S1416770002, S312592920023, S39422100009, S28401970002, S25211020016, S312592930000, S311552740015, S39442190001, S310462300000, S25211030028]
2025-04-23 21:00:03.198 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S1416770002', 'S312592920023', 'S39422100009', 'S28401970002', 'S25211020016', 
  'S312592930000', 'S311552740015', 'S39442190001', 'S310462300000', 'S25211030028'
)
2025-04-23 21:00:03.199 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 21:00:03.199 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S1416770002', 'S312592920023', 'S39422100009', 'S28401970002', 'S25211020016', 'S312592930000', 'S311552740015', 'S39442190001', 'S310462300000', 'S25211030028')
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+------------------------------+--------------------------------+----------+-----------------------------+-------------------------------------+-----------------------+---------------------+
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                      |email                           |group_name|department_name              |institute_name                       |university_name        |redis_key            |
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+------------------------------+--------------------------------+----------+-----------------------------+-------------------------------------+-----------------------+---------------------+
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S1416770002   |Прохор Брониславович Фомичев  |bronislavovichp1995@edu.mirea.ru|БСБО-22-16|Кафедра информатики          |Институт тонких химических технологий|РТУ МИРЭА              |student:S1416770002  |
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S25211020016  |Фомичев Боян Всеволодович     |boyanf1993@edu.mirea.ru         |БСБО-73-15|Кафедра информатики          |Институт информационных технологий   |МГУ им. М.В. Ломоносова|student:S25211020016 |
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S25211030028  |Кабанов Евгений Терентьевич   |evgeniyk2001@edu.mirea.ru       |БСБО-62-21|Кафедра информатики          |Институт информационных технологий   |МГУ им. М.В. Ломоносова|student:S25211030028 |
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S28401970002  |Анисимов Феофан Филатович     |feofana1998@edu.mirea.ru        |БСБО-05-15|Кафедра программной инженерии|Институт тонких химических технологий|МГУ им. М.В. Ломоносова|student:S28401970002 |
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |S310462300000 |Вероника Дмитриевна Дементьева|dmitrievnav2005@edu.mirea.ru    |БСБО-45-23|Кафедра информатики          |Институт кибербезопасности           |МГТУ им. Н.Э. Баумана  |student:S310462300000|
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+------------------------------+--------------------------------+----------+-----------------------------+-------------------------------------+-----------------------+---------------------+
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Прохор Брониславович Фомичев, группа: БСБО-22-16, кафедра: Кафедра информатики, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Фомичев Боян Всеволодович, группа: БСБО-73-15, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Кабанов Евгений Терентьевич, группа: БСБО-62-21, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Анисимов Феофан Филатович, группа: БСБО-05-15, кафедра: Кафедра программной инженерии, институт: Институт тонких химических технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Вероника Дмитриевна Дементьева, группа: БСБО-45-23, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Андрей Филатович Щербаков, группа: БСБО-10-17, кафедра: Кафедра программной инженерии, институт: Институт экономики и управления, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: тов. Доронин Тимур Григорьевич, группа: БСБО-11-23, кафедра: Кафедра системного анализа, институт: Институт тонких химических технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Каллистрат Ерофеевич Меркушев, группа: БСБО-40-22, кафедра: Кафедра системного анализа, институт: Институт тонких химических технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Добромысл Евстигнеевич Сорокин, группа: БСБО-74-21, кафедра: Кафедра кибербезопасности, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Студент: Селиверстова Анастасия Геннадиевна, группа: БСБО-49-20, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 21:00:03.201 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1416770002
2025-04-23 21:00:03.202 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Прохор Брониславович Фомичев, email=bronislavovichp1995@edu.mirea.ru, group_id=77, group_name=БСБО-22-16, redis_key=student:S1416770002}
2025-04-23 21:00:03.202 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-22-16
2025-04-23 21:00:03.202 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Прохор Брониславович Фомичев, посещаемость: 60.9375%
2025-04-23 21:00:03.202 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211020016
2025-04-23 21:00:03.203 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Фомичев Боян Всеволодович, email=boyanf1993@edu.mirea.ru, group_id=102, group_name=БСБО-73-15, redis_key=student:S25211020016}
2025-04-23 21:00:03.203 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-73-15
2025-04-23 21:00:03.203 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Фомичев Боян Всеволодович, посещаемость: 62.5%
2025-04-23 21:00:03.203 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211030028
2025-04-23 21:00:03.204 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Кабанов Евгений Терентьевич, email=evgeniyk2001@edu.mirea.ru, group_id=103, group_name=БСБО-62-21, redis_key=student:S25211030028}
2025-04-23 21:00:03.204 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-62-21
2025-04-23 21:00:03.204 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Кабанов Евгений Терентьевич, посещаемость: 64.0625%
2025-04-23 21:00:03.204 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S28401970002
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Анисимов Феофан Филатович, email=feofana1998@edu.mirea.ru, group_id=197, group_name=БСБО-05-15, redis_key=student:S28401970002}
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-05-15
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Анисимов Феофан Филатович, посещаемость: 62.5%
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S310462300000
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Вероника Дмитриевна Дементьева, email=dmitrievnav2005@edu.mirea.ru, group_id=230, group_name=БСБО-45-23, redis_key=student:S310462300000}
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-45-23
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Вероника Дмитриевна Дементьева, посещаемость: 64.0625%
2025-04-23 21:00:03.205 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S311552740015
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Андрей Филатович Щербаков, email=filatovicha1996@edu.mirea.ru, group_id=274, group_name=БСБО-10-17, redis_key=student:S311552740015}
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-10-17
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Андрей Филатович Щербаков, посещаемость: 63.75%
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S312592920023
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=тов. Доронин Тимур Григорьевич, email=doronint2001@edu.mirea.ru, group_id=292, group_name=БСБО-11-23, redis_key=student:S312592920023}
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-11-23
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: тов. Доронин Тимур Григорьевич, посещаемость: 62.5%
2025-04-23 21:00:03.206 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S312592930000
2025-04-23 21:00:03.207 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Каллистрат Ерофеевич Меркушев, email=erofeevichk2000@edu.mirea.ru, group_id=293, group_name=БСБО-40-22, redis_key=student:S312592930000}
2025-04-23 21:00:03.207 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-40-22
2025-04-23 21:00:03.207 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Каллистрат Ерофеевич Меркушев, посещаемость: 62.5%
2025-04-23 21:00:03.207 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39422100009
2025-04-23 21:00:03.207 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Добромысл Евстигнеевич Сорокин, email=evstigneevichd1999@edu.mirea.ru, group_id=210, group_name=БСБО-74-21, redis_key=student:S39422100009}
2025-04-23 21:00:03.207 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-74-21
2025-04-23 21:00:03.208 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Добромысл Евстигнеевич Сорокин, посещаемость: 62.5%
2025-04-23 21:00:03.208 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39442190001
2025-04-23 21:00:03.208 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {group_id=219, email=anastasiyas1998@edu.mirea.ru, fullname=Селиверстова Анастасия Геннадиевна, group_name=БСБО-49-20, redis_key=student:S39442190001}
2025-04-23 21:00:03.208 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-49-20
2025-04-23 21:00:03.208 [http-nio-8081-exec-8] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Селиверстова Анастасия Геннадиевна, посещаемость: 63.75%
2025-04-23 21:00:03.208 [http-nio-8081-exec-8] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 21:00:03.208 [http-nio-8081-exec-8] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 21:00:03.209 [http-nio-8081-exec-8] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@eddfef6} - {200} ({235} мс)
2025-04-23 21:01:09.234 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 4252231f-2662-4862-8906-2043fbab98c6: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:01:09.234 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:01:09.235 [http-nio-8081-exec-1] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 21:01:09.368 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@73b8a20f} - {200} ({134} мс)
2025-04-23 21:01:24.964 [http-nio-8081-exec-2] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 781ff48d-2496-4c88-82e9-641df8ced81a: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:01:24.964 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:01:24.965 [http-nio-8081-exec-2] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 21:01:24.967 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@18b9501f} - {200} ({3} мс)
2025-04-23 21:01:27.863 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса cbc42178-f9b9-4e30-8526-2b8bb618a24d: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:01:27.863 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:01:27.863 [http-nio-8081-exec-3] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:01:27.866 [http-nio-8081-exec-3] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=в, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:01:27.866 [http-nio-8081-exec-3] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=в, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:01:27.866 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 21:01:27.866 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 21:01:27.866 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: в
2025-04-23 21:01:27.866 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: в
2025-04-23 21:01:27.866 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@b34d2ce
2025-04-23 21:01:27.902 [http-nio-8081-exec-3] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 21:01:27.931 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 548 записей
2025-04-23 21:01:27.931 [http-nio-8081-exec-3] INFO  c.c.lab_1.service.ReportService - Найдено 548 лекций по термину 'в'
2025-04-23 21:01:27.931 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 548 лекций
2025-04-23 21:01:27.931 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598, 46, 172, 211, 234, 286, 500, 578, 115, 171, 229, 233, 243, 329, 330, 382, 427, 428, 577, 581, 50, 53, 93, 121, 122, 123, 124, 138, 147, 148, 158, 169, 170, 174, 184, 204, 222, 223, 230, 238, 244, 256, 262, 285, 292, 301, 306, 312, 319, 333, 334, 338, 344, 346, 366, 372, 375, 381, 406, 417, 422, 439, 441, 453, 464, 502, 516, 523, 582, 591, 592, 597, 6, 10, 15, 16, 17, 19, 29, 30, 32, 35, 37, 38, 41, 60, 71, 74, 79, 80, 89, 94, 99, 101, 113, 119, 125, 126, 127, 129, 131, 140, 143, 150, 153, 160, 161, 162, 168, 173, 176, 178, 187, 197, 205, 216, 218, 220, 224, 228, 237, 240, 241, 246, 251, 257, 266, 267, 270, 277, 281, 291, 294, 305, 309, 311, 318, 326, 328, 335, 340, 343, 347, 356, 358, 361, 364, 365, 371, 378, 384, 389, 391, 392, 396, 397, 404, 411, 412, 415, 421, 424, 425, 426, 432, 440, 443, 455, 472, 473, 487, 490, 494, 504, 506, 510, 511, 515, 518, 536, 538, 543, 547, 551, 552, 559, 560, 565, 576, 583, 587, 590, 596, 599, 5, 7, 21, 23, 27, 28, 33, 34, 36, 39, 47, 48, 49, 51, 54, 55, 56, 59, 63, 72, 73, 76, 86, 90, 97, 98, 106, 107, 114, 128, 134, 135, 145, 146, 149, 151, 154, 155, 163, 167, 181, 182, 183, 186, 189, 193, 194, 198, 201, 210, 214, 219, 221, 235, 236, 245, 248, 250, 252, 255, 259, 260, 261, 268, 278, 279, 280, 293, 297, 299, 300, 310, 313, 314, 320, 321, 323, 324, 327, 331, 332, 339, 345, 355, 363, 377, 387, 390, 402, 405, 407, 408, 409, 429, 431, 435, 436, 437, 438, 442, 444, 449, 450, 451, 452, 454, 457, 458, 459, 463, 469, 470, 471, 480, 486, 488, 489, 492, 495, 497, 503, 513, 520, 524, 526, 531, 542, 544, 546, 548, 556, 557, 562, 566, 572, 580, 588, 595, 600, 8, 14, 20, 40, 43, 45, 52, 57, 62, 75, 77, 78, 83, 84, 85, 92, 102, 104, 105, 108, 109, 110, 111, 112, 116, 117, 118, 120, 133, 139, 144, 152, 164, 175, 185, 188, 190, 192, 200, 203, 217, 239, 264, 271, 272, 276, 282, 287, 288, 289, 290, 295, 296, 303, 304, 308, 315, 317, 348, 349, 350, 353, 354, 369, 370, 376, 380, 383, 386, 388, 393, 398, 418, 430, 434, 446, 465, 474, 479, 482, 485, 496, 499, 501, 505, 509, 512, 514, 517, 519, 521, 522, 525, 533, 534, 541, 545, 555, 558, 561, 569, 570, 571, 573, 579, 586, 589, 1, 2, 3, 11, 12, 18, 44, 65, 69, 70, 81, 82, 95, 96, 130, 132, 141, 177, 191, 196, 199, 207, 225, 226, 227, 253, 265, 273, 274, 275, 367, 368, 403, 419, 420, 447, 448, 461, 467, 468, 475, 477, 478, 484, 498, 508, 528, 529, 530, 549, 553, 554, 563, 564, 575, 593, 26, 61, 100, 142, 208, 254, 359, 360, 433, 476, 481, 527, 550, 594], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 21:01:27.932 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 21:01:27.934 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 
    298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 
    491, 493, 532, 574, 584, 598, 46, 172, 211, 234, 286, 500, 578, 115, 171, 229, 
    233, 243, 329, 330, 382, 427, 428, 577, 581, 50, 53, 93, 121, 122, 123, 124, 
    138, 147, 148, 158, 169, 170, 174, 184, 204, 222, 223, 230, 238, 244, 256, 262, 
    285, 292, 301, 306, 312, 319, 333, 334, 338, 344, 346, 366, 372, 375, 381, 406, 
    417, 422, 439, 441, 453, 464, 502, 516, 523, 582, 591, 592, 597, 6, 10, 15, 
    16, 17, 19, 29, 30, 32, 35, 37, 38, 41, 60, 71, 74, 79, 80, 89, 94, 99, 101, 
    113, 119, 125, 126, 127, 129, 131, 140, 143, 150, 153, 160, 161, 162, 168, 173, 
    176, 178, 187, 197, 205, 216, 218, 220, 224, 228, 237, 240, 241, 246, 251, 257, 
    266, 267, 270, 277, 281, 291, 294, 305, 309, 311, 318, 326, 328, 335, 340, 343, 
    347, 356, 358, 361, 364, 365, 371, 378, 384, 389, 391, 392, 396, 397, 404, 411, 
    412, 415, 421, 424, 425, 426, 432, 440, 443, 455, 472, 473, 487, 490, 494, 504, 
    506, 510, 511, 515, 518, 536, 538, 543, 547, 551, 552, 559, 560, 565, 576, 583, 
    587, 590, 596, 599, 5, 7, 21, 23, 27, 28, 33, 34, 36, 39, 47, 48, 49, 51, 54, 
    55, 56, 59, 63, 72, 73, 76, 86, 90, 97, 98, 106, 107, 114, 128, 134, 135, 145, 
    146, 149, 151, 154, 155, 163, 167, 181, 182, 183, 186, 189, 193, 194, 198, 201, 
    210, 214, 219, 221, 235, 236, 245, 248, 250, 252, 255, 259, 260, 261, 268, 278, 
    279, 280, 293, 297, 299, 300, 310, 313, 314, 320, 321, 323, 324, 327, 331, 332, 
    339, 345, 355, 363, 377, 387, 390, 402, 405, 407, 408, 409, 429, 431, 435, 436, 
    437, 438, 442, 444, 449, 450, 451, 452, 454, 457, 458, 459, 463, 469, 470, 471, 
    480, 486, 488, 489, 492, 495, 497, 503, 513, 520, 524, 526, 531, 542, 544, 546, 
    548, 556, 557, 562, 566, 572, 580, 588, 595, 600, 8, 14, 20, 40, 43, 45, 52, 
    57, 62, 75, 77, 78, 83, 84, 85, 92, 102, 104, 105, 108, 109, 110, 111, 112, 
    116, 117, 118, 120, 133, 139, 144, 152, 164, 175, 185, 188, 190, 192, 200, 203, 
    217, 239, 264, 271, 272, 276, 282, 287, 288, 289, 290, 295, 296, 303, 304, 308, 
    315, 317, 348, 349, 350, 353, 354, 369, 370, 376, 380, 383, 386, 388, 393, 398, 
    418, 430, 434, 446, 465, 474, 479, 482, 485, 496, 499, 501, 505, 509, 512, 514, 
    517, 519, 521, 522, 525, 533, 534, 541, 545, 555, 558, 561, 569, 570, 571, 573, 
    579, 586, 589, 1, 2, 3, 11, 12, 18, 44, 65, 69, 70, 81, 82, 95, 96, 130, 132, 
    141, 177, 191, 196, 199, 207, 225, 226, 227, 253, 265, 273, 274, 275, 367, 368, 
    403, 419, 420, 447, 448, 461, 467, 468, 475, 477, 478, 484, 498, 508, 528, 529, 
    530, 549, 553, 554, 563, 564, 575, 593, 26, 61, 100, 142, 208, 254, 359, 360, 
    433, 476, 481, 527, 550, 594
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 21:01:27.937 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 21:01:27.938 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598, 46, 172, 211, 234, 286, 500, 578, 115, 171, 229, 233, 243, 329, 330, 382, 427, 428, 577, 581, 50, 53, 93, 121, 122, 123, 124, 138, 147, 148, 158, 169, 170, 174, 184, 204, 222, 223, 230, 238, 244, 256, 262, 285, 292, 301, 306, 312, 319, 333, 334, 338, 344, 346, 366, 372, 375, 381, 406, 417, 422, 439, 441, 453, 464, 502, 516, 523, 582, 591, 592, 597, 6, 10, 15, 16, 17, 19, 29, 30, 32, 35, 37, 38, 41, 60, 71, 74, 79, 80, 89, 94, 99, 101, 113, 119, 125, 126, 127, 129, 131, 140, 143, 150, 153, 160, 161, 162, 168, 173, 176, 178, 187, 197, 205, 216, 218, 220, 224, 228, 237, 240, 241, 246, 251, 257, 266, 267, 270, 277, 281, 291, 294, 305, 309, 311, 318, 326, 328, 335, 340, 343, 347, 356, 358, 361, 364, 365, 371, 378, 384, 389, 391, 392, 396, 397, 404, 411, 412, 415, 421, 424, 425, 426, 432, 440, 443, 455, 472, 473, 487, 490, 494, 504, 506, 510, 511, 515, 518, 536, 538, 543, 547, 551, 552, 559, 560, 565, 576, 583, 587, 590, 596, 599, 5, 7, 21, 23, 27, 28, 33, 34, 36, 39, 47, 48, 49, 51, 54, 55, 56, 59, 63, 72, 73, 76, 86, 90, 97, 98, 106, 107, 114, 128, 134, 135, 145, 146, 149, 151, 154, 155, 163, 167, 181, 182, 183, 186, 189, 193, 194, 198, 201, 210, 214, 219, 221, 235, 236, 245, 248, 250, 252, 255, 259, 260, 261, 268, 278, 279, 280, 293, 297, 299, 300, 310, 313, 314, 320, 321, 323, 324, 327, 331, 332, 339, 345, 355, 363, 377, 387, 390, 402, 405, 407, 408, 409, 429, 431, 435, 436, 437, 438, 442, 444, 449, 450, 451, 452, 454, 457, 458, 459, 463, 469, 470, 471, 480, 486, 488, 489, 492, 495, 497, 503, 513, 520, 524, 526, 531, 542, 544, 546, 548, 556, 557, 562, 566, 572, 580, 588, 595, 600, 8, 14, 20, 40, 43, 45, 52, 57, 62, 75, 77, 78, 83, 84, 85, 92, 102, 104, 105, 108, 109, 110, 111, 112, 116, 117, 118, 120, 133, 139, 144, 152, 164, 175, 185, 188, 190, 192, 200, 203, 217, 239, 264, 271, 272, 276, 282, 287, 288, 289, 290, 295, 296, 303, 304, 308, 315, 317, 348, 349, 350, 353, 354, 369, 370, 376, 380, 383, 386, 388, 393, 398, 418, 430, 434, 446, 465, 474, 479, 482, 485, 496, 499, 501, 505, 509, 512, 514, 517, 519, 521, 522, 525, 533, 534, 541, 545, 555, 558, 561, 569, 570, 571, 573, 579, 586, 589, 1, 2, 3, 11, 12, 18, 44, 65, 69, 70, 81, 82, 95, 96, 130, 132, 141, 177, 191, 196, 199, 207, 225, 226, 227, 253, 265, 273, 274, 275, 367, 368, 403, 419, 420, 447, 448, 461, 467, 468, 475, 477, 478, 484, 498, 508, 528, 529, 530, 549, 553, 554, 563, 564, 575, 593, 26, 61, 100, 142, 208, 254, 359, 360, 433, 476, 481, 527, 550, 594) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 21:01:28.049 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +-------------+-----+--------+----------+
2025-04-23 21:01:28.049 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |id_student   |total|attended|percentage|
2025-04-23 21:01:28.049 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 21:01:28.049 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S1416770002  |   64|      39|   60.9375|
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S312592920023|   72|      45|   62.5   |
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S39422100009 |   64|      40|   62.5   |
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S28401970002 |   56|      35|   62.5   |
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S25211020016 |   64|      40|   62.5   |
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : +-------------+-----+--------+----------+
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S1416770002: всего занятий 64, посещено 39, процент 60.9375%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S312592920023: всего занятий 72, посещено 45, процент 62.5%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S39422100009: всего занятий 64, посещено 40, процент 62.5%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S28401970002: всего занятий 56, посещено 35, процент 62.5%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S25211020016: всего занятий 64, посещено 40, процент 62.5%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S312592930000: всего занятий 72, посещено 45, процент 62.5%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S311552740015: всего занятий 80, посещено 51, процент 63.75%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S39442190001: всего занятий 80, посещено 51, процент 63.75%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S310462300000: всего занятий 64, посещено 41, процент 64.0625%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент S25211030028: всего занятий 64, посещено 41, процент 64.0625%
2025-04-23 21:01:28.050 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:01:28.051 [http-nio-8081-exec-3] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:01:28.051 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 21:01:28.051 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S1416770002, S312592920023, S39422100009, S28401970002, S25211020016, S312592930000, S311552740015, S39442190001, S310462300000, S25211030028]
2025-04-23 21:01:28.051 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S1416770002', 'S312592920023', 'S39422100009', 'S28401970002', 'S25211020016', 
  'S312592930000', 'S311552740015', 'S39442190001', 'S310462300000', 'S25211030028'
)
2025-04-23 21:01:28.053 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 21:01:28.054 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S1416770002', 'S312592920023', 'S39422100009', 'S28401970002', 'S25211020016', 'S312592930000', 'S311552740015', 'S39442190001', 'S310462300000', 'S25211030028')
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+------------------------------+--------------------------------+----------+-----------------------------+-------------------------------------+-----------------------+---------------------+
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                      |email                           |group_name|department_name              |institute_name                       |university_name        |redis_key            |
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+------------------------------+--------------------------------+----------+-----------------------------+-------------------------------------+-----------------------+---------------------+
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S1416770002   |Прохор Брониславович Фомичев  |bronislavovichp1995@edu.mirea.ru|БСБО-22-16|Кафедра информатики          |Институт тонких химических технологий|РТУ МИРЭА              |student:S1416770002  |
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S25211020016  |Фомичев Боян Всеволодович     |boyanf1993@edu.mirea.ru         |БСБО-73-15|Кафедра информатики          |Институт информационных технологий   |МГУ им. М.В. Ломоносова|student:S25211020016 |
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S25211030028  |Кабанов Евгений Терентьевич   |evgeniyk2001@edu.mirea.ru       |БСБО-62-21|Кафедра информатики          |Институт информационных технологий   |МГУ им. М.В. Ломоносова|student:S25211030028 |
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S28401970002  |Анисимов Феофан Филатович     |feofana1998@edu.mirea.ru        |БСБО-05-15|Кафедра программной инженерии|Институт тонких химических технологий|МГУ им. М.В. Ломоносова|student:S28401970002 |
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |S310462300000 |Вероника Дмитриевна Дементьева|dmitrievnav2005@edu.mirea.ru    |БСБО-45-23|Кафедра информатики          |Институт кибербезопасности           |МГТУ им. Н.Э. Баумана  |student:S310462300000|
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+------------------------------+--------------------------------+----------+-----------------------------+-------------------------------------+-----------------------+---------------------+
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Прохор Брониславович Фомичев, группа: БСБО-22-16, кафедра: Кафедра информатики, институт: Институт тонких химических технологий, университет: РТУ МИРЭА
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Фомичев Боян Всеволодович, группа: БСБО-73-15, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Кабанов Евгений Терентьевич, группа: БСБО-62-21, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Анисимов Феофан Филатович, группа: БСБО-05-15, кафедра: Кафедра программной инженерии, институт: Институт тонких химических технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Вероника Дмитриевна Дементьева, группа: БСБО-45-23, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Андрей Филатович Щербаков, группа: БСБО-10-17, кафедра: Кафедра программной инженерии, институт: Институт экономики и управления, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: тов. Доронин Тимур Григорьевич, группа: БСБО-11-23, кафедра: Кафедра системного анализа, институт: Институт тонких химических технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Каллистрат Ерофеевич Меркушев, группа: БСБО-40-22, кафедра: Кафедра системного анализа, институт: Институт тонких химических технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Добромысл Евстигнеевич Сорокин, группа: БСБО-74-21, кафедра: Кафедра кибербезопасности, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Студент: Селиверстова Анастасия Геннадиевна, группа: БСБО-49-20, кафедра: Кафедра системного анализа, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 21:01:28.056 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S1416770002
2025-04-23 21:01:28.057 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Прохор Брониславович Фомичев, email=bronislavovichp1995@edu.mirea.ru, group_id=77, group_name=БСБО-22-16, redis_key=student:S1416770002}
2025-04-23 21:01:28.057 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-22-16
2025-04-23 21:01:28.057 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Прохор Брониславович Фомичев, посещаемость: 60.9375%
2025-04-23 21:01:28.057 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211020016
2025-04-23 21:01:28.058 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Фомичев Боян Всеволодович, email=boyanf1993@edu.mirea.ru, group_id=102, group_name=БСБО-73-15, redis_key=student:S25211020016}
2025-04-23 21:01:28.058 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-73-15
2025-04-23 21:01:28.058 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Фомичев Боян Всеволодович, посещаемость: 62.5%
2025-04-23 21:01:28.058 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211030028
2025-04-23 21:01:28.058 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Кабанов Евгений Терентьевич, email=evgeniyk2001@edu.mirea.ru, group_id=103, group_name=БСБО-62-21, redis_key=student:S25211030028}
2025-04-23 21:01:28.058 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-62-21
2025-04-23 21:01:28.059 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Кабанов Евгений Терентьевич, посещаемость: 64.0625%
2025-04-23 21:01:28.059 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S28401970002
2025-04-23 21:01:28.059 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Анисимов Феофан Филатович, email=feofana1998@edu.mirea.ru, group_id=197, group_name=БСБО-05-15, redis_key=student:S28401970002}
2025-04-23 21:01:28.059 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-05-15
2025-04-23 21:01:28.059 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Анисимов Феофан Филатович, посещаемость: 62.5%
2025-04-23 21:01:28.059 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S310462300000
2025-04-23 21:01:28.060 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Вероника Дмитриевна Дементьева, email=dmitrievnav2005@edu.mirea.ru, group_id=230, group_name=БСБО-45-23, redis_key=student:S310462300000}
2025-04-23 21:01:28.060 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-45-23
2025-04-23 21:01:28.060 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Вероника Дмитриевна Дементьева, посещаемость: 64.0625%
2025-04-23 21:01:28.060 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S311552740015
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Андрей Филатович Щербаков, email=filatovicha1996@edu.mirea.ru, group_id=274, group_name=БСБО-10-17, redis_key=student:S311552740015}
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-10-17
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Андрей Филатович Щербаков, посещаемость: 63.75%
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S312592920023
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=тов. Доронин Тимур Григорьевич, email=doronint2001@edu.mirea.ru, group_id=292, group_name=БСБО-11-23, redis_key=student:S312592920023}
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-11-23
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: тов. Доронин Тимур Григорьевич, посещаемость: 62.5%
2025-04-23 21:01:28.061 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S312592930000
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Каллистрат Ерофеевич Меркушев, email=erofeevichk2000@edu.mirea.ru, group_id=293, group_name=БСБО-40-22, redis_key=student:S312592930000}
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-40-22
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Каллистрат Ерофеевич Меркушев, посещаемость: 62.5%
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39422100009
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Добромысл Евстигнеевич Сорокин, email=evstigneevichd1999@edu.mirea.ru, group_id=210, group_name=БСБО-74-21, redis_key=student:S39422100009}
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-74-21
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Добромысл Евстигнеевич Сорокин, посещаемость: 62.5%
2025-04-23 21:01:28.062 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39442190001
2025-04-23 21:01:28.063 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {group_id=219, email=anastasiyas1998@edu.mirea.ru, fullname=Селиверстова Анастасия Геннадиевна, group_name=БСБО-49-20, redis_key=student:S39442190001}
2025-04-23 21:01:28.063 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-49-20
2025-04-23 21:01:28.063 [http-nio-8081-exec-3] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Селиверстова Анастасия Геннадиевна, посещаемость: 63.75%
2025-04-23 21:01:28.063 [http-nio-8081-exec-3] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 21:01:28.063 [http-nio-8081-exec-3] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 21:01:28.064 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2dd3a20b} - {200} ({201} мс)
2025-04-23 21:01:37.933 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 88a120bf-817d-4b3a-86aa-380c56cc7b8a: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:01:37.933 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:01:37.935 [http-nio-8081-exec-4] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:01:37.939 [http-nio-8081-exec-4] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=математика, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:01:37.939 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=математика, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:01:37.939 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 21:01:37.939 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 21:01:37.939 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: математика
2025-04-23 21:01:37.939 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: математика
2025-04-23 21:01:37.940 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@176891d8
2025-04-23 21:01:37.946 [http-nio-8081-exec-4] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 21:01:37.947 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 0 записей
2025-04-23 21:01:37.947 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Найдено 0 лекций по термину 'математика'
2025-04-23 21:01:37.947 [http-nio-8081-exec-4] WARN  c.c.lab_1.service.ReportService - Не найдено лекций по термину: математика
2025-04-23 21:01:37.947 [http-nio-8081-exec-4] WARN  c.c.l.controllers.ReportController - Отчет сформирован с предупреждениями: Не найдено лекций по указанному термину
2025-04-23 21:01:37.947 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@3a3022f1} - {200} ({14} мс)
2025-04-23 21:02:18.019 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:02:18.021 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:02:18.140 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 633964087
2025-04-23 21:02:18.378 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-23 21:02:18.381 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-23 21:07:04.241 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 2858 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:07:04.242 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:07:04.242 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:07:05.244 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:07:05.253 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:07:05.253 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:07:05.289 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:07:05.289 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1017 ms
2025-04-23 21:07:05.333 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:07:05.333 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:07:05.333 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:07:05.389 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:07:05.390 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:07:06.157 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:07:06.604 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@2b85edc7, com.mongodb.Jep395RecordCodecProvider@2bf45b7c, com.mongodb.KotlinCodecProvider@2559f65c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:07:06.615 [cluster-ClusterId{value='68092c4a2aa1fe098cf48e7b', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=13962042, minRoundTripTimeNanos=0}
2025-04-23 21:07:06.730 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1424214946 created for server address localhost:7687
2025-04-23 21:07:06.965 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:07:06.973 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.964 seconds (process running for 3.338)
2025-04-23 21:07:20.597 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:07:20.598 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:07:20.599 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 21:07:20.602 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 18bfbf4a-8f93-46df-b0d7-e1aa568a5606: пользователь=anonymous, метод=POST, uri=/api/lab1/auth/login
2025-04-23 21:07:20.604 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/lab1/auth/login}
2025-04-23 21:07:20.614 [http-nio-8081-exec-1] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/lab1/auth/login
2025-04-23 21:07:20.615 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@6eb3e1f8} - {403} ({12} мс)
2025-04-23 21:08:24.046 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 2e374b7a-ac98-4c46-8070-05b650901bad: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:08:24.047 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:08:24.049 [http-nio-8081-exec-3] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 21:08:24.196 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@68da4121} - {200} ({149} мс)
2025-04-23 21:08:27.578 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 73ccc23b-d0a5-4853-8eec-81f0429d48ca: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:08:27.578 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:08:27.579 [http-nio-8081-exec-4] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:08:27.609 [http-nio-8081-exec-4] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:08:27.609 [http-nio-8081-exec-4] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:08:27.609 [http-nio-8081-exec-4] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 21:08:27.609 [http-nio-8081-exec-4] WARN  c.c.lab_1.service.ReportService - Пустой поисковый запрос в запросе отчета
2025-04-23 21:08:27.609 [http-nio-8081-exec-4] WARN  c.c.lab_1.service.ReportService - Ошибки валидации запроса отчета: Поисковый запрос не может быть пустым
2025-04-23 21:08:27.610 [http-nio-8081-exec-4] WARN  c.c.lab_1.service.ReportService - Ошибка валидации запроса: Поисковый запрос не может быть пустым
2025-04-23 21:08:27.610 [http-nio-8081-exec-4] ERROR c.c.l.controllers.ReportController - Ошибка при формировании отчета: Поисковый запрос не может быть пустым
2025-04-23 21:08:27.779 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@540be194} - {500} ({201} мс)
2025-04-23 21:08:27.780 [http-nio-8081-exec-4] WARN  c.c.l.configs.RequestLoggingFilter - Ответ с ошибкой {500}: {{"status":"ERROR","message":"ÐÐ¾Ð¸ÑÐºÐ¾Ð²ÑÐ¹ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ Ð±ÑÑÑ Ð¿ÑÑÑÑÐ¼","data":[]}}
2025-04-23 21:08:34.894 [http-nio-8081-exec-5] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса c4f017fd-72ed-40bc-8cd6-43f0176a22e4: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:08:34.895 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:08:34.896 [http-nio-8081-exec-5] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:08:34.900 [http-nio-8081-exec-5] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:08:34.900 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:08:34.900 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 21:08:34.900 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 21:08:34.900 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: Docker
2025-04-23 21:08:34.900 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: Docker
2025-04-23 21:08:34.903 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@c59903d
2025-04-23 21:08:34.987 [http-nio-8081-exec-5] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 21:08:35.076 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 39 записей
2025-04-23 21:08:35.077 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Найдено 39 лекций по термину 'Docker'
2025-04-23 21:08:35.077 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 39 лекций
2025-04-23 21:08:35.077 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 21:08:35.095 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 21:08:35.322 [http-nio-8081-exec-5] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-04-23 21:08:35.322 [http-nio-8081-exec-5] INFO  org.jooq.Constants - 

jOOQ tip of the day: You can generate jOOQ code in a single package with package private visibility if this helps. Here's how: https://blog.jooq.org/how-to-generate-package-private-code-with-jooqs-code-generator/

2025-04-23 21:08:35.318 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 
    298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 
    491, 493, 532, 574, 584, 598
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 21:08:35.376 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 21:08:35.378 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 21:08:35.379 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-23 21:08:35.505 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ea1d89
2025-04-23 21:08:35.506 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-23 21:08:35.510 [http-nio-8081-exec-5] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +------------+-----+--------+----------+
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |id_student  |total|attended|percentage|
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S27311540026|    8|       2|      25  |
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S39432150002|    8|       2|      25  |
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S27311550019|    8|       3|      37.5|
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26301460001|    8|       3|      37.5|
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009   |    8|       3|      37.5|
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:08:35.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:08:35.629 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S27311540026: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 21:08:35.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S39432150002: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 21:08:35.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S27311550019: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26301460001: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S11290009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S126300009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26271310025: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S25211030024: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.631 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26271340027: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.631 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S27311530007: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:08:35.631 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:08:35.631 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:08:35.631 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 21:08:35.631 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S27311540026, S39432150002, S27311550019, S26301460001, S11290009, S126300009, S26271310025, S25211030024, S26271340027, S27311530007]
2025-04-23 21:08:35.638 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 
  'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007'
)
2025-04-23 21:08:35.640 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 21:08:35.641 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007')
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                    |email                      |group_name|department_name          |institute_name                    |university_name        |redis_key           |
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009     |Никандр Фокич Афанасьев     |fokichn1996@edu.mirea.ru   |БСБО-63-17|Кафедра кибербезопасности|Институт информационных технологий|РТУ МИРЭА              |student:S11290009   |
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S126300009    |Мясников Добромысл Ааронович|dobromyslm1998@edu.mirea.ru|БСБО-53-16|Кафедра информатики      |Институт кибербезопасности        |РТУ МИРЭА              |student:S126300009  |
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S25211030024  |Федоров Лавр Васильевич     |lavrf2004@edu.mirea.ru     |БСБО-62-21|Кафедра информатики      |Институт информационных технологий|МГУ им. М.В. Ломоносова|student:S25211030024|
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26271310025  |Орлов Ювеналий Адрианович   |yuvenaliyo2000@edu.mirea.ru|БСБО-10-21|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271310025|
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26271340027  |Федосеев Измаил Григорьевич |izmailf2003@edu.mirea.ru   |БСБО-37-23|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271340027|
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:08:35.646 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Никандр Фокич Афанасьев, группа: БСБО-63-17, кафедра: Кафедра кибербезопасности, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Мясников Добромысл Ааронович, группа: БСБО-53-16, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: РТУ МИРЭА
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Федоров Лавр Васильевич, группа: БСБО-62-21, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Орлов Ювеналий Адрианович, группа: БСБО-10-21, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Федосеев Измаил Григорьевич, группа: БСБО-37-23, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Пелагея Феликсовна Лебедева, группа: БСБО-68-19, кафедра: Кафедра программной инженерии, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Селиван Валентинович Ефремов, группа: БСБО-97-20, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Эмилия Ильинична Николаева, группа: БСБО-83-19, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:08:35.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Наталья Алексеевна Бобылева, группа: БСБО-99-17, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:08:35.648 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Миронов Любим Григорьевич, группа: БСБО-84-17, кафедра: Кафедра прикладной математики, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:08:35.648 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 21:08:35.648 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 21:08:35.648 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S11290009
2025-04-23 21:08:35.855 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Никандр Фокич Афанасьев, email=fokichn1996@edu.mirea.ru, group_id=9, group_name=БСБО-63-17, redis_key=student:S11290009}
2025-04-23 21:08:35.855 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-63-17
2025-04-23 21:08:35.856 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Никандр Фокич Афанасьев, посещаемость: 37.5%
2025-04-23 21:08:35.856 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S126300009
2025-04-23 21:08:35.857 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Мясников Добромысл Ааронович, email=dobromyslm1998@edu.mirea.ru, group_id=30, group_name=БСБО-53-16, redis_key=student:S126300009}
2025-04-23 21:08:35.857 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-53-16
2025-04-23 21:08:35.857 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Мясников Добромысл Ааронович, посещаемость: 37.5%
2025-04-23 21:08:35.857 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211030024
2025-04-23 21:08:35.858 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федоров Лавр Васильевич, email=lavrf2004@edu.mirea.ru, group_id=103, group_name=БСБО-62-21, redis_key=student:S25211030024}
2025-04-23 21:08:35.858 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-62-21
2025-04-23 21:08:35.858 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федоров Лавр Васильевич, посещаемость: 37.5%
2025-04-23 21:08:35.858 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271310025
2025-04-23 21:08:35.859 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Орлов Ювеналий Адрианович, email=yuvenaliyo2000@edu.mirea.ru, group_id=131, group_name=БСБО-10-21, redis_key=student:S26271310025}
2025-04-23 21:08:35.859 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-10-21
2025-04-23 21:08:35.859 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Орлов Ювеналий Адрианович, посещаемость: 37.5%
2025-04-23 21:08:35.859 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271340027
2025-04-23 21:08:35.860 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федосеев Измаил Григорьевич, email=izmailf2003@edu.mirea.ru, group_id=134, group_name=БСБО-37-23, redis_key=student:S26271340027}
2025-04-23 21:08:35.860 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-37-23
2025-04-23 21:08:35.861 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федосеев Измаил Григорьевич, посещаемость: 37.5%
2025-04-23 21:08:35.861 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26301460001
2025-04-23 21:08:35.861 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Пелагея Феликсовна Лебедева, email=feliksovnap1997@edu.mirea.ru, group_id=146, group_name=БСБО-68-19, redis_key=student:S26301460001}
2025-04-23 21:08:35.862 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-68-19
2025-04-23 21:08:35.862 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Пелагея Феликсовна Лебедева, посещаемость: 37.5%
2025-04-23 21:08:35.862 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311530007
2025-04-23 21:08:35.862 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Селиван Валентинович Ефремов, email=valentinovichs1999@edu.mirea.ru, group_id=153, group_name=БСБО-97-20, redis_key=student:S27311530007}
2025-04-23 21:08:35.862 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-97-20
2025-04-23 21:08:35.862 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Селиван Валентинович Ефремов, посещаемость: 37.5%
2025-04-23 21:08:35.863 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311540026
2025-04-23 21:08:35.863 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Эмилия Ильинична Николаева, email=ilinichnae1998@edu.mirea.ru, group_id=154, group_name=БСБО-83-19, redis_key=student:S27311540026}
2025-04-23 21:08:35.863 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-83-19
2025-04-23 21:08:35.863 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Эмилия Ильинична Николаева, посещаемость: 25.0%
2025-04-23 21:08:35.863 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311550019
2025-04-23 21:08:35.864 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Наталья Алексеевна Бобылева, email=alekseevnan1995@edu.mirea.ru, group_id=155, group_name=БСБО-99-17, redis_key=student:S27311550019}
2025-04-23 21:08:35.864 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-99-17
2025-04-23 21:08:35.864 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Наталья Алексеевна Бобылева, посещаемость: 37.5%
2025-04-23 21:08:35.864 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39432150002
2025-04-23 21:08:35.865 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Миронов Любим Григорьевич, email=lyubimm1998@edu.mirea.ru, group_id=215, group_name=БСБО-84-17, redis_key=student:S39432150002}
2025-04-23 21:08:35.865 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-84-17
2025-04-23 21:08:35.865 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Миронов Любим Григорьевич, посещаемость: 25.0%
2025-04-23 21:08:35.865 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 21:08:35.865 [http-nio-8081-exec-5] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 21:08:35.874 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@652d37c0} - {200} ({979} мс)
2025-04-23 21:08:47.487 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:08:47.489 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:08:47.606 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1424214946
2025-04-23 21:08:47.826 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-23 21:08:47.827 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-23 21:12:51.471 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 3023 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:12:51.472 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:12:51.472 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:12:52.425 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:12:52.433 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:12:52.434 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:12:52.460 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:12:52.460 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 966 ms
2025-04-23 21:12:52.499 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:12:52.499 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:12:52.499 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:12:52.549 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:12:52.550 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:12:53.281 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:12:53.744 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7d3a2459, com.mongodb.Jep395RecordCodecProvider@7d5cbcc9, com.mongodb.KotlinCodecProvider@3833897c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:12:53.756 [cluster-ClusterId{value='68092da5f9ed2b7d8d99f7e8', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=14442708, minRoundTripTimeNanos=0}
2025-04-23 21:12:53.866 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1089291892 created for server address localhost:7687
2025-04-23 21:12:54.092 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:12:54.100 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.841 seconds (process running for 3.158)
2025-04-23 21:13:03.801 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:13:03.802 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:13:03.803 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 21:13:03.806 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса f5b1f6dc-2e64-4bab-975a-b3d31698f23c: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:13:03.807 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:13:03.817 [http-nio-8081-exec-1] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 21:13:03.959 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2f0a20d9} - {200} ({151} мс)
2025-04-23 21:13:30.344 [http-nio-8081-exec-2] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса a1321698-8803-4767-ba86-4f073b747fb4: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:13:30.345 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:13:30.345 [http-nio-8081-exec-2] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:13:30.382 [http-nio-8081-exec-2] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:13:30.382 [http-nio-8081-exec-2] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:13:30.382 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 21:13:30.383 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 21:13:30.383 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: Docker
2025-04-23 21:13:30.383 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: Docker
2025-04-23 21:13:30.386 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@73fd4e0b
2025-04-23 21:13:30.468 [http-nio-8081-exec-2] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 21:13:30.570 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 39 записей
2025-04-23 21:13:30.570 [http-nio-8081-exec-2] INFO  c.c.lab_1.service.ReportService - Найдено 39 лекций по термину 'Docker'
2025-04-23 21:13:30.570 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 39 лекций
2025-04-23 21:13:30.570 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 21:13:30.590 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 21:13:30.821 [http-nio-8081-exec-2] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-04-23 21:13:30.821 [http-nio-8081-exec-2] INFO  org.jooq.Constants - 

jOOQ tip of the day: Should you use jOOQ's DAOs? They're convenient, but don't overuse them. SQL is often more powerful: https://blog.jooq.org/to-dao-or-not-to-dao/

2025-04-23 21:13:30.817 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 
    298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 
    491, 493, 532, 574, 584, 598
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 21:13:30.876 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 21:13:30.878 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 21:13:30.879 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-23 21:13:30.986 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3ce4f290
2025-04-23 21:13:30.987 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-23 21:13:30.992 [http-nio-8081-exec-2] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-04-23 21:13:31.091 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +------------+-----+--------+----------+
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |id_student  |total|attended|percentage|
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S27311540026|    8|       2|      25  |
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S39432150002|    8|       2|      25  |
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S27311550019|    8|       3|      37.5|
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S26301460001|    8|       3|      37.5|
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009   |    8|       3|      37.5|
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:13:31.092 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:13:31.094 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S27311540026: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S39432150002: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S27311550019: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S26301460001: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S11290009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S126300009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S26271310025: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S25211030024: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S26271340027: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент S27311530007: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:13:31.095 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 21:13:31.096 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S27311540026, S39432150002, S27311550019, S26301460001, S11290009, S126300009, S26271310025, S25211030024, S26271340027, S27311530007]
2025-04-23 21:13:31.102 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 
  'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007'
)
2025-04-23 21:13:31.104 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 21:13:31.105 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007')
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                    |email                      |group_name|department_name          |institute_name                    |university_name        |redis_key           |
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009     |Никандр Фокич Афанасьев     |fokichn1996@edu.mirea.ru   |БСБО-63-17|Кафедра кибербезопасности|Институт информационных технологий|РТУ МИРЭА              |student:S11290009   |
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S126300009    |Мясников Добромысл Ааронович|dobromyslm1998@edu.mirea.ru|БСБО-53-16|Кафедра информатики      |Институт кибербезопасности        |РТУ МИРЭА              |student:S126300009  |
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S25211030024  |Федоров Лавр Васильевич     |lavrf2004@edu.mirea.ru     |БСБО-62-21|Кафедра информатики      |Институт информационных технологий|МГУ им. М.В. Ломоносова|student:S25211030024|
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S26271310025  |Орлов Ювеналий Адрианович   |yuvenaliyo2000@edu.mirea.ru|БСБО-10-21|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271310025|
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |S26271340027  |Федосеев Измаил Григорьевич |izmailf2003@edu.mirea.ru   |БСБО-37-23|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271340027|
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:13:31.109 [http-nio-8081-exec-2] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:13:31.110 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 21:13:31.110 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Никандр Фокич Афанасьев, группа: БСБО-63-17, кафедра: Кафедра кибербезопасности, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 21:13:31.110 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Мясников Добромысл Ааронович, группа: БСБО-53-16, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: РТУ МИРЭА
2025-04-23 21:13:31.110 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Федоров Лавр Васильевич, группа: БСБО-62-21, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:13:31.110 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Орлов Ювеналий Адрианович, группа: БСБО-10-21, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Федосеев Измаил Григорьевич, группа: БСБО-37-23, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Пелагея Феликсовна Лебедева, группа: БСБО-68-19, кафедра: Кафедра программной инженерии, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Селиван Валентинович Ефремов, группа: БСБО-97-20, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Эмилия Ильинична Николаева, группа: БСБО-83-19, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Наталья Алексеевна Бобылева, группа: БСБО-99-17, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Студент: Миронов Любим Григорьевич, группа: БСБО-84-17, кафедра: Кафедра прикладной математики, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 21:13:31.111 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S11290009
2025-04-23 21:13:31.319 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Никандр Фокич Афанасьев, email=fokichn1996@edu.mirea.ru, group_id=9, group_name=БСБО-63-17, redis_key=student:S11290009}
2025-04-23 21:13:31.319 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-63-17
2025-04-23 21:13:31.320 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Никандр Фокич Афанасьев, посещаемость: 37.5%
2025-04-23 21:13:31.320 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S126300009
2025-04-23 21:13:31.325 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Мясников Добромысл Ааронович, email=dobromyslm1998@edu.mirea.ru, group_id=30, group_name=БСБО-53-16, redis_key=student:S126300009}
2025-04-23 21:13:31.325 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-53-16
2025-04-23 21:13:31.325 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Мясников Добромысл Ааронович, посещаемость: 37.5%
2025-04-23 21:13:31.325 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211030024
2025-04-23 21:13:31.327 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федоров Лавр Васильевич, email=lavrf2004@edu.mirea.ru, group_id=103, group_name=БСБО-62-21, redis_key=student:S25211030024}
2025-04-23 21:13:31.327 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-62-21
2025-04-23 21:13:31.327 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федоров Лавр Васильевич, посещаемость: 37.5%
2025-04-23 21:13:31.327 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271310025
2025-04-23 21:13:31.328 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Орлов Ювеналий Адрианович, email=yuvenaliyo2000@edu.mirea.ru, group_id=131, group_name=БСБО-10-21, redis_key=student:S26271310025}
2025-04-23 21:13:31.328 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-10-21
2025-04-23 21:13:31.328 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Орлов Ювеналий Адрианович, посещаемость: 37.5%
2025-04-23 21:13:31.328 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271340027
2025-04-23 21:13:31.329 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федосеев Измаил Григорьевич, email=izmailf2003@edu.mirea.ru, group_id=134, group_name=БСБО-37-23, redis_key=student:S26271340027}
2025-04-23 21:13:31.329 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-37-23
2025-04-23 21:13:31.329 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федосеев Измаил Григорьевич, посещаемость: 37.5%
2025-04-23 21:13:31.329 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26301460001
2025-04-23 21:13:31.330 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Пелагея Феликсовна Лебедева, email=feliksovnap1997@edu.mirea.ru, group_id=146, group_name=БСБО-68-19, redis_key=student:S26301460001}
2025-04-23 21:13:31.330 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-68-19
2025-04-23 21:13:31.330 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Пелагея Феликсовна Лебедева, посещаемость: 37.5%
2025-04-23 21:13:31.330 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311530007
2025-04-23 21:13:31.331 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Селиван Валентинович Ефремов, email=valentinovichs1999@edu.mirea.ru, group_id=153, group_name=БСБО-97-20, redis_key=student:S27311530007}
2025-04-23 21:13:31.331 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-97-20
2025-04-23 21:13:31.331 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Селиван Валентинович Ефремов, посещаемость: 37.5%
2025-04-23 21:13:31.331 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311540026
2025-04-23 21:13:31.332 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Эмилия Ильинична Николаева, email=ilinichnae1998@edu.mirea.ru, group_id=154, group_name=БСБО-83-19, redis_key=student:S27311540026}
2025-04-23 21:13:31.332 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-83-19
2025-04-23 21:13:31.332 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Эмилия Ильинична Николаева, посещаемость: 25.0%
2025-04-23 21:13:31.332 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311550019
2025-04-23 21:13:31.333 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Наталья Алексеевна Бобылева, email=alekseevnan1995@edu.mirea.ru, group_id=155, group_name=БСБО-99-17, redis_key=student:S27311550019}
2025-04-23 21:13:31.333 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-99-17
2025-04-23 21:13:31.333 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Наталья Алексеевна Бобылева, посещаемость: 37.5%
2025-04-23 21:13:31.333 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39432150002
2025-04-23 21:13:31.335 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Миронов Любим Григорьевич, email=lyubimm1998@edu.mirea.ru, group_id=215, group_name=БСБО-84-17, redis_key=student:S39432150002}
2025-04-23 21:13:31.335 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-84-17
2025-04-23 21:13:31.335 [http-nio-8081-exec-2] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Миронов Любим Григорьевич, посещаемость: 25.0%
2025-04-23 21:13:31.335 [http-nio-8081-exec-2] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 21:13:31.335 [http-nio-8081-exec-2] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 21:13:31.349 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@221fd2a0} - {200} ({1005} мс)
2025-04-23 21:13:37.703 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса fcebfd03-f975-41e1-b544-f0f19a8e6aa3: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:13:37.704 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:13:37.705 [http-nio-8081-exec-4] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 21:13:37.840 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@7c2bc909} - {200} ({137} мс)
2025-04-23 21:13:43.242 [http-nio-8081-exec-5] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 2fc535d7-0093-493e-9423-a0b61cd3d95c: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:13:43.242 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:13:43.243 [http-nio-8081-exec-5] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /reports/attendance
2025-04-23 21:13:43.243 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@6877df12} - {403} ({1} мс)
2025-04-23 21:13:53.011 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:13:53.013 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:13:53.128 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1089291892
2025-04-23 21:13:53.348 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-23 21:13:53.357 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-23 21:14:29.315 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 3082 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:14:29.316 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:14:29.316 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:14:30.321 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:14:30.330 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:14:30.330 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:14:30.359 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:14:30.359 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1018 ms
2025-04-23 21:14:30.401 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:14:30.401 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:14:30.401 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:14:30.453 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:14:30.453 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:14:31.173 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:14:31.615 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@433db56d, com.mongodb.Jep395RecordCodecProvider@e23af91, com.mongodb.KotlinCodecProvider@396ec737]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:14:31.632 [cluster-ClusterId{value='68092e07711747144b814d34', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=18939250, minRoundTripTimeNanos=0}
2025-04-23 21:14:31.735 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1434751602 created for server address localhost:7687
2025-04-23 21:14:31.962 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:14:31.970 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.877 seconds (process running for 3.182)
2025-04-23 21:14:50.259 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:14:50.260 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:14:50.266 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-04-23 21:14:50.269 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса e40d49b2-c29a-4631-95c7-1a4823092490: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:14:50.271 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:14:50.282 [http-nio-8081-exec-1] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 21:14:50.458 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@44d0b375} - {200} ({187} мс)
2025-04-23 21:14:54.287 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 65bc7ee6-9c7e-4736-a1a8-e946af0b4411: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:14:54.287 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:14:54.288 [http-nio-8081-exec-3] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Публичный путь, пропускаем без проверки Gateway: /api/auth/login
2025-04-23 21:14:54.424 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@49e0ae06} - {200} ({137} мс)
2025-04-23 21:15:01.592 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:15:01.595 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:15:01.716 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1434751602
2025-04-23 21:16:29.451 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 3158 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:16:29.452 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:16:29.452 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:16:30.454 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:16:30.462 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:16:30.463 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:16:30.489 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:16:30.489 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1013 ms
2025-04-23 21:16:30.528 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:16:30.528 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:16:30.528 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:16:30.578 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:16:30.578 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:16:31.309 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:16:31.733 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@21dd91da, com.mongodb.Jep395RecordCodecProvider@1f251bf1, com.mongodb.KotlinCodecProvider@502b9399]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:16:31.747 [cluster-ClusterId{value='68092e7f7f393b0d57218fb8', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=16562459, minRoundTripTimeNanos=0}
2025-04-23 21:16:31.860 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 767041877 created for server address localhost:7687
2025-04-23 21:16:32.082 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:16:32.090 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.894 seconds (process running for 3.347)
2025-04-23 21:16:38.040 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:16:38.041 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:16:38.042 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 21:16:38.046 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 44321c39-175b-48bf-95c5-8bc8236b6cc2: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:16:38.047 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:16:38.058 [http-nio-8081-exec-1] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/auth/login
2025-04-23 21:16:38.060 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@53331977} - {403} ({13} мс)
2025-04-23 21:16:49.071 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:16:49.074 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:16:49.193 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 767041877
2025-04-23 21:17:53.948 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 3233 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:17:53.949 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:17:53.949 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:17:54.928 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:17:54.937 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:17:54.937 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:17:54.963 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:17:54.963 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 989 ms
2025-04-23 21:17:55.003 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:17:55.003 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:17:55.003 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:17:55.058 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:17:55.058 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:17:55.799 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:17:56.256 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@156f0281, com.mongodb.Jep395RecordCodecProvider@1e041848, com.mongodb.KotlinCodecProvider@7097ead6]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:17:56.269 [cluster-ClusterId{value='68092ed488fdb05f663bda12', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=15918542, minRoundTripTimeNanos=0}
2025-04-23 21:17:56.392 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 95387183 created for server address localhost:7687
2025-04-23 21:17:56.634 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:17:56.643 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.914 seconds (process running for 3.288)
2025-04-23 21:18:13.362 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:18:13.365 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:18:13.482 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 95387183
2025-04-23 21:22:51.767 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 3595 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:22:51.768 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:22:51.768 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:22:52.773 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:22:52.781 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:22:52.782 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:22:52.808 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:22:52.808 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1015 ms
2025-04-23 21:22:52.848 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:22:52.849 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:22:52.849 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:22:52.901 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:22:52.901 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:22:53.672 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:22:54.119 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@2bf45b7c, com.mongodb.Jep395RecordCodecProvider@2559f65c, com.mongodb.KotlinCodecProvider@490704a5]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:22:54.156 [cluster-ClusterId{value='68092ffe76e85f487017f518', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39813000, minRoundTripTimeNanos=0}
2025-04-23 21:22:54.261 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1376696824 created for server address localhost:7687
2025-04-23 21:22:54.507 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:22:54.515 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.965 seconds (process running for 3.294)
2025-04-23 21:22:57.586 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:22:57.586 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:22:57.587 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 21:22:57.590 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 23d91e4e-c4c1-47ad-b8da-c653a70a8ae5: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:22:57.592 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:22:57.603 [http-nio-8081-exec-1] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/auth/login
2025-04-23 21:22:57.605 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@7930857a} - {403} ({14} мс)
2025-04-23 21:23:21.279 [http-nio-8081-exec-2] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса f114eece-d484-4ace-8781-60ec796116ea: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:23:21.280 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:23:21.281 [http-nio-8081-exec-2] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/auth/login
2025-04-23 21:23:21.281 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@226a7d2d} - {403} ({1} мс)
2025-04-23 21:23:54.245 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса bccc5e8d-5fdb-4015-90e5-b818dd8f0f8b: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:23:54.245 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:23:54.246 [http-nio-8081-exec-4] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/auth/login
2025-04-23 21:23:54.246 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@3c9e28eb} - {403} ({1} мс)
2025-04-23 21:24:32.703 [http-nio-8081-exec-6] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса b9bab7c5-4fda-4025-a044-70020eaba7a7: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:24:32.704 [http-nio-8081-exec-6] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:24:32.704 [http-nio-8081-exec-6] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:24:32.768 [http-nio-8081-exec-6] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@1b6036f6} - {403} ({64} мс)
2025-04-23 21:24:50.772 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:24:50.776 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:24:50.899 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1376696824
2025-04-23 21:25:22.544 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 3693 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:25:22.546 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:25:22.546 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:25:23.596 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:25:23.605 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:25:23.606 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:25:23.634 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:25:23.635 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1059 ms
2025-04-23 21:25:23.677 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:25:23.678 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:25:23.678 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:25:23.741 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:25:23.742 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:25:24.510 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:25:24.945 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@35d53cd8, com.mongodb.Jep395RecordCodecProvider@1bed61d2, com.mongodb.KotlinCodecProvider@8a11a19]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:25:24.956 [cluster-ClusterId{value='68093094aa518451db3488fe', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=17900708, minRoundTripTimeNanos=0}
2025-04-23 21:25:25.060 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1376696824 created for server address localhost:7687
2025-04-23 21:25:25.281 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:25:25.289 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.978 seconds (process running for 3.344)
2025-04-23 21:25:39.791 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:25:39.791 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:25:39.792 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 21:25:39.799 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 3a283e72-86cb-4b47-a415-9ace853ec1fc: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:25:39.801 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:25:39.815 [http-nio-8081-exec-1] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/auth/login
2025-04-23 21:25:39.817 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2caf4712} - {403} ({16} мс)
2025-04-23 21:29:14.937 [http-nio-8081-exec-3] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 5660b0aa-91b1-4594-a400-dd64a3ab8c88: пользователь=anonymous, метод=OPTIONS, uri=/api/auth/login
2025-04-23 21:29:14.941 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - >>> {OPTIONS} {/api/auth/login}
2025-04-23 21:29:14.957 [http-nio-8081-exec-3] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/auth/login
2025-04-23 21:29:14.958 [http-nio-8081-exec-3] INFO  c.c.l.configs.RequestLoggingFilter - <<< {OPTIONS} {/api/auth/login} - {org.apache.catalina.connector.ResponseFacade@1bdd44dc.status} ({16} мс)
2025-04-23 21:29:36.087 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:29:36.089 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:29:36.216 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1376696824
2025-04-23 21:30:21.392 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 3917 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:30:21.393 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:30:21.394 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:30:22.423 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:30:22.433 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:30:22.433 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:30:22.462 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:30:22.462 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1044 ms
2025-04-23 21:30:22.509 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:30:22.509 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:30:22.509 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:30:22.569 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:30:22.570 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:30:23.322 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:30:23.784 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1bed61d2, com.mongodb.Jep395RecordCodecProvider@8a11a19, com.mongodb.KotlinCodecProvider@47393345]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:30:23.804 [cluster-ClusterId{value='680931bfca8e3414bd38480d', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=22075500, minRoundTripTimeNanos=0}
2025-04-23 21:30:23.923 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 693026222 created for server address localhost:7687
2025-04-23 21:30:24.144 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:30:24.152 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 2.99 seconds (process running for 3.321)
2025-04-23 21:30:27.858 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:30:27.859 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:30:27.860 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 21:30:27.863 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 6aa90fd0-be7a-423e-8a71-b55a69a7965a: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:30:27.865 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:30:27.876 [http-nio-8081-exec-1] WARN  c.c.lab_1.configs.GatewayAuthFilter - Попытка прямого доступа к защищенному ресурсу без Gateway: /api/auth/login
2025-04-23 21:30:27.878 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@1d8296c6} - {403} ({14} мс)
2025-04-23 21:30:30.680 [http-nio-8081-exec-2] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса bee515e1-a8c3-4c42-bcd0-87c3257ead47: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:30:30.680 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:30:30.681 [http-nio-8081-exec-2] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:30:30.751 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2747a33b} - {403} ({71} мс)
2025-04-23 21:30:44.287 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:30:44.290 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:30:44.410 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 693026222
2025-04-23 21:55:42.865 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Starting Lab1ApplicationKt using Java 20.0.2.1 with PID 4154 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_1/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23 21:55:42.866 [main] DEBUG c.cherenkov.lab_1.Lab1ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23 21:55:42.867 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-04-23 21:55:43.883 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-23 21:55:43.891 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-23 21:55:43.891 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-23 21:55:43.920 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-23 21:55:43.920 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1027 ms
2025-04-23 21:55:43.959 [main] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Filter 'gatewayAuthFilter' configured for use
2025-04-23 21:55:43.959 [main] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-23 21:55:43.959 [main] DEBUG c.c.lab_1.configs.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-23 21:55:44.010 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-23 21:55:44.011 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-23 21:55:44.788 [main] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23 21:55:45.264 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7d5cbcc9, com.mongodb.Jep395RecordCodecProvider@3833897c, com.mongodb.KotlinCodecProvider@519eab1e]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-04-23 21:55:45.289 [cluster-ClusterId{value='680937b1b49c905d985a02dd', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=25723667, minRoundTripTimeNanos=0}
2025-04-23 21:55:45.405 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 930922744 created for server address localhost:7687
2025-04-23 21:55:45.647 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-23 21:55:45.656 [main] INFO  c.cherenkov.lab_1.Lab1ApplicationKt - Started Lab1ApplicationKt in 3.032 seconds (process running for 3.414)
2025-04-23 21:55:56.129 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-23 21:55:56.129 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-23 21:55:56.130 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-23 21:55:56.134 [http-nio-8081-exec-1] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса f1876b0b-6dd2-44e2-a0c7-bbdb08ed5ad3: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:55:56.135 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:55:56.147 [http-nio-8081-exec-1] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Пропускаем запрос на аутентификацию без проверки Gateway: /api/auth/login
2025-04-23 21:55:56.307 [http-nio-8081-exec-1] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@7948691f} - {200} ({172} мс)
2025-04-23 21:56:04.281 [http-nio-8081-exec-2] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса e17c5e15-85f8-48c6-9c68-93859bdd0960: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:56:04.282 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:56:04.283 [http-nio-8081-exec-2] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Пропускаем запрос на аутентификацию без проверки Gateway: /api/auth/login
2025-04-23 21:56:04.436 [http-nio-8081-exec-2] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@30b13c52} - {200} ({154} мс)
2025-04-23 21:56:08.153 [http-nio-8081-exec-4] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 4fbb2de6-fa85-40d8-acc7-3b4acef64a92: пользователь=anonymous, метод=POST, uri=/api/auth/login
2025-04-23 21:56:08.153 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/api/auth/login}
2025-04-23 21:56:08.154 [http-nio-8081-exec-4] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Пропускаем запрос на аутентификацию без проверки Gateway: /api/auth/login
2025-04-23 21:56:08.158 [http-nio-8081-exec-4] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@7ba42df4} - {200} ({5} мс)
2025-04-23 21:56:19.697 [http-nio-8081-exec-5] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса b48582b5-885f-48f3-a9d2-3e551a805861: пользователь=anonymous, метод=POST, uri=/reports/attendance
2025-04-23 21:56:19.697 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/attendance}
2025-04-23 21:56:19.698 [http-nio-8081-exec-5] DEBUG c.c.lab_1.configs.GatewayAuthFilter - Запрос от Gateway для пользователя: test на путь: /reports/attendance
2025-04-23 21:56:19.735 [http-nio-8081-exec-5] INFO  c.c.l.controllers.ReportController - Получен запрос на формирование отчета о посещаемости: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:56:19.735 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Начало генерации отчета с параметрами: term=Docker, startDate=2023-09-01T00:00:00Z, endDate=2023-12-31T23:59:59Z
2025-04-23 21:56:19.735 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета
2025-04-23 21:56:19.736 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Валидация параметров запроса отчета успешно пройдена
2025-04-23 21:56:19.736 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск лекций по термину: Docker
2025-04-23 21:56:19.736 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение поиска в Elasticsearch по термину: Docker
2025-04-23 21:56:19.739 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Запрос к Elasticsearch: org.springframework.data.elasticsearch.core.query.CriteriaQuery@930e1c9
2025-04-23 21:56:19.841 [http-nio-8081-exec-5] WARN  org.elasticsearch.client.RestClient - request [POST http://localhost:9200/lectures/_search?search_type=query_then_fetch&typed_keys=true] returned 1 warnings: [299 Elasticsearch-7.17.0-bee86328705acaa9a6daede7140defd4d9ec56bd "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
2025-04-23 21:56:19.962 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Результат поиска в Elasticsearch: найдено 39 записей
2025-04-23 21:56:19.962 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Найдено 39 лекций по термину 'Docker'
2025-04-23 21:56:19.962 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью для 39 лекций
2025-04-23 21:56:19.962 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Поиск студентов с низкой посещаемостью. Лекции: [4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598], период: 2023-09-01T00:00:00Z - 2023-12-31T23:59:59Z
2025-04-23 21:56:19.987 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Период для запроса: 2023-09-01T03:00 - 2024-01-01T02:59:59
2025-04-23 21:56:20.268 [http-nio-8081-exec-5] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-04-23 21:56:20.269 [http-nio-8081-exec-5] INFO  org.jooq.Constants - 

jOOQ tip of the day: Client side computed columns are very useful if you have redundant behaviour in your queries and data: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/

2025-04-23 21:56:20.265 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для поиска посещаемости: select
  "a"."id_student",
  count(*) as "total",
  sum(case
    when "a"."status" then 1
    else 0
  end) as "attended",
  ((sum(case
    when "a"."status" then 1
    else 0
  end) * cast(1E2 as double precision)) / count(*)) as "percentage"
from "public"."attendance" as "a"
  join "public"."schedule" as "s"
    on "a"."id_schedule" = "s"."id"
where (
  "s"."id_lecture" in (
    4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 
    298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 
    491, 493, 532, 574, 584, 598
  )
  and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0'
  and "a"."week_start" between date '2023-09-01' and date '2024-01-01'
)
group by "a"."id_student"
having count(*) >= 3
order by percentage asc
fetch next 10 rows only
2025-04-23 21:56:20.326 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then ? else ? end) as "attended", ((sum(case when "a"."status" then ? else ? end) * cast(? as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) and "s"."timestamp" between cast(? as timestamp(6)) and cast(? as timestamp(6)) and "a"."week_start" between cast(? as date) and cast(? as date)) group by "a"."id_student" having count(*) >= ? order by percentage asc fetch next ? rows only
2025-04-23 21:56:20.327 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "a"."id_student", count(*) as "total", sum(case when "a"."status" then 1 else 0 end) as "attended", ((sum(case when "a"."status" then 1 else 0 end) * cast(1E2 as double precision)) / count(*)) as "percentage" from "public"."attendance" as "a" join "public"."schedule" as "s" on "a"."id_schedule" = "s"."id" where ("s"."id_lecture" in (4, 9, 13, 25, 58, 103, 136, 137, 156, 195, 202, 212, 213, 215, 242, 247, 269, 298, 307, 322, 325, 341, 352, 357, 374, 385, 394, 401, 410, 414, 423, 462, 466, 491, 493, 532, 574, 584, 598) and "s"."timestamp" between timestamp '2023-09-01 03:00:00.0' and timestamp '2024-01-01 02:59:59.0' and "a"."week_start" between date '2023-09-01' and date '2024-01-01') group by "a"."id_student" having count(*) >= 3 order by percentage asc fetch next 10 rows only
2025-04-23 21:56:20.328 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-23 21:56:20.446 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e471dcc
2025-04-23 21:56:20.447 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-23 21:56:20.453 [http-nio-8081-exec-5] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +------------+-----+--------+----------+
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |id_student  |total|attended|percentage|
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S27311540026|    8|       2|      25  |
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S39432150002|    8|       2|      25  |
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S27311550019|    8|       3|      37.5|
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26301460001|    8|       3|      37.5|
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009   |    8|       3|      37.5|
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +------------+-----+--------+----------+
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:56:20.627 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:56:20.629 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S27311540026: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S39432150002: всего занятий 8, посещено 2, процент 25.0%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S27311550019: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26301460001: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S11290009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S126300009: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26271310025: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S25211030024: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S26271340027: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент S27311530007: всего занятий 8, посещено 3, процент 37.5%
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Найдено 10 студентов с низкой посещаемостью
2025-04-23 21:56:20.630 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение подробной информации о 10 студентах
2025-04-23 21:56:20.631 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение информации о студентах: [S27311540026, S39432150002, S27311550019, S26301460001, S11290009, S126300009, S26271310025, S25211030024, S26271340027, S27311530007]
2025-04-23 21:56:20.637 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Выполнение SQL-запроса для получения информации о студентах: select
  "public"."student"."student_number",
  "public"."student"."fullname",
  "public"."student"."email",
  "public"."groups"."name" as "group_name",
  "public"."department"."name" as "department_name",
  "public"."institute"."name" as "institute_name",
  "public"."university"."name" as "university_name",
  "public"."student"."redis_key"
from "public"."student"
  join "public"."groups"
    on "public"."student"."id_group" = "public"."groups"."id"
  join "public"."department"
    on "public"."groups"."id_department" = "public"."department"."id"
  join "public"."institute"
    on "public"."department"."id_institute" = "public"."institute"."id"
  join "public"."university"
    on "public"."institute"."id_university" = "public"."university"."id"
where "public"."student"."student_number" in (
  'S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 
  'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007'
)
2025-04-23 21:56:20.640 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Executing query          : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-23 21:56:20.640 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - -> with bind values      : select "public"."student"."student_number", "public"."student"."fullname", "public"."student"."email", "public"."groups"."name" as "group_name", "public"."department"."name" as "department_name", "public"."institute"."name" as "institute_name", "public"."university"."name" as "university_name", "public"."student"."redis_key" from "public"."student" join "public"."groups" on "public"."student"."id_group" = "public"."groups"."id" join "public"."department" on "public"."groups"."id_department" = "public"."department"."id" join "public"."institute" on "public"."department"."id_institute" = "public"."institute"."id" join "public"."university" on "public"."institute"."id_university" = "public"."university"."id" where "public"."student"."student_number" in ('S27311540026', 'S39432150002', 'S27311550019', 'S26301460001', 'S11290009', 'S126300009', 'S26271310025', 'S25211030024', 'S26271340027', 'S27311530007')
2025-04-23 21:56:20.645 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:56:20.645 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |student_number|fullname                    |email                      |group_name|department_name          |institute_name                    |university_name        |redis_key           |
2025-04-23 21:56:20.645 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:56:20.645 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S11290009     |Никандр Фокич Афанасьев     |fokichn1996@edu.mirea.ru   |БСБО-63-17|Кафедра кибербезопасности|Институт информационных технологий|РТУ МИРЭА              |student:S11290009   |
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S126300009    |Мясников Добромысл Ааронович|dobromyslm1998@edu.mirea.ru|БСБО-53-16|Кафедра информатики      |Институт кибербезопасности        |РТУ МИРЭА              |student:S126300009  |
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S25211030024  |Федоров Лавр Васильевич     |lavrf2004@edu.mirea.ru     |БСБО-62-21|Кафедра информатики      |Институт информационных технологий|МГУ им. М.В. Ломоносова|student:S25211030024|
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26271310025  |Орлов Ювеналий Адрианович   |yuvenaliyo2000@edu.mirea.ru|БСБО-10-21|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271310025|
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |S26271340027  |Федосеев Измаил Григорьевич |izmailf2003@edu.mirea.ru   |БСБО-37-23|Кафедра кибербезопасности|Институт кибербезопасности        |МГУ им. М.В. Ломоносова|student:S26271340027|
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : +--------------+----------------------------+---------------------------+----------+-------------------------+----------------------------------+-----------------------+--------------------+
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener -                          : |...record(s) truncated...
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 10
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные о 10 студентах из базы данных
2025-04-23 21:56:20.646 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Никандр Фокич Афанасьев, группа: БСБО-63-17, кафедра: Кафедра кибербезопасности, институт: Институт информационных технологий, университет: РТУ МИРЭА
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Мясников Добромысл Ааронович, группа: БСБО-53-16, кафедра: Кафедра информатики, институт: Институт кибербезопасности, университет: РТУ МИРЭА
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Федоров Лавр Васильевич, группа: БСБО-62-21, кафедра: Кафедра информатики, институт: Институт информационных технологий, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Орлов Ювеналий Адрианович, группа: БСБО-10-21, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Федосеев Измаил Григорьевич, группа: БСБО-37-23, кафедра: Кафедра кибербезопасности, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Пелагея Феликсовна Лебедева, группа: БСБО-68-19, кафедра: Кафедра программной инженерии, институт: Институт кибербезопасности, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Селиван Валентинович Ефремов, группа: БСБО-97-20, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Эмилия Ильинична Николаева, группа: БСБО-83-19, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Наталья Алексеевна Бобылева, группа: БСБО-99-17, кафедра: Кафедра информатики, институт: Институт экономики и управления, университет: МГУ им. М.В. Ломоносова
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Студент: Миронов Любим Григорьевич, группа: БСБО-84-17, кафедра: Кафедра прикладной математики, институт: Институт информационных технологий, университет: МГТУ им. Н.Э. Баумана
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Получена информация о 10 студентах
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Формирование итогового отчета
2025-04-23 21:56:20.647 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S11290009
2025-04-23 21:56:20.875 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Никандр Фокич Афанасьев, email=fokichn1996@edu.mirea.ru, group_id=9, group_name=БСБО-63-17, redis_key=student:S11290009}
2025-04-23 21:56:20.875 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-63-17
2025-04-23 21:56:20.876 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Никандр Фокич Афанасьев, посещаемость: 37.5%
2025-04-23 21:56:20.876 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S126300009
2025-04-23 21:56:20.877 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Мясников Добромысл Ааронович, email=dobromyslm1998@edu.mirea.ru, group_id=30, group_name=БСБО-53-16, redis_key=student:S126300009}
2025-04-23 21:56:20.877 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-53-16
2025-04-23 21:56:20.877 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Мясников Добромысл Ааронович, посещаемость: 37.5%
2025-04-23 21:56:20.878 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S25211030024
2025-04-23 21:56:20.878 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федоров Лавр Васильевич, email=lavrf2004@edu.mirea.ru, group_id=103, group_name=БСБО-62-21, redis_key=student:S25211030024}
2025-04-23 21:56:20.878 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-62-21
2025-04-23 21:56:20.878 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федоров Лавр Васильевич, посещаемость: 37.5%
2025-04-23 21:56:20.878 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271310025
2025-04-23 21:56:20.879 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Орлов Ювеналий Адрианович, email=yuvenaliyo2000@edu.mirea.ru, group_id=131, group_name=БСБО-10-21, redis_key=student:S26271310025}
2025-04-23 21:56:20.879 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-10-21
2025-04-23 21:56:20.879 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Орлов Ювеналий Адрианович, посещаемость: 37.5%
2025-04-23 21:56:20.879 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26271340027
2025-04-23 21:56:20.880 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Федосеев Измаил Григорьевич, email=izmailf2003@edu.mirea.ru, group_id=134, group_name=БСБО-37-23, redis_key=student:S26271340027}
2025-04-23 21:56:20.880 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-37-23
2025-04-23 21:56:20.881 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Федосеев Измаил Григорьевич, посещаемость: 37.5%
2025-04-23 21:56:20.881 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S26301460001
2025-04-23 21:56:20.882 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Пелагея Феликсовна Лебедева, email=feliksovnap1997@edu.mirea.ru, group_id=146, group_name=БСБО-68-19, redis_key=student:S26301460001}
2025-04-23 21:56:20.882 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-68-19
2025-04-23 21:56:20.882 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Пелагея Феликсовна Лебедева, посещаемость: 37.5%
2025-04-23 21:56:20.882 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311530007
2025-04-23 21:56:20.883 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Селиван Валентинович Ефремов, email=valentinovichs1999@edu.mirea.ru, group_id=153, group_name=БСБО-97-20, redis_key=student:S27311530007}
2025-04-23 21:56:20.883 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-97-20
2025-04-23 21:56:20.883 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Селиван Валентинович Ефремов, посещаемость: 37.5%
2025-04-23 21:56:20.883 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311540026
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Эмилия Ильинична Николаева, email=ilinichnae1998@edu.mirea.ru, group_id=154, group_name=БСБО-83-19, redis_key=student:S27311540026}
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-83-19
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Эмилия Ильинична Николаева, посещаемость: 25.0%
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S27311550019
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Наталья Алексеевна Бобылева, email=alekseevnan1995@edu.mirea.ru, group_id=155, group_name=БСБО-99-17, redis_key=student:S27311550019}
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-99-17
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Наталья Алексеевна Бобылева, посещаемость: 37.5%
2025-04-23 21:56:20.884 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получение данных из Redis по ключу: student:S39432150002
2025-04-23 21:56:20.885 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Получены данные из Redis: {fullname=Миронов Любим Григорьевич, email=lyubimm1998@edu.mirea.ru, group_id=215, group_name=БСБО-84-17, redis_key=student:S39432150002}
2025-04-23 21:56:20.885 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Найдены данные в Redis: group_name=БСБО-84-17
2025-04-23 21:56:20.885 [http-nio-8081-exec-5] DEBUG c.c.lab_1.service.ReportService - Создан отчет для студента: Миронов Любим Григорьевич, посещаемость: 25.0%
2025-04-23 21:56:20.885 [http-nio-8081-exec-5] INFO  c.c.lab_1.service.ReportService - Отчет успешно сформирован, количество записей: 10
2025-04-23 21:56:20.885 [http-nio-8081-exec-5] INFO  c.c.l.controllers.ReportController - Отчет успешно сформирован, записей: 10
2025-04-23 21:56:20.900 [http-nio-8081-exec-5] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@38508446} - {200} ({1203} мс)
2025-04-23 21:56:30.283 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23 21:56:30.285 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-23 21:56:30.402 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 930922744
2025-04-23 21:56:30.633 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-23 21:56:30.635 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
