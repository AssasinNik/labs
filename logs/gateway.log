2025-04-23T20:04:12.840+03:00  INFO 12400 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.1 with PID 12400 (D:\AndroidProjects\labs\gateway\build\classes\kotlin\main started by Neket in D:\AndroidProjects\labs)
2025-04-23T20:04:12.842+03:00 DEBUG 12400 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:04:12.842+03:00  INFO 12400 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:04:13.824+03:00  INFO 12400 --- [gateway] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-23T20:04:13.826+03:00  INFO 12400 --- [gateway] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-23T20:04:13.853+03:00  INFO 12400 --- [gateway] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-04-23T20:04:14.098+03:00  INFO 12400 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9eda6cde-9bb3-3e8e-b158-f925867b524a
2025-04-23T20:04:14.731+03:00  INFO 12400 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: fd007cff-6c99-4855-bc75-5bb0118180dc

2025-04-23T20:04:14.830+03:00 DEBUG 12400 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:04:14.986+03:00 DEBUG 12400 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='name', args={_genkey_0=CircuitBreaker, _genkey_1=args.name=lab1ServiceBreaker, _genkey_2=args.fallbackUri=forward:/fallback/lab1}}, FilterDefinition{name='name', args={_genkey_0=RequestRateLimiter, _genkey_1=args.redis-rate-limiter.replenishRate=50, _genkey_2=args.redis-rate-limiter.burstCapacity=100, _genkey_3=args.key-resolver=#{@ipKeyResolver}}}], uri=http://localhost:8081, order=0, metadata={}}]
2025-04-23T20:04:15.067+03:00  WARN 12400 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webHandler' defined in org.springframework.web.reactive.config.DelegatingWebFluxConfiguration: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 1: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: expected single matching bean but found 2: generalApiLimiter,authApiLimiter
2025-04-23T20:04:15.092+03:00  INFO 12400 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T20:04:15.104+03:00 ERROR 12400 --- [gateway] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method requestRateLimiterGatewayFilterFactory in org.springframework.cloud.gateway.config.GatewayAutoConfiguration required a single bean, but 2 were found:
	- generalApiLimiter: defined by method 'generalApiLimiter' in class path resource [com/cherenkov/gateway/config/RateLimitConfig.class]
	- authApiLimiter: defined by method 'authApiLimiter' in class path resource [com/cherenkov/gateway/config/RateLimitConfig.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-04-23T20:06:13.851+03:00  INFO 6524 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.1 with PID 6524 (D:\AndroidProjects\labs\gateway\build\classes\kotlin\main started by Neket in D:\AndroidProjects\labs)
2025-04-23T20:06:13.852+03:00 DEBUG 6524 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:06:13.853+03:00  INFO 6524 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:06:14.944+03:00  INFO 6524 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7f71d816-8a23-353d-b67d-f34527a6bc03
2025-04-23T20:06:15.501+03:00  INFO 6524 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: b300ab52-51f4-46fe-9138-756acbdec698

2025-04-23T20:06:15.597+03:00 DEBUG 6524 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:06:15.747+03:00 DEBUG 6524 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='name', args={_genkey_0=CircuitBreaker, _genkey_1=args.name=lab1ServiceBreaker, _genkey_2=args.fallbackUri=forward:/fallback/lab1}}, FilterDefinition{name='name', args={_genkey_0=RequestRateLimiter, _genkey_1=args.redis-rate-limiter.replenishRate=50, _genkey_2=args.redis-rate-limiter.burstCapacity=100, _genkey_3=args.key-resolver=#{@ipKeyResolver}}}], uri=http://localhost:8081, order=0, metadata={}}]
2025-04-23T20:06:15.831+03:00  WARN 6524 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webHandler' defined in org.springframework.web.reactive.config.DelegatingWebFluxConfiguration: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 1: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
2025-04-23T20:06:15.853+03:00  INFO 6524 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T20:06:15.867+03:00 ERROR 6524 --- [gateway] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webHandler' defined in org.springframework.web.reactive.config.DelegatingWebFluxConfiguration: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 1: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at com.cherenkov.gateway.GatewayApplicationKt.main(GatewayApplication.kt:41) ~[main/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 1: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:721) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1426) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:372) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.web.reactive.DispatcherHandler.initStrategies(DispatcherHandler.java:120) ~[spring-webflux-6.2.5.jar:6.2.5]
	at org.springframework.web.reactive.DispatcherHandler.setApplicationContext(DispatcherHandler.java:115) ~[spring-webflux-6.2.5.jar:6.2.5]
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:110) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:85) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	... 15 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1919) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1883) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1773) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1741) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1616) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 48 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1919) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1883) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1773) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1741) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1616) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 66 common frames omitted
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determinePrimaryCandidate(DefaultListableBeanFactory.java:2010) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determineAutowireCandidate(DefaultListableBeanFactory.java:1946) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1640) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 84 common frames omitted

2025-04-23T20:07:45.692+03:00  INFO 16368 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.1 with PID 16368 (D:\AndroidProjects\labs\gateway\build\classes\kotlin\main started by Neket in D:\AndroidProjects\labs)
2025-04-23T20:07:45.693+03:00 DEBUG 16368 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:07:45.694+03:00  INFO 16368 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:07:46.859+03:00  INFO 16368 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7f71d816-8a23-353d-b67d-f34527a6bc03
2025-04-23T20:07:47.437+03:00  INFO 16368 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: d595aa81-f448-4676-9181-f35756a77f66

2025-04-23T20:07:47.525+03:00 DEBUG 16368 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:07:47.669+03:00 DEBUG 16368 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='name', args={_genkey_0=CircuitBreaker, _genkey_1=args.name=lab1ServiceBreaker, _genkey_2=args.fallbackUri=forward:/fallback/lab1}}, FilterDefinition{name='name', args={_genkey_0=RequestRateLimiter, _genkey_1=args.redis-rate-limiter.replenishRate=50, _genkey_2=args.redis-rate-limiter.burstCapacity=100, _genkey_3=args.key-resolver=#{@ipKeyResolver}}}], uri=http://localhost:8081, order=0, metadata={}}]
2025-04-23T20:07:47.752+03:00  WARN 16368 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webHandler' defined in org.springframework.web.reactive.config.DelegatingWebFluxConfiguration: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 1: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
2025-04-23T20:07:47.774+03:00  INFO 16368 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T20:07:47.787+03:00 ERROR 16368 --- [gateway] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webHandler' defined in org.springframework.web.reactive.config.DelegatingWebFluxConfiguration: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 1: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at com.cherenkov.gateway.GatewayApplicationKt.main(GatewayApplication.kt:41) ~[main/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 1: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:721) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1426) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:372) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.web.reactive.DispatcherHandler.initStrategies(DispatcherHandler.java:120) ~[spring-webflux-6.2.5.jar:6.2.5]
	at org.springframework.web.reactive.DispatcherHandler.setApplicationContext(DispatcherHandler.java:115) ~[spring-webflux-6.2.5.jar:6.2.5]
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:110) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:85) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	... 15 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cachedCompositeRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'cachedCompositeRouteLocator' parameter 0: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'routeDefinitionRouteLocator' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routeDefinitionRouteLocator' parameter 1: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1919) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1883) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1773) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1741) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1616) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 48 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestRateLimiterGatewayFilterFactory' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'requestRateLimiterGatewayFilterFactory' parameter 0: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1919) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1883) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1773) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1741) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1616) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 66 common frames omitted
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.cloud.gateway.filter.ratelimit.RateLimiter<?>' available: more than one 'primary' bean found among candidates: [generalApiLimiter, authApiLimiter, fallbackRateLimiter]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determinePrimaryCandidate(DefaultListableBeanFactory.java:2010) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determineAutowireCandidate(DefaultListableBeanFactory.java:1946) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1640) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 84 common frames omitted

2025-04-23T20:08:57.662+03:00  INFO 21828 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.1 with PID 21828 (D:\AndroidProjects\labs\gateway\build\classes\kotlin\main started by Neket in D:\AndroidProjects\labs)
2025-04-23T20:08:57.663+03:00 DEBUG 21828 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:08:57.664+03:00  INFO 21828 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:08:58.740+03:00  INFO 21828 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3ed2515b-8b20-3282-b10e-555fec8bdcaa
2025-04-23T20:08:59.088+03:00  INFO 21828 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 5744aaba-f0b1-4f52-9d2d-39e4866345f9

2025-04-23T20:08:59.183+03:00 DEBUG 21828 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:08:59.317+03:00 DEBUG 21828 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='name', args={_genkey_0=CircuitBreaker, _genkey_1=args.name=lab1ServiceBreaker, _genkey_2=args.fallbackUri=forward:/fallback/lab1}}, FilterDefinition{name='name', args={_genkey_0=RequestRateLimiter, _genkey_1=args.redis-rate-limiter.replenishRate=50, _genkey_2=args.redis-rate-limiter.burstCapacity=100, _genkey_3=args.key-resolver=#{@ipKeyResolver}}}], uri=http://localhost:8081, order=0, metadata={}}]
2025-04-23T20:08:59.728+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:08:59.728+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:08:59.728+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:08:59.728+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:08:59.728+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:08:59.728+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:08:59.729+03:00  INFO 21828 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:09:00.064+03:00  INFO 21828 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:09:00.111+03:00 DEBUG 21828 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:09:00.419+03:00  WARN 21828 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compositeCompatibilityVerifier' defined in class path resource [org/springframework/cloud/configuration/CompatibilityVerifierAutoConfiguration.class]: Failed to instantiate [org.springframework.cloud.configuration.CompositeCompatibilityVerifier]: Factory method 'compositeCompatibilityVerifier' threw exception with message: Spring Cloud/ Spring Boot version compatibility checks have failed: [[VerificationResult@3ef914f5 description = 'Spring Boot [3.4.4] is not compatible with this Spring Cloud release train', action = 'Change Spring Boot version to one of the following versions [3.2.x] .
You can find the latest Spring Boot versions here [https://spring.io/projects/spring-boot#learn]. 
If you want to learn more about the Spring Cloud Release train compatibility, you can visit this page [https://spring.io/projects/spring-cloud#overview] and check the [Release Trains] section.
If you want to disable this check, just set the property [spring.cloud.compatibility-verifier.enabled=false]']]
2025-04-23T20:09:00.453+03:00  INFO 21828 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T20:09:00.467+03:00 ERROR 21828 --- [gateway] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Your project setup is incompatible with our requirements due to following reasons:

- Spring Boot [3.4.4] is not compatible with this Spring Cloud release train


Action:

Consider applying the following actions:

- Change Spring Boot version to one of the following versions [3.2.x] .
You can find the latest Spring Boot versions here [https://spring.io/projects/spring-boot#learn]. 
If you want to learn more about the Spring Cloud Release train compatibility, you can visit this page [https://spring.io/projects/spring-cloud#overview] and check the [Release Trains] section.
If you want to disable this check, just set the property [spring.cloud.compatibility-verifier.enabled=false]


2025-04-23T20:11:18.385+03:00  INFO 16844 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.1 with PID 16844 (D:\AndroidProjects\labs\gateway\build\classes\kotlin\main started by Neket in D:\AndroidProjects\labs)
2025-04-23T20:11:18.386+03:00 DEBUG 16844 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:11:18.387+03:00  INFO 16844 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:11:19.388+03:00  INFO 16844 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6b00d30-d688-390e-a518-c442513e9da0
2025-04-23T20:11:19.732+03:00  INFO 16844 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 4b1181c5-56c1-4184-a6d7-0a2a96c181f2

2025-04-23T20:11:19.822+03:00 DEBUG 16844 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:11:19.963+03:00 DEBUG 16844 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='name', args={_genkey_0=CircuitBreaker, _genkey_1=args.name=lab1ServiceBreaker, _genkey_2=args.fallbackUri=forward:/fallback/lab1}}, FilterDefinition{name='name', args={_genkey_0=RequestRateLimiter, _genkey_1=args.redis-rate-limiter.replenishRate=50, _genkey_2=args.redis-rate-limiter.burstCapacity=100, _genkey_3=args.key-resolver=#{@ipKeyResolver}}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:11:20.138+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:11:20.139+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:11:20.139+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:11:20.139+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:11:20.139+03:00  INFO 16844 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:11:20.359+03:00  INFO 16844 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:11:20.387+03:00 DEBUG 16844 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:11:20.576+03:00  WARN 16844 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.cloud.gateway.config.SimpleUrlHandlerMappingGlobalCorsAutoConfiguration': Unsatisfied dependency expressed through field 'simpleUrlHandlerMapping': No qualifying bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-23T20:11:20.593+03:00  INFO 16844 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T20:11:20.606+03:00 ERROR 16844 --- [gateway] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field simpleUrlHandlerMapping in org.springframework.cloud.gateway.config.SimpleUrlHandlerMappingGlobalCorsAutoConfiguration required a bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' in your configuration.

2025-04-23T20:16:04.661+03:00  INFO 12404 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.1 with PID 12404 (D:\AndroidProjects\labs\gateway\build\classes\kotlin\main started by Neket in D:\AndroidProjects\labs)
2025-04-23T20:16:04.663+03:00 DEBUG 12404 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:16:04.665+03:00  INFO 12404 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:16:05.690+03:00  INFO 12404 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6b00d30-d688-390e-a518-c442513e9da0
2025-04-23T20:16:06.041+03:00  INFO 12404 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 92938f7d-4b9f-4a9c-9379-63114dff0beb

2025-04-23T20:16:06.130+03:00 DEBUG 12404 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:16:06.261+03:00 DEBUG 12404 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='name', args={_genkey_0=CircuitBreaker, _genkey_1=args.name=lab1ServiceBreaker, _genkey_2=args.fallbackUri=forward:/fallback/lab1}}, FilterDefinition{name='name', args={_genkey_0=RequestRateLimiter, _genkey_1=args.redis-rate-limiter.replenishRate=50, _genkey_2=args.redis-rate-limiter.burstCapacity=100, _genkey_3=args.key-resolver=#{@ipKeyResolver}}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:16:06.423+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:16:06.423+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:16:06.423+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:16:06.423+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:16:06.424+03:00  INFO 12404 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:16:06.647+03:00  INFO 12404 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:16:06.675+03:00 DEBUG 12404 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:16:06.863+03:00  WARN 12404 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.cloud.gateway.config.SimpleUrlHandlerMappingGlobalCorsAutoConfiguration': Unsatisfied dependency expressed through field 'simpleUrlHandlerMapping': No qualifying bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-23T20:16:06.880+03:00  INFO 12404 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T20:16:06.895+03:00 ERROR 12404 --- [gateway] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field simpleUrlHandlerMapping in org.springframework.cloud.gateway.config.SimpleUrlHandlerMappingGlobalCorsAutoConfiguration required a bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' in your configuration.

2025-04-23T20:25:46.406+03:00  INFO 1571 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 1571 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T20:25:46.407+03:00 DEBUG 1571 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:25:46.408+03:00  INFO 1571 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:25:47.332+03:00  INFO 1571 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6b00d30-d688-390e-a518-c442513e9da0
2025-04-23T20:25:47.627+03:00  INFO 1571 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 34848cd5-d8e9-4863-b456-c6b62b1d9a89

2025-04-23T20:25:47.702+03:00 DEBUG 1571 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:25:47.807+03:00 DEBUG 1571 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='name', args={_genkey_0=CircuitBreaker, _genkey_1=args.name=lab1ServiceBreaker, _genkey_2=args.fallbackUri=forward:/fallback/lab1}}, FilterDefinition{name='name', args={_genkey_0=RequestRateLimiter, _genkey_1=args.redis-rate-limiter.replenishRate=50, _genkey_2=args.redis-rate-limiter.burstCapacity=100, _genkey_3=args.key-resolver=#{@ipKeyResolver}}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:25:47.947+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:25:47.948+03:00  INFO 1571 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:25:48.076+03:00  INFO 1571 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:25:48.100+03:00 DEBUG 1571 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:25:48.231+03:00  WARN 1571 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.cloud.gateway.config.SimpleUrlHandlerMappingGlobalCorsAutoConfiguration': Unsatisfied dependency expressed through field 'simpleUrlHandlerMapping': No qualifying bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-23T20:25:48.251+03:00  INFO 1571 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T20:25:48.262+03:00 ERROR 1571 --- [gateway] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field simpleUrlHandlerMapping in org.springframework.cloud.gateway.config.SimpleUrlHandlerMappingGlobalCorsAutoConfiguration required a bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.web.reactive.handler.SimpleUrlHandlerMapping' in your configuration.

2025-04-23T20:35:02.424+03:00  INFO 1975 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 1975 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T20:35:02.425+03:00 DEBUG 1975 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:35:02.425+03:00  INFO 1975 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:35:03.224+03:00  INFO 1975 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T20:35:03.537+03:00  INFO 1975 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 9b762d00-2448-43e4-9700-918352227d3d

2025-04-23T20:35:03.612+03:00 DEBUG 1975 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:35:03.734+03:00 DEBUG 1975 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:35:03.869+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:35:03.869+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:35:03.869+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:35:03.870+03:00  INFO 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:35:04.007+03:00  INFO 1975 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:35:04.032+03:00 DEBUG 1975 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:35:04.215+03:00 DEBUG 1975 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=8, workerCount=8}
2025-04-23T20:35:04.216+03:00 DEBUG 1975 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@22ff11ef
2025-04-23T20:35:04.222+03:00 DEBUG 1975 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-04-23T20:35:04.233+03:00 DEBUG 1975 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-04-23T20:35:04.233+03:00 DEBUG 1975 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-04-23T20:35:04.282+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [d33be769, L:/[0:0:0:0:0:0:0:0]:8080] Bound new server
2025-04-23T20:35:04.283+03:00  INFO 1975 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T20:35:04.309+03:00 DEBUG 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying {_genkey_0=/api/lab1/**} to Path
2025-04-23T20:35:04.318+03:00 DEBUG 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}} to RewritePath
2025-04-23T20:35:04.322+03:00 DEBUG 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T20:35:04.323+03:00 DEBUG 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T20:35:04.326+03:00 DEBUG 1975 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab-1-service
2025-04-23T20:35:04.329+03:00 DEBUG 1975 --- [gateway] [main] o.s.c.g.filter.GatewayMetricsFilter      : New routes count: 1
2025-04-23T20:35:04.330+03:00  INFO 1975 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.152 seconds (process running for 2.552)
2025-04-23T20:36:58.477+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [00cc8240, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49697] New http connection, requesting read
2025-04-23T20:36:58.477+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] New http connection, requesting read
2025-04-23T20:36:58.477+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-04-23T20:36:58.477+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [00cc8240, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49697] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-04-23T20:36:58.491+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Increasing pending responses count: 1
2025-04-23T20:36:58.495+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [020e3e5f-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7711c623
2025-04-23T20:36:58.518+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : No valid Authorization header found for path: /api/auth/login
2025-04-23T20:36:58.524+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP response frame
2025-04-23T20:36:58.525+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Headers are not sent before onComplete().
2025-04-23T20:36:58.526+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Decreasing pending responses count: 0
2025-04-23T20:36:58.527+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP packet was sent, terminating the channel
2025-04-23T20:36:58.527+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [020e3e5f-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:36:58.530+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.channel.ChannelOperationsHandler     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] No ChannelOperation attached.
2025-04-23T20:37:22.855+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Increasing pending responses count: 1
2025-04-23T20:37:22.857+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [020e3e5f-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7711c623
2025-04-23T20:37:22.920+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:37:22.935+03:00 DEBUG 1975 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:37:22.939+03:00 ERROR 1975 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND
2025-04-23T20:37:22.940+03:00 DEBUG 1975 --- [gateway] [parallel-1] r.n.http.server.HttpServerOperations     : [020e3e5f-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP response frame
2025-04-23T20:37:22.940+03:00 DEBUG 1975 --- [gateway] [parallel-1] r.n.http.server.HttpServerOperations     : [020e3e5f-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Headers are not sent before onComplete().
2025-04-23T20:37:22.942+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Decreasing pending responses count: 0
2025-04-23T20:37:22.942+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP packet was sent, terminating the channel
2025-04-23T20:37:22.942+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [020e3e5f-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:37:22.943+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [020e3e5f-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [terminated=true, cancelled=true, pending=0, error=null]: dropping frame LAST_CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 106, cap: 106/106, unwrapped: PooledUnsafeDirectByteBuf(ridx: 578, widx: 578, cap: 2048)))
2025-04-23T20:38:05.109+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Increasing pending responses count: 1
2025-04-23T20:38:05.114+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [020e3e5f-3, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7711c623
2025-04-23T20:38:05.125+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:38:05.132+03:00 DEBUG 1975 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:38:05.134+03:00 ERROR 1975 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND
2025-04-23T20:38:05.135+03:00 DEBUG 1975 --- [gateway] [parallel-2] r.n.http.server.HttpServerOperations     : [020e3e5f-3, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP response frame
2025-04-23T20:38:05.135+03:00 DEBUG 1975 --- [gateway] [parallel-2] r.n.http.server.HttpServerOperations     : [020e3e5f-3, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Headers are not sent before onComplete().
2025-04-23T20:38:05.136+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-3, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Decreasing pending responses count: 0
2025-04-23T20:38:05.136+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-3, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP packet was sent, terminating the channel
2025-04-23T20:38:05.136+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [020e3e5f-3, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:38:05.137+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [020e3e5f-3, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [terminated=true, cancelled=true, pending=0, error=null]: dropping frame LAST_CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 106, cap: 106/106, unwrapped: PooledUnsafeDirectByteBuf(ridx: 578, widx: 578, cap: 1024)))
2025-04-23T20:38:17.922+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Increasing pending responses count: 1
2025-04-23T20:38:17.922+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [020e3e5f-4, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7711c623
2025-04-23T20:38:17.928+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:38:17.934+03:00 DEBUG 1975 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:38:17.935+03:00 ERROR 1975 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND
2025-04-23T20:38:17.935+03:00 DEBUG 1975 --- [gateway] [parallel-3] r.n.http.server.HttpServerOperations     : [020e3e5f-4, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP response frame
2025-04-23T20:38:17.935+03:00 DEBUG 1975 --- [gateway] [parallel-3] r.n.http.server.HttpServerOperations     : [020e3e5f-4, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Headers are not sent before onComplete().
2025-04-23T20:38:17.936+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-4, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Decreasing pending responses count: 0
2025-04-23T20:38:17.936+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-4, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP packet was sent, terminating the channel
2025-04-23T20:38:17.936+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [020e3e5f-4, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:38:17.936+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [020e3e5f-4, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [terminated=true, cancelled=true, pending=0, error=null]: dropping frame LAST_CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 106, cap: 106/106, unwrapped: PooledUnsafeDirectByteBuf(ridx: 578, widx: 578, cap: 1024)))
2025-04-23T20:38:25.673+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Increasing pending responses count: 1
2025-04-23T20:38:25.675+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [020e3e5f-5, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7711c623
2025-04-23T20:38:25.677+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : No valid Authorization header found for path: /api/auth/login
2025-04-23T20:38:25.678+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-5, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP response frame
2025-04-23T20:38:25.678+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-5, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Headers are not sent before onComplete().
2025-04-23T20:38:25.679+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-5, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Decreasing pending responses count: 0
2025-04-23T20:38:25.680+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-5, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP packet was sent, terminating the channel
2025-04-23T20:38:25.680+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [020e3e5f-5, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:38:25.680+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.channel.ChannelOperationsHandler     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] No ChannelOperation attached.
2025-04-23T20:38:31.484+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Increasing pending responses count: 1
2025-04-23T20:38:31.484+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [020e3e5f-6, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7711c623
2025-04-23T20:38:31.486+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : No valid Authorization header found for path: /api/auth/login
2025-04-23T20:38:31.487+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-6, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP response frame
2025-04-23T20:38:31.487+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-6, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Headers are not sent before onComplete().
2025-04-23T20:38:31.487+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-6, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Decreasing pending responses count: 0
2025-04-23T20:38:31.488+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [020e3e5f-6, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] Last HTTP packet was sent, terminating the channel
2025-04-23T20:38:31.488+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [020e3e5f-6, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:38:31.488+03:00 DEBUG 1975 --- [gateway] [reactor-http-nio-3] r.n.channel.ChannelOperationsHandler     : [020e3e5f, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49698] No ChannelOperation attached.
2025-04-23T20:38:38.684+03:00  INFO 1975 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T20:38:38.685+03:00 DEBUG 1975 --- [gateway] [netty-shutdown] r.netty.transport.ServerTransport        : [d33be769, L:/[0:0:0:0:0:0:0:0]:8080] Server is about to be disposed with timeout: PT2562047H47M16.854775807S
2025-04-23T20:38:38.686+03:00  INFO 1975 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T20:38:38.686+03:00 DEBUG 1975 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [d33be769, L:/[0:0:0:0:0:0:0:0]:8080] Server has been disposed
2025-04-23T20:39:45.130+03:00  INFO 2087 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2087 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T20:39:45.131+03:00 DEBUG 2087 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:39:45.132+03:00  INFO 2087 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:39:45.918+03:00  INFO 2087 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T20:39:46.211+03:00  INFO 2087 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 940575f1-141d-44b2-9db3-122bb0c81635

2025-04-23T20:39:46.284+03:00 DEBUG 2087 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:39:46.391+03:00 DEBUG 2087 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:39:46.519+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:39:46.520+03:00  INFO 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:39:46.653+03:00  INFO 2087 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:39:46.678+03:00 DEBUG 2087 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:39:46.848+03:00 DEBUG 2087 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=8, workerCount=8}
2025-04-23T20:39:46.848+03:00 DEBUG 2087 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@495e8a3
2025-04-23T20:39:46.854+03:00 DEBUG 2087 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-04-23T20:39:46.863+03:00 DEBUG 2087 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-04-23T20:39:46.863+03:00 DEBUG 2087 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-04-23T20:39:46.907+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [40bafab3, L:/[0:0:0:0:0:0:0:0]:8080] Bound new server
2025-04-23T20:39:46.907+03:00  INFO 2087 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T20:39:46.933+03:00 DEBUG 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying {_genkey_0=/api/lab1/**} to Path
2025-04-23T20:39:46.940+03:00 DEBUG 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}} to RewritePath
2025-04-23T20:39:46.945+03:00 DEBUG 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T20:39:46.946+03:00 DEBUG 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T20:39:46.949+03:00 DEBUG 2087 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab-1-service
2025-04-23T20:39:46.951+03:00 DEBUG 2087 --- [gateway] [main] o.s.c.g.filter.GatewayMetricsFilter      : New routes count: 1
2025-04-23T20:39:46.952+03:00  INFO 2087 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.062 seconds (process running for 2.445)
2025-04-23T20:40:05.429+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [8267963e, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49747] New http connection, requesting read
2025-04-23T20:40:05.429+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] New http connection, requesting read
2025-04-23T20:40:05.430+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [4f7d3ad1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-04-23T20:40:05.430+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [8267963e, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49747] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-04-23T20:40:05.443+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Increasing pending responses count: 1
2025-04-23T20:40:05.449+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [4f7d3ad1-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4e301773
2025-04-23T20:40:05.471+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : No valid Authorization header found for path: /api/auth/login
2025-04-23T20:40:05.478+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Last HTTP response frame
2025-04-23T20:40:05.478+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Headers are not sent before onComplete().
2025-04-23T20:40:05.480+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Decreasing pending responses count: 0
2025-04-23T20:40:05.480+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Last HTTP packet was sent, terminating the channel
2025-04-23T20:40:05.480+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [4f7d3ad1-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:40:05.483+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.channel.ChannelOperationsHandler     : [4f7d3ad1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] No ChannelOperation attached.
2025-04-23T20:41:05.700+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Increasing pending responses count: 1
2025-04-23T20:41:05.702+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [4f7d3ad1-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4e301773
2025-04-23T20:41:05.761+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:41:05.777+03:00 DEBUG 2087 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:41:05.781+03:00 ERROR 2087 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND
2025-04-23T20:41:05.782+03:00 DEBUG 2087 --- [gateway] [parallel-1] r.n.http.server.HttpServerOperations     : [4f7d3ad1-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Last HTTP response frame
2025-04-23T20:41:05.782+03:00 DEBUG 2087 --- [gateway] [parallel-1] r.n.http.server.HttpServerOperations     : [4f7d3ad1-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Headers are not sent before onComplete().
2025-04-23T20:41:05.783+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Decreasing pending responses count: 0
2025-04-23T20:41:05.784+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4f7d3ad1-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] Last HTTP packet was sent, terminating the channel
2025-04-23T20:41:05.784+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [4f7d3ad1-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:41:05.785+03:00 DEBUG 2087 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [4f7d3ad1-2, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49748] [terminated=true, cancelled=true, pending=0, error=null]: dropping frame LAST_CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 106, cap: 106/106, unwrapped: PooledUnsafeDirectByteBuf(ridx: 578, widx: 578, cap: 2048)))
2025-04-23T20:41:32.615+03:00  INFO 2087 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T20:41:32.615+03:00 DEBUG 2087 --- [gateway] [netty-shutdown] r.netty.transport.ServerTransport        : [40bafab3, L:/[0:0:0:0:0:0:0:0]:8080] Server is about to be disposed with timeout: PT2562047H47M16.854775807S
2025-04-23T20:41:32.616+03:00  INFO 2087 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T20:41:32.616+03:00 DEBUG 2087 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [40bafab3, L:/[0:0:0:0:0:0:0:0]:8080] Server has been disposed
2025-04-23T20:43:28.015+03:00  INFO 2130 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2130 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T20:43:28.017+03:00 DEBUG 2130 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:43:28.018+03:00  INFO 2130 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:43:28.864+03:00  INFO 2130 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T20:43:29.182+03:00  INFO 2130 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: f4820357-4972-4b20-a5fe-2a03c4228705

2025-04-23T20:43:29.253+03:00 DEBUG 2130 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:43:29.358+03:00 DEBUG 2130 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:43:29.494+03:00  INFO 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:43:29.626+03:00  INFO 2130 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:43:29.652+03:00 DEBUG 2130 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:43:29.812+03:00 DEBUG 2130 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=8, workerCount=8}
2025-04-23T20:43:29.813+03:00 DEBUG 2130 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@74badf19
2025-04-23T20:43:29.820+03:00 DEBUG 2130 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-04-23T20:43:29.829+03:00 DEBUG 2130 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-04-23T20:43:29.830+03:00 DEBUG 2130 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-04-23T20:43:29.889+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [230376b4, L:/[0:0:0:0:0:0:0:0]:8080] Bound new server
2025-04-23T20:43:29.889+03:00  INFO 2130 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T20:43:29.916+03:00 DEBUG 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying {_genkey_0=/api/lab1/**} to Path
2025-04-23T20:43:29.924+03:00 DEBUG 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}} to RewritePath
2025-04-23T20:43:29.929+03:00 DEBUG 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T20:43:29.929+03:00 DEBUG 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T20:43:29.932+03:00 DEBUG 2130 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab-1-service
2025-04-23T20:43:29.935+03:00 DEBUG 2130 --- [gateway] [main] o.s.c.g.filter.GatewayMetricsFilter      : New routes count: 1
2025-04-23T20:43:29.936+03:00  INFO 2130 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.179 seconds (process running for 2.592)
2025-04-23T20:43:32.853+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [228702a9, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49798] New http connection, requesting read
2025-04-23T20:43:32.853+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [ac02ebea, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] New http connection, requesting read
2025-04-23T20:43:32.853+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [228702a9, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49798] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-04-23T20:43:32.853+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [ac02ebea, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-04-23T20:43:32.868+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [ac02ebea, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] Increasing pending responses count: 1
2025-04-23T20:43:32.873+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [ac02ebea-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@667c6cd5
2025-04-23T20:43:32.894+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : No valid Authorization header found for path: /api/auth/login
2025-04-23T20:43:32.900+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [ac02ebea-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] Last HTTP response frame
2025-04-23T20:43:32.900+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [ac02ebea-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] Headers are not sent before onComplete().
2025-04-23T20:43:32.902+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [ac02ebea-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] Decreasing pending responses count: 0
2025-04-23T20:43:32.903+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [ac02ebea-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] Last HTTP packet was sent, terminating the channel
2025-04-23T20:43:32.903+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [ac02ebea-1, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] [HttpServer] Channel inbound receiver cancelled (subscription disposed).
2025-04-23T20:43:32.906+03:00 DEBUG 2130 --- [gateway] [reactor-http-nio-3] r.n.channel.ChannelOperationsHandler     : [ac02ebea, L:/[0:0:0:0:0:0:0:1]:8080 - R:/[0:0:0:0:0:0:0:1]:49799] No ChannelOperation attached.
2025-04-23T20:47:12.850+03:00  INFO 2130 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T20:47:12.856+03:00 DEBUG 2130 --- [gateway] [netty-shutdown] r.netty.transport.ServerTransport        : [230376b4, L:/[0:0:0:0:0:0:0:0]:8080] Server is about to be disposed with timeout: PT2562047H47M16.854775807S
2025-04-23T20:47:12.860+03:00  INFO 2130 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T20:47:12.861+03:00 DEBUG 2130 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [230376b4, L:/[0:0:0:0:0:0:0:0]:8080] Server has been disposed
2025-04-23T20:51:33.222+03:00  INFO 2518 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2518 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T20:51:33.224+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:51:33.224+03:00  INFO 2518 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:51:34.118+03:00  INFO 2518 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T20:51:34.410+03:00  INFO 2518 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 3754a756-92b3-4830-ae10-b087536e3f18

2025-04-23T20:51:34.461+03:00  INFO 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:51:34.462+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : CORS configuration applied
2025-04-23T20:51:34.465+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/lab1/auth/login to permitAll
2025-04-23T20:51:34.490+03:00 DEBUG 2518 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:51:34.491+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/lab1/auth/register to permitAll
2025-04-23T20:51:34.491+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/lab1/auth/refresh-token to permitAll
2025-04-23T20:51:34.491+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/auth/login to permitAll
2025-04-23T20:51:34.491+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/auth/register to permitAll
2025-04-23T20:51:34.491+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/auth/refresh-token to permitAll
2025-04-23T20:51:34.491+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /actuator/** to permitAll
2025-04-23T20:51:34.491+03:00 DEBUG 2518 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /fallback/** to permitAll
2025-04-23T20:51:34.598+03:00 DEBUG 2518 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:51:34.741+03:00  INFO 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:51:34.860+03:00  INFO 2518 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:51:34.885+03:00 DEBUG 2518 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:51:35.110+03:00  INFO 2518 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T20:51:35.138+03:00 DEBUG 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying {_genkey_0=/api/lab1/**} to Path
2025-04-23T20:51:35.147+03:00 DEBUG 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}} to RewritePath
2025-04-23T20:51:35.152+03:00 DEBUG 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T20:51:35.153+03:00 DEBUG 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T20:51:35.157+03:00 DEBUG 2518 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab-1-service
2025-04-23T20:51:35.159+03:00 DEBUG 2518 --- [gateway] [main] o.s.c.g.filter.GatewayMetricsFilter      : New routes count: 1
2025-04-23T20:51:35.160+03:00  INFO 2518 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.203 seconds (process running for 2.622)
2025-04-23T20:52:25.755+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:52:25.756+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:52:25.756+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:52:25.756+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:25.797+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:25.797+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:25.798+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:25.798+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:25.799+03:00  INFO 2518 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:52:25.812+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:52:25.812+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:52:25.813+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.816+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:52:25.817+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.818+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:52:25.818+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:52:25.818+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.818+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:52:25.818+03:00 DEBUG 2518 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:52:25.818+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:25.818+03:00 DEBUG 2518 --- [gateway] [parallel-1] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@bf3fc2
2025-04-23T20:52:25.821+03:00 DEBUG 2518 --- [gateway] [parallel-1] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:52:25.822+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:52:25.823+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:52:25.823+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:52:25.823+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:25.823+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:25.823+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:25.824+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:25.824+03:00 DEBUG 2518 --- [gateway] [parallel-1] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:25.824+03:00  INFO 2518 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:52:25.828+03:00 ERROR 2518 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND
	at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onComplete(FluxConcatMapNoPrefetch.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:239) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:236) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.request(FluxFilterWhen.java:160) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:202) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:155) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:259) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:865) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.request(FluxFilterFuseable.java:411) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onSubscribe(FluxFilterFuseable.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:207) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.request(FluxFlatMap.java:349) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.request(FluxPeekFuseable.java:783) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:469) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1866) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.7.4.jar:3.7.4]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-04-23T20:52:41.465+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:52:41.466+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:52:41.467+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:52:41.467+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:41.468+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:41.468+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:41.469+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:41.469+03:00 DEBUG 2518 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:41.469+03:00  INFO 2518 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:52:41.471+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:52:41.471+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:52:41.471+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.473+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:52:41.473+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:52:41.473+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.473+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:52:41.473+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:52:41.474+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.474+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:52:41.474+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:52:41.474+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.475+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:52:41.475+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:52:41.475+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.475+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:52:41.475+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:52:41.476+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:52:41.477+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:52:41.478+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.478+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:52:41.478+03:00 DEBUG 2518 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:52:41.478+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:52:41.478+03:00 DEBUG 2518 --- [gateway] [parallel-2] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@bf3fc2
2025-04-23T20:52:41.479+03:00 DEBUG 2518 --- [gateway] [parallel-2] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:52:41.479+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:52:41.479+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:52:41.479+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:52:41.479+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:41.480+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:41.480+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:52:41.481+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:41.481+03:00 DEBUG 2518 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:52:41.481+03:00  INFO 2518 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:52:41.482+03:00 ERROR 2518 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND
	at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onComplete(FluxConcatMapNoPrefetch.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:239) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:236) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.request(FluxFilterWhen.java:160) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:202) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:155) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:259) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:865) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.request(FluxFilterFuseable.java:411) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onSubscribe(FluxFilterFuseable.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:207) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.request(FluxFlatMap.java:349) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.request(FluxPeekFuseable.java:783) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:469) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1866) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.7.4.jar:3.7.4]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-04-23T20:53:23.790+03:00  INFO 2518 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T20:53:23.792+03:00  INFO 2518 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T20:56:48.792+03:00  INFO 2604 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2604 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T20:56:48.793+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-23T20:56:48.793+03:00  INFO 2604 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T20:56:49.584+03:00  INFO 2604 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T20:56:49.900+03:00  INFO 2604 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 56fe8132-db0c-46ff-8594-97f474c48a57

2025-04-23T20:56:49.948+03:00  INFO 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:56:49.949+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : CORS configuration applied
2025-04-23T20:56:49.951+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/lab1/auth/login to permitAll
2025-04-23T20:56:49.976+03:00 DEBUG 2604 --- [gateway] [main] s.w.r.r.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-04-23T20:56:49.977+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/lab1/auth/register to permitAll
2025-04-23T20:56:49.977+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/lab1/auth/refresh-token to permitAll
2025-04-23T20:56:49.977+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/auth/login to permitAll
2025-04-23T20:56:49.977+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/auth/register to permitAll
2025-04-23T20:56:49.977+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /api/auth/refresh-token to permitAll
2025-04-23T20:56:49.977+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /actuator/** to permitAll
2025-04-23T20:56:49.977+03:00 DEBUG 2604 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring path /fallback/** to permitAll
2025-04-23T20:56:50.106+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/lab1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}}}, FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}, RouteDefinition{id='lab1-reports-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/reports/**}}], filters=[FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T20:56:50.243+03:00  INFO 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T20:56:50.388+03:00  INFO 2604 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T20:56:50.414+03:00 DEBUG 2604 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-04-23T20:56:50.632+03:00  INFO 2604 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T20:56:50.658+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying {_genkey_0=/api/lab1/**} to Path
2025-04-23T20:56:50.666+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=/api/lab1/(?<segment>.*), _genkey_1=/api/${segment}} to RewritePath
2025-04-23T20:56:50.672+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T20:56:50.673+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T20:56:50.675+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab-1-service
2025-04-23T20:56:50.675+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying {_genkey_0=/reports/**} to Path
2025-04-23T20:56:50.676+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T20:56:50.676+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T20:56:50.677+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab1-reports-service
2025-04-23T20:56:50.680+03:00 DEBUG 2604 --- [gateway] [main] o.s.c.g.filter.GatewayMetricsFilter      : New routes count: 2
2025-04-23T20:56:50.681+03:00  INFO 2604 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.135 seconds (process running for 2.544)
2025-04-23T20:57:09.849+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/auth/login
2025-04-23T20:57:09.850+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:57:09.850+03:00  INFO 2604 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T20:57:09.857+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:57:09.858+03:00 DEBUG 2604 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'POST /logout'
2025-04-23T20:57:09.858+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:09.861+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:57:09.861+03:00 DEBUG 2604 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] athPatternParserServerWebExchangeMatcher : Checking match of request : '/api/auth/login'; against '/api/auth/login'
2025-04-23T20:57:09.862+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : matched
2025-04-23T20:57:09.863+03:00 DEBUG 2604 --- [gateway] [parallel-1] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/api/auth/login' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda$875/0x000000700160a5a8@266fe905
2025-04-23T20:57:09.865+03:00 DEBUG 2604 --- [gateway] [parallel-1] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:57:09.866+03:00 DEBUG 2604 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/auth/login
2025-04-23T20:57:09.866+03:00 DEBUG 2604 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:57:09.866+03:00  INFO 2604 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T20:57:09.873+03:00 ERROR 2604 --- [gateway] [parallel-1] c.c.g.exception.GlobalErrorHandler       : Gateway error: 404 NOT_FOUND

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND
	at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint  com.cherenkov.gateway.filter.JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint  org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint  AuthorizationWebFilter [DefaultWebFilterChain]
	*__checkpoint  ExceptionTranslationWebFilter [DefaultWebFilterChain]
	*__checkpoint  LogoutWebFilter [DefaultWebFilterChain]
	*__checkpoint  ServerRequestCacheWebFilter [DefaultWebFilterChain]
	*__checkpoint  SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]
	*__checkpoint  JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint  ReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint  CorsWebFilter [DefaultWebFilterChain]
	*__checkpoint  HttpHeaderWriterWebFilter [DefaultWebFilterChain]
	*__checkpoint  ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]
	*__checkpoint  HTTP POST "/api/auth/login" [ExceptionHandlingWebHandler]
Original Stack Trace:
		at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onComplete(FluxConcatMapNoPrefetch.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:239) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:236) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.request(FluxFilterWhen.java:160) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:155) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:259) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:865) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmitScalar(FluxFlatMap.java:492) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:424) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:207) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.request(FluxFlatMap.java:349) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.request(FluxPeekFuseable.java:783) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:469) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1866) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.7.4.jar:3.7.4]
		at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
		at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
		at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
		at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
		at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-04-23T20:57:16.777+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:57:16.777+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:57:16.778+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:57:16.779+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:57:16.833+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:57:16.833+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:57:16.834+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:57:16.834+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:57:16.835+03:00  INFO 2604 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:57:16.839+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:57:16.839+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:57:16.839+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:57:16.840+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:57:16.841+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:57:16.842+03:00 DEBUG 2604 --- [gateway] [parallel-2] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T20:57:16.843+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:57:16.843+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:57:16.843+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:57:16.843+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:57:16.843+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:57:16.844+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:57:16.844+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:57:16.844+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:57:16.844+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:57:16.844+03:00  INFO 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:57:16.845+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T20:57:16.846+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T20:57:16.846+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [4206e695-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T20:57:16.847+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T20:57:16.848+03:00  INFO 2604 --- [gateway] [parallel-2] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [a692a54b-4621-4792-8aeb-2b2576e300ad]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T20:57:16.848+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [a692a54b-4621-4792-8aeb-2b2576e300ad]: /reports/attendance
2025-04-23T20:57:16.849+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [a692a54b-4621-4792-8aeb-2b2576e300ad]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=1b640f07-009c-4b94-b59d-212707ddd72b, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test}
2025-04-23T20:57:16.850+03:00  INFO 2604 --- [gateway] [parallel-2] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [07fc71bc-5523-4eae-bd2a-2b50da4073ce]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=1b640f07-009c-4b94-b59d-212707ddd72b, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Correlation-ID=a692a54b-4621-4792-8aeb-2b2576e300ad}
2025-04-23T20:57:16.857+03:00 DEBUG 2604 --- [gateway] [parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMwNzIxLCJleHAiOjE3NDU0MzQzMjF9.ym8piJUY_sl-RtfIPO6ioIbKGGP4xH_MhVSB6MJoqtmlhWSOys_PX2LIlgXQE2j2", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"1b640f07-009c-4b94-b59d-212707ddd72b", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"106", X-Auth-User:"test", X-Correlation-ID:"a692a54b-4621-4792-8aeb-2b2576e300ad", X-Request-ID:"07fc71bc-5523-4eae-bd2a-2b50da4073ce", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50263"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:57:16.860+03:00 DEBUG 2604 --- [gateway] [parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@706ba543', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.43125E-4, duration(nanos)=343125.0, startTimeNanos=2398835710708}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@29c1c622} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMwNzIxLCJleHAiOjE3NDU0MzQzMjF9.ym8piJUY_sl-RtfIPO6ioIbKGGP4xH_MhVSB6MJoqtmlhWSOys_PX2LIlgXQE2j2", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"1b640f07-009c-4b94-b59d-212707ddd72b", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"106", X-Auth-User:"test", X-Correlation-ID:"a692a54b-4621-4792-8aeb-2b2576e300ad", X-Request-ID:"07fc71bc-5523-4eae-bd2a-2b50da4073ce", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50263"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:57:16.892+03:00 ERROR 2604 --- [gateway] [parallel-2] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T20:57:17.100+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-5] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T20:57:17.100+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-5] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@706ba543', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.241026125, duration(nanos)=2.41026125E8, startTimeNanos=2398835710708}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@29c1c622}
2025-04-23T20:57:17.106+03:00  INFO 2604 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [07fc71bc-5523-4eae-bd2a-2b50da4073ce]: Status=403 FORBIDDEN
2025-04-23T20:57:17.106+03:00  WARN 2604 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [a692a54b-4621-4792-8aeb-2b2576e300ad]: Status=403 FORBIDDEN, Duration=259ms
2025-04-23T20:57:17.106+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [a692a54b-4621-4792-8aeb-2b2576e300ad]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"a692a54b-4621-4792-8aeb-2b2576e300ad", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Length:"0", Date:"Wed, 23 Apr 2025 17:57:17 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T20:58:35.084+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/lab1/auth/login
2025-04-23T20:58:35.085+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:58:35.085+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/lab1/auth/login
2025-04-23T20:58:35.086+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:58:35.087+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /api/lab1/auth/login' doesn't match 'POST /logout'
2025-04-23T20:58:35.087+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:35.087+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:58:35.087+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Checking match of request : '/api/lab1/auth/login'; against '/api/lab1/auth/login'
2025-04-23T20:58:35.087+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : matched
2025-04-23T20:58:35.087+03:00 DEBUG 2604 --- [gateway] [parallel-4] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/api/lab1/auth/login' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda$875/0x000000700160a5a8@266fe905
2025-04-23T20:58:35.088+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:58:35.088+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/lab1/auth/login
2025-04-23T20:58:35.088+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:58:35.088+03:00  INFO 2604 --- [gateway] [parallel-4] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/lab1/auth/login
2025-04-23T20:58:35.089+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab-1-service
2025-04-23T20:58:35.089+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/api/lab1/auth/login] to Route{id='lab-1-service', uri=http://localhost:8081, order=0, predicate=Paths: [/api/lab1/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/lab1/(?<segment>.*) = '/api/${segment}'], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 3]], metadata={}}
2025-04-23T20:58:35.089+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T20:58:35.089+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RewritePath /api/lab1/(?<segment>.*) = '/api/${segment}'], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 3], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T20:58:35.090+03:00  INFO 2604 --- [gateway] [parallel-4] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [44967905-843a-4c3c-8594-8c0eda2fad6f]: POST http://localhost:8080/api/lab1/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T20:58:35.090+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [44967905-843a-4c3c-8594-8c0eda2fad6f]: /api/lab1/auth/login
2025-04-23T20:58:35.090+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [44967905-843a-4c3c-8594-8c0eda2fad6f]: {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=774ef431-9b04-4296-9371-3c184044305b, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50}
2025-04-23T20:58:35.090+03:00  INFO 2604 --- [gateway] [parallel-4] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [771212d4-87de-45b4-85a9-2b7abb3cc875]: POST http://localhost:8080/api/lab1/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=774ef431-9b04-4296-9371-3c184044305b, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Correlation-ID=44967905-843a-4c3c-8594-8c0eda2fad6f}
2025-04-23T20:58:35.091+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.g.v.impl.AuthRequestValidator        :      : /api/lab1/auth/login
2025-04-23T20:58:35.095+03:00 DEBUG 2604 --- [gateway] [parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"774ef431-9b04-4296-9371-3c184044305b", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"50", X-Correlation-ID:"44967905-843a-4c3c-8594-8c0eda2fad6f", X-Request-ID:"771212d4-87de-45b4-85a9-2b7abb3cc875", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:58:35.095+03:00 DEBUG 2604 --- [gateway] [parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab-1-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/api/auth/login'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3fef9d75', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=7.075E-5, duration(nanos)=70750.0, startTimeNanos=2477071375833}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3ac7f748} created for the request. New headers are [Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"774ef431-9b04-4296-9371-3c184044305b", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"50", X-Correlation-ID:"44967905-843a-4c3c-8594-8c0eda2fad6f", X-Request-ID:"771212d4-87de-45b4-85a9-2b7abb3cc875", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:58:35.207+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T20:58:35.207+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab-1-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/api/auth/login'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3fef9d75', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.112315125, duration(nanos)=1.12315125E8, startTimeNanos=2477071375833}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3ac7f748}
2025-04-23T20:58:35.209+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [771212d4-87de-45b4-85a9-2b7abb3cc875]: Status=200 OK
2025-04-23T20:58:35.210+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [44967905-843a-4c3c-8594-8c0eda2fad6f]: Status=200 OK, Duration=120ms
2025-04-23T20:58:35.210+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [44967905-843a-4c3c-8594-8c0eda2fad6f]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"44967905-843a-4c3c-8594-8c0eda2fad6f", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"330", Date:"Wed, 23 Apr 2025 17:58:35 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T20:58:42.065+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /lab1/reports/attendance
2025-04-23T20:58:42.065+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:58:42.065+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:58:42.065+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:42.066+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:58:42.066+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:42.067+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:58:42.067+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:58:42.067+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab1/reports/attendance
2025-04-23T20:58:42.069+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:58:42.069+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:58:42.069+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.069+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:58:42.069+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:58:42.070+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:58:42.071+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:58:42.072+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.073+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:58:42.073+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:58:42.073+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:42.073+03:00 DEBUG 2604 --- [gateway] [parallel-6] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/lab1/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T20:58:42.073+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:58:42.073+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /lab1/reports/attendance
2025-04-23T20:58:42.074+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:58:42.076+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:58:42.076+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:42.078+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:58:42.078+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:42.079+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:58:42.079+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:52:01 MSK 2025
2025-04-23T20:58:42.079+03:00  INFO 2604 --- [gateway] [parallel-6] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab1/reports/attendance
2025-04-23T20:58:42.080+03:00 ERROR 2604 --- [gateway] [parallel-6] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND
	at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onComplete(FluxConcatMapNoPrefetch.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:239) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:236) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.request(FluxFilterWhen.java:160) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:202) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:155) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:259) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:865) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.request(FluxFilterFuseable.java:411) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onSubscribe(FluxFilterFuseable.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:207) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.request(FluxFlatMap.java:349) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.request(FluxPeekFuseable.java:783) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:469) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1866) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.7.4.jar:3.7.4]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-04-23T20:58:57.959+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /lab1/reports/attendance
2025-04-23T20:58:57.959+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:58:57.959+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:58:57.959+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:57.960+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:58:57.961+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:57.962+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:58:57.962+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:58:57.962+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab1/reports/attendance
2025-04-23T20:58:57.964+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:58:57.964+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:58:57.964+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.964+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:58:57.965+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.966+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:58:57.966+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:58:57.966+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.966+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:58:57.966+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:58:57.966+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.966+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.967+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.968+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:58:57.969+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /lab1/reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:58:57.969+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:58:57.969+03:00 DEBUG 2604 --- [gateway] [parallel-7] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/lab1/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T20:58:57.969+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:58:57.970+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /lab1/reports/attendance
2025-04-23T20:58:57.970+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:58:57.971+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:58:57.976+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:57.977+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:58:57.978+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:58:57.978+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:58:57.978+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:58:57.978+03:00  INFO 2604 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab1/reports/attendance
2025-04-23T20:58:57.979+03:00 ERROR 2604 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: 404 NOT_FOUND

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND
	at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onComplete(FluxConcatMapNoPrefetch.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:239) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:236) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.request(FluxFilterWhen.java:160) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:202) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:155) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:259) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:865) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.request(FluxFilterFuseable.java:411) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onSubscribe(FluxFilterFuseable.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onNext(FluxFilterFuseable.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.request(FluxFilterFuseable.java:191) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableSubscriber.onSubscribe(FluxFilterFuseable.java:87) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:207) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.request(FluxFlatMap.java:349) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.request(FluxPeekFuseable.java:783) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:469) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1866) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.7.4.jar:3.7.4]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-04-23T20:59:14.125+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:14.126+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:14.126+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:14.126+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:14.127+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:14.127+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:14.128+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:14.128+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:14.128+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:14.129+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:59:14.129+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:59:14.130+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.130+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:59:14.130+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:59:14.130+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.130+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:59:14.130+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:59:14.131+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.132+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.133+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:14.134+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:14.134+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:14.134+03:00 DEBUG 2604 --- [gateway] [parallel-8] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T20:59:14.134+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:59:14.135+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:14.135+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:14.135+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:14.135+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:14.136+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:14.136+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:14.137+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:14.137+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:14.137+03:00  INFO 2604 --- [gateway] [parallel-8] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:14.138+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T20:59:14.138+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T20:59:14.138+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T20:59:14.138+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T20:59:14.139+03:00  INFO 2604 --- [gateway] [parallel-8] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [487646a4-0306-4d25-99d6-458c1171ad10]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T20:59:14.139+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [487646a4-0306-4d25-99d6-458c1171ad10]: /reports/attendance
2025-04-23T20:59:14.139+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [487646a4-0306-4d25-99d6-458c1171ad10]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=8d1f5c86-dd18-47b0-a65a-ad899c5248e7, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test}
2025-04-23T20:59:14.139+03:00  INFO 2604 --- [gateway] [parallel-8] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [258344b5-64f0-4047-a2af-6790274c77ba]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=8d1f5c86-dd18-47b0-a65a-ad899c5248e7, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Correlation-ID=487646a4-0306-4d25-99d6-458c1171ad10}
2025-04-23T20:59:14.141+03:00 DEBUG 2604 --- [gateway] [parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"8d1f5c86-dd18-47b0-a65a-ad899c5248e7", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"106", X-Auth-User:"test", X-Correlation-ID:"487646a4-0306-4d25-99d6-458c1171ad10", X-Request-ID:"258344b5-64f0-4047-a2af-6790274c77ba", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:14.142+03:00 DEBUG 2604 --- [gateway] [parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@78c489c7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.02E-4, duration(nanos)=102000.0, startTimeNanos=2516117923875}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@760378af} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"8d1f5c86-dd18-47b0-a65a-ad899c5248e7", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"106", X-Auth-User:"test", X-Correlation-ID:"487646a4-0306-4d25-99d6-458c1171ad10", X-Request-ID:"258344b5-64f0-4047-a2af-6790274c77ba", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:15.224+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T20:59:15.225+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@78c489c7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.082798625, duration(nanos)=1.082798625E9, startTimeNanos=2516117923875}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@760378af}
2025-04-23T20:59:15.227+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [258344b5-64f0-4047-a2af-6790274c77ba]: Status=200 OK
2025-04-23T20:59:15.228+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [487646a4-0306-4d25-99d6-458c1171ad10]: Status=200 OK, Duration=1090ms
2025-04-23T20:59:15.229+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [487646a4-0306-4d25-99d6-458c1171ad10]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"487646a4-0306-4d25-99d6-458c1171ad10", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"5503", Date:"Wed, 23 Apr 2025 17:59:15 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T20:59:28.097+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:28.099+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:28.099+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:28.099+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:28.101+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:28.101+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:28.102+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:28.102+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:28.103+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:28.108+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:59:28.109+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:59:28.109+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:59:28.112+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:59:28.113+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T20:59:28.114+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:59:28.115+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:28.115+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:28.115+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:28.115+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:28.116+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:28.116+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:28.118+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:28.118+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:28.118+03:00  INFO 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:28.119+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T20:59:28.119+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T20:59:28.119+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T20:59:28.119+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T20:59:28.119+03:00  INFO 2604 --- [gateway] [parallel-2] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [a152c3cb-af8c-4d9b-902a-c2e1a8442a6e]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T20:59:28.119+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [a152c3cb-af8c-4d9b-902a-c2e1a8442a6e]: /reports/attendance
2025-04-23T20:59:28.120+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [a152c3cb-af8c-4d9b-902a-c2e1a8442a6e]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=b3e994a2-36f6-4ee0-bdbd-f07c64435b8f, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=103, X-Auth-User=test}
2025-04-23T20:59:28.120+03:00  INFO 2604 --- [gateway] [parallel-2] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [7588bee5-ee05-4918-8065-3d74da378963]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=b3e994a2-36f6-4ee0-bdbd-f07c64435b8f, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=103, X-Auth-User=test, X-Correlation-ID=a152c3cb-af8c-4d9b-902a-c2e1a8442a6e}
2025-04-23T20:59:28.121+03:00 DEBUG 2604 --- [gateway] [parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"b3e994a2-36f6-4ee0-bdbd-f07c64435b8f", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"103", X-Auth-User:"test", X-Correlation-ID:"a152c3cb-af8c-4d9b-902a-c2e1a8442a6e", X-Request-ID:"7588bee5-ee05-4918-8065-3d74da378963", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:28.121+03:00 DEBUG 2604 --- [gateway] [parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5cdd5288', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.5625E-5, duration(nanos)=45625.0, startTimeNanos=2530096971708}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@16926abe} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"b3e994a2-36f6-4ee0-bdbd-f07c64435b8f", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"103", X-Auth-User:"test", X-Correlation-ID:"a152c3cb-af8c-4d9b-902a-c2e1a8442a6e", X-Request-ID:"7588bee5-ee05-4918-8065-3d74da378963", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:28.213+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T20:59:28.214+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5cdd5288', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.09278075, duration(nanos)=9.278075E7, startTimeNanos=2530096971708}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@16926abe}
2025-04-23T20:59:28.215+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [7588bee5-ee05-4918-8065-3d74da378963]: Status=200 OK
2025-04-23T20:59:28.215+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [a152c3cb-af8c-4d9b-902a-c2e1a8442a6e]: Status=200 OK, Duration=96ms
2025-04-23T20:59:28.215+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [a152c3cb-af8c-4d9b-902a-c2e1a8442a6e]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"a152c3cb-af8c-4d9b-902a-c2e1a8442a6e", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"5461", Date:"Wed, 23 Apr 2025 17:59:28 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T20:59:40.990+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:40.990+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:40.990+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:40.990+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:40.993+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:40.994+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:40.996+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:40.996+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:40.996+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:59:40.998+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:40.999+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:41.000+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:41.000+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:41.001+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:41.001+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:41.001+03:00  INFO 2604 --- [gateway] [parallel-4] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:41.002+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T20:59:41.002+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T20:59:41.002+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T20:59:41.002+03:00 DEBUG 2604 --- [gateway] [parallel-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T20:59:41.002+03:00  INFO 2604 --- [gateway] [parallel-4] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [cd624279-d4ff-41d9-bedd-3779cd113f3e]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T20:59:41.003+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [cd624279-d4ff-41d9-bedd-3779cd113f3e]: /reports/attendance
2025-04-23T20:59:41.003+03:00 DEBUG 2604 --- [gateway] [parallel-4] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [cd624279-d4ff-41d9-bedd-3779cd113f3e]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=03dbce2c-3aaf-4b19-a0ff-8773a7593afd, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=test}
2025-04-23T20:59:41.003+03:00  INFO 2604 --- [gateway] [parallel-4] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [875554fc-ad9d-48ac-a431-2a343d0bd5b0]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=03dbce2c-3aaf-4b19-a0ff-8773a7593afd, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=test, X-Correlation-ID=cd624279-d4ff-41d9-bedd-3779cd113f3e}
2025-04-23T20:59:41.003+03:00 DEBUG 2604 --- [gateway] [parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"03dbce2c-3aaf-4b19-a0ff-8773a7593afd", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"110", X-Auth-User:"test", X-Correlation-ID:"cd624279-d4ff-41d9-bedd-3779cd113f3e", X-Request-ID:"875554fc-ad9d-48ac-a431-2a343d0bd5b0", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:41.003+03:00 DEBUG 2604 --- [gateway] [parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@109a4da9', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.8208E-5, duration(nanos)=38208.0, startTimeNanos=2542979216750}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@28072e23} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"03dbce2c-3aaf-4b19-a0ff-8773a7593afd", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"110", X-Auth-User:"test", X-Correlation-ID:"cd624279-d4ff-41d9-bedd-3779cd113f3e", X-Request-ID:"875554fc-ad9d-48ac-a431-2a343d0bd5b0", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:41.128+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T20:59:41.128+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@109a4da9', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.125298375, duration(nanos)=1.25298375E8, startTimeNanos=2542979216750}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@28072e23}
2025-04-23T20:59:41.130+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [875554fc-ad9d-48ac-a431-2a343d0bd5b0]: Status=200 OK
2025-04-23T20:59:41.130+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [cd624279-d4ff-41d9-bedd-3779cd113f3e]: Status=200 OK, Duration=128ms
2025-04-23T20:59:41.130+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [cd624279-d4ff-41d9-bedd-3779cd113f3e]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"cd624279-d4ff-41d9-bedd-3779cd113f3e", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"5602", Date:"Wed, 23 Apr 2025 17:59:41 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T20:59:55.619+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:55.620+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:55.621+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:55.621+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:55.622+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:55.623+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:55.624+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:55.624+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:55.624+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:55.626+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T20:59:55.626+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T20:59:55.626+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.627+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T20:59:55.627+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T20:59:55.627+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.627+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T20:59:55.627+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T20:59:55.627+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T20:59:55.628+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.629+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T20:59:55.630+03:00 DEBUG 2604 --- [gateway] [parallel-6] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T20:59:55.631+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T20:59:55.631+03:00 DEBUG 2604 --- [gateway] [parallel-6] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T20:59:55.631+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T20:59:55.631+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T20:59:55.631+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T20:59:55.632+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T20:59:55.632+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:55.633+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:55.633+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T20:59:55.634+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:55.634+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T20:59:55.634+03:00  INFO 2604 --- [gateway] [parallel-6] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T20:59:55.635+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T20:59:55.635+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T20:59:55.635+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T20:59:55.635+03:00 DEBUG 2604 --- [gateway] [parallel-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T20:59:55.636+03:00  INFO 2604 --- [gateway] [parallel-6] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [20403a1f-b0c4-419e-a5d4-d9e9d91718ab]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T20:59:55.636+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [20403a1f-b0c4-419e-a5d4-d9e9d91718ab]: /reports/attendance
2025-04-23T20:59:55.636+03:00 DEBUG 2604 --- [gateway] [parallel-6] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [20403a1f-b0c4-419e-a5d4-d9e9d91718ab]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=256b2964-6c8e-4494-8d32-be86a9783e89, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=101, X-Auth-User=test}
2025-04-23T20:59:55.637+03:00  INFO 2604 --- [gateway] [parallel-6] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [57e1c724-a186-4750-8a66-11136ae42993]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=256b2964-6c8e-4494-8d32-be86a9783e89, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=101, X-Auth-User=test, X-Correlation-ID=20403a1f-b0c4-419e-a5d4-d9e9d91718ab}
2025-04-23T20:59:55.638+03:00 DEBUG 2604 --- [gateway] [parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"256b2964-6c8e-4494-8d32-be86a9783e89", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"101", X-Auth-User:"test", X-Correlation-ID:"20403a1f-b0c4-419e-a5d4-d9e9d91718ab", X-Request-ID:"57e1c724-a186-4750-8a66-11136ae42993", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:55.639+03:00 DEBUG 2604 --- [gateway] [parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1e9cb80e', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=7.6625E-5, duration(nanos)=76625.0, startTimeNanos=2557614265541}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@1aa32f05} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"256b2964-6c8e-4494-8d32-be86a9783e89", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"101", X-Auth-User:"test", X-Correlation-ID:"20403a1f-b0c4-419e-a5d4-d9e9d91718ab", X-Request-ID:"57e1c724-a186-4750-8a66-11136ae42993", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T20:59:55.802+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T20:59:55.802+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1e9cb80e', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.164154417, duration(nanos)=1.64154417E8, startTimeNanos=2557614265541}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@1aa32f05}
2025-04-23T20:59:55.804+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [57e1c724-a186-4750-8a66-11136ae42993]: Status=200 OK
2025-04-23T20:59:55.804+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [20403a1f-b0c4-419e-a5d4-d9e9d91718ab]: Status=200 OK, Duration=169ms
2025-04-23T20:59:55.804+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [20403a1f-b0c4-419e-a5d4-d9e9d91718ab]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"20403a1f-b0c4-419e-a5d4-d9e9d91718ab", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"116", Date:"Wed, 23 Apr 2025 17:59:55 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T21:00:02.956+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T21:00:02.957+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:00:02.957+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T21:00:02.957+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:00:02.958+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:00:02.958+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:00:02.959+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:00:02.960+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:00:02.960+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:00:02.961+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T21:00:02.961+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T21:00:02.961+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.962+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T21:00:02.962+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T21:00:02.962+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T21:00:02.963+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.964+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T21:00:02.965+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T21:00:02.966+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:00:02.966+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T21:00:02.966+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:00:02.967+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:00:02.967+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:00:02.968+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:00:02.968+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:00:02.968+03:00  INFO 2604 --- [gateway] [parallel-8] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:00:02.969+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T21:00:02.969+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T21:00:02.969+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T21:00:02.969+03:00 DEBUG 2604 --- [gateway] [parallel-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T21:00:02.970+03:00  INFO 2604 --- [gateway] [parallel-8] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [06f261a8-f296-4f59-be0f-0b531bcc3e96]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:00:02.970+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [06f261a8-f296-4f59-be0f-0b531bcc3e96]: /reports/attendance
2025-04-23T21:00:02.970+03:00 DEBUG 2604 --- [gateway] [parallel-8] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [06f261a8-f296-4f59-be0f-0b531bcc3e96]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=279eef18-0290-4b43-a8c8-0239d8491d1c, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=102, X-Auth-User=test}
2025-04-23T21:00:02.970+03:00  INFO 2604 --- [gateway] [parallel-8] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [dafaef71-91a6-44f2-9213-938075105b94]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=279eef18-0290-4b43-a8c8-0239d8491d1c, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=102, X-Auth-User=test, X-Correlation-ID=06f261a8-f296-4f59-be0f-0b531bcc3e96}
2025-04-23T21:00:02.971+03:00 DEBUG 2604 --- [gateway] [parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"279eef18-0290-4b43-a8c8-0239d8491d1c", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"102", X-Auth-User:"test", X-Correlation-ID:"06f261a8-f296-4f59-be0f-0b531bcc3e96", X-Request-ID:"dafaef71-91a6-44f2-9213-938075105b94", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:00:02.971+03:00 DEBUG 2604 --- [gateway] [parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@373e7294', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=7.0333E-5, duration(nanos)=70333.0, startTimeNanos=2564947217125}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@6be85f05} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"279eef18-0290-4b43-a8c8-0239d8491d1c", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"102", X-Auth-User:"test", X-Correlation-ID:"06f261a8-f296-4f59-be0f-0b531bcc3e96", X-Request-ID:"dafaef71-91a6-44f2-9213-938075105b94", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:00:03.210+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T21:00:03.210+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-8] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@373e7294', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.239003333, duration(nanos)=2.39003333E8, startTimeNanos=2564947217125}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@6be85f05}
2025-04-23T21:00:03.211+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [dafaef71-91a6-44f2-9213-938075105b94]: Status=200 OK
2025-04-23T21:00:03.212+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [06f261a8-f296-4f59-be0f-0b531bcc3e96]: Status=200 OK, Duration=243ms
2025-04-23T21:00:03.212+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [06f261a8-f296-4f59-be0f-0b531bcc3e96]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"06f261a8-f296-4f59-be0f-0b531bcc3e96", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"5643", Date:"Wed, 23 Apr 2025 18:00:03 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T21:01:02.670+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/auth/login
2025-04-23T21:01:02.671+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:02.673+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:01:02.678+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T21:01:02.678+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'POST /logout'
2025-04-23T21:01:02.678+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'null /api/lab1/auth/login'
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'null /api/lab1/auth/register'
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Request 'POST /api/auth/login' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T21:01:02.679+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:02.680+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T21:01:02.680+03:00 DEBUG 2604 --- [gateway] [parallel-2] athPatternParserServerWebExchangeMatcher : Checking match of request : '/api/auth/login'; against '/api/auth/login'
2025-04-23T21:01:02.680+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : matched
2025-04-23T21:01:02.680+03:00 DEBUG 2604 --- [gateway] [parallel-2] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/api/auth/login' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda$875/0x000000700160a5a8@266fe905
2025-04-23T21:01:02.680+03:00 DEBUG 2604 --- [gateway] [parallel-2] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T21:01:02.680+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/auth/login
2025-04-23T21:01:02.680+03:00 DEBUG 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:02.680+03:00  INFO 2604 --- [gateway] [parallel-2] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:01:02.683+03:00 ERROR 2604 --- [gateway] [parallel-2] c.c.g.exception.GlobalErrorHandler       : Gateway error: 404 NOT_FOUND

org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND
	at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint  com.cherenkov.gateway.filter.JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint  org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint  AuthorizationWebFilter [DefaultWebFilterChain]
	*__checkpoint  ExceptionTranslationWebFilter [DefaultWebFilterChain]
	*__checkpoint  LogoutWebFilter [DefaultWebFilterChain]
	*__checkpoint  ServerRequestCacheWebFilter [DefaultWebFilterChain]
	*__checkpoint  SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]
	*__checkpoint  JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint  ReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint  CorsWebFilter [DefaultWebFilterChain]
	*__checkpoint  HttpHeaderWriterWebFilter [DefaultWebFilterChain]
	*__checkpoint  ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]
	*__checkpoint  HTTP POST "/api/auth/login" [ExceptionHandlingWebHandler]
Original Stack Trace:
		at org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159) ~[spring-webflux-6.2.5.jar:6.2.5]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onComplete(FluxConcatMapNoPrefetch.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:239) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:236) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.request(FluxFilterWhen.java:160) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:155) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:259) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:865) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmitScalar(FluxFlatMap.java:492) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:424) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:207) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerComplete(FluxConcatMapNoPrefetch.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onComplete(FluxConcatMap.java:889) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.request(FluxFlatMap.java:349) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.request(FluxPeekFuseable.java:783) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:339) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:98) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2573) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:850) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:612) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:592) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:469) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:357) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:373) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1866) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.7.4.jar:3.7.4]
		at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
		at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
		at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
		at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
		at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-04-23T21:01:24.944+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/lab1/auth/login
2025-04-23T21:01:24.945+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:24.945+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/lab1/auth/login
2025-04-23T21:01:24.946+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T21:01:24.947+03:00 DEBUG 2604 --- [gateway] [parallel-3] athPatternParserServerWebExchangeMatcher : Request 'POST /api/lab1/auth/login' doesn't match 'POST /logout'
2025-04-23T21:01:24.947+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:24.947+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T21:01:24.947+03:00 DEBUG 2604 --- [gateway] [parallel-3] athPatternParserServerWebExchangeMatcher : Checking match of request : '/api/lab1/auth/login'; against '/api/lab1/auth/login'
2025-04-23T21:01:24.947+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : matched
2025-04-23T21:01:24.947+03:00 DEBUG 2604 --- [gateway] [parallel-3] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/api/lab1/auth/login' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda$875/0x000000700160a5a8@266fe905
2025-04-23T21:01:24.948+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T21:01:24.948+03:00 DEBUG 2604 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /api/lab1/auth/login
2025-04-23T21:01:24.948+03:00 DEBUG 2604 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:24.948+03:00  INFO 2604 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/lab1/auth/login
2025-04-23T21:01:24.949+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab-1-service
2025-04-23T21:01:24.949+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/api/lab1/auth/login] to Route{id='lab-1-service', uri=http://localhost:8081, order=0, predicate=Paths: [/api/lab1/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/lab1/(?<segment>.*) = '/api/${segment}'], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 3]], metadata={}}
2025-04-23T21:01:24.949+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T21:01:24.950+03:00 DEBUG 2604 --- [gateway] [parallel-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RewritePath /api/lab1/(?<segment>.*) = '/api/${segment}'], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 3], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T21:01:24.950+03:00  INFO 2604 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [31663264-04d1-4a65-ba0b-90731a41e6ee]: POST http://localhost:8080/api/lab1/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:01:24.950+03:00 DEBUG 2604 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [31663264-04d1-4a65-ba0b-90731a41e6ee]: /api/lab1/auth/login
2025-04-23T21:01:24.950+03:00 DEBUG 2604 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [31663264-04d1-4a65-ba0b-90731a41e6ee]: {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=6e8518e1-002e-4c07-8cd7-0355a1ebe56c, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50}
2025-04-23T21:01:24.951+03:00  INFO 2604 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [14f608ae-292f-4a36-87ef-e2465f3b1a11]: POST http://localhost:8080/api/lab1/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=6e8518e1-002e-4c07-8cd7-0355a1ebe56c, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Correlation-ID=31663264-04d1-4a65-ba0b-90731a41e6ee}
2025-04-23T21:01:24.951+03:00 DEBUG 2604 --- [gateway] [parallel-3] c.c.g.v.impl.AuthRequestValidator        :      : /api/lab1/auth/login
2025-04-23T21:01:24.953+03:00 DEBUG 2604 --- [gateway] [parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"6e8518e1-002e-4c07-8cd7-0355a1ebe56c", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"50", X-Correlation-ID:"31663264-04d1-4a65-ba0b-90731a41e6ee", X-Request-ID:"14f608ae-292f-4a36-87ef-e2465f3b1a11", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:01:24.953+03:00 DEBUG 2604 --- [gateway] [parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab-1-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/api/auth/login'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4ab984f1', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.08E-4, duration(nanos)=108000.0, startTimeNanos=2646929058208}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@447e63d6} created for the request. New headers are [Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"6e8518e1-002e-4c07-8cd7-0355a1ebe56c", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"50", X-Correlation-ID:"31663264-04d1-4a65-ba0b-90731a41e6ee", X-Request-ID:"14f608ae-292f-4a36-87ef-e2465f3b1a11", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:01:24.968+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-1] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T21:01:24.968+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-1] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab-1-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/api/auth/login'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4ab984f1', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.01440725, duration(nanos)=1.440725E7, startTimeNanos=2646929058208}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@447e63d6}
2025-04-23T21:01:24.969+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [14f608ae-292f-4a36-87ef-e2465f3b1a11]: Status=200 OK
2025-04-23T21:01:24.970+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [31663264-04d1-4a65-ba0b-90731a41e6ee]: Status=200 OK, Duration=20ms
2025-04-23T21:01:24.970+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [31663264-04d1-4a65-ba0b-90731a41e6ee]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"31663264-04d1-4a65-ba0b-90731a41e6ee", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"330", Date:"Wed, 23 Apr 2025 18:01:24 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T21:01:27.842+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T21:01:27.842+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:27.842+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T21:01:27.842+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:27.844+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:27.844+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:27.845+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:27.845+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:27.846+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:01:27.848+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T21:01:27.848+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T21:01:27.848+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.848+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T21:01:27.848+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T21:01:27.848+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.848+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T21:01:27.849+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T21:01:27.850+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.851+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T21:01:27.851+03:00 DEBUG 2604 --- [gateway] [parallel-5] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T21:01:27.851+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:27.851+03:00 DEBUG 2604 --- [gateway] [parallel-5] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T21:01:27.853+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T21:01:27.854+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T21:01:27.854+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:27.854+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T21:01:27.854+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:27.860+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:27.860+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:27.860+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:27.860+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:27.860+03:00  INFO 2604 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:01:27.861+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T21:01:27.861+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T21:01:27.861+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T21:01:27.861+03:00 DEBUG 2604 --- [gateway] [parallel-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T21:01:27.861+03:00  INFO 2604 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:01:27.861+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d]: /reports/attendance
2025-04-23T21:01:27.861+03:00 DEBUG 2604 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=763780b7-454c-4e00-989a-ae4d1af28dd1, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=102, X-Auth-User=test}
2025-04-23T21:01:27.861+03:00  INFO 2604 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [a398373d-6110-477e-961e-3d8e0a6641e0]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=763780b7-454c-4e00-989a-ae4d1af28dd1, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=102, X-Auth-User=test, X-Correlation-ID=d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d}
2025-04-23T21:01:27.861+03:00 DEBUG 2604 --- [gateway] [parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"763780b7-454c-4e00-989a-ae4d1af28dd1", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"102", X-Auth-User:"test", X-Correlation-ID:"d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d", X-Request-ID:"a398373d-6110-477e-961e-3d8e0a6641e0", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:01:27.862+03:00 DEBUG 2604 --- [gateway] [parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@31bae07b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.0333E-5, duration(nanos)=40333.0, startTimeNanos=2649837311875}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3f7d183c} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"763780b7-454c-4e00-989a-ae4d1af28dd1", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"102", X-Auth-User:"test", X-Correlation-ID:"d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d", X-Request-ID:"a398373d-6110-477e-961e-3d8e0a6641e0", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:01:28.064+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-1] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T21:01:28.065+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-1] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@31bae07b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.202969166, duration(nanos)=2.02969166E8, startTimeNanos=2649837311875}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3f7d183c}
2025-04-23T21:01:28.066+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [a398373d-6110-477e-961e-3d8e0a6641e0]: Status=200 OK
2025-04-23T21:01:28.066+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d]: Status=200 OK, Duration=205ms
2025-04-23T21:01:28.066+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"d4ce1a6e-c677-41c4-9a73-f3dd6816ac2d", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"5643", Date:"Wed, 23 Apr 2025 18:01:28 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T21:01:37.916+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T21:01:37.917+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:37.917+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T21:01:37.917+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:37.918+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:37.918+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:37.919+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:37.919+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:37.919+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:01:37.920+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-04-23T21:01:37.920+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'POST /logout'
2025-04-23T21:01:37.920+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.920+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/login', method=null}
2025-04-23T21:01:37.920+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/login'
2025-04-23T21:01:37.920+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.920+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/register', method=null}
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/register'
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/refresh-token', method=null}
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/refresh-token'
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/login', method=null}
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/login'
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/register', method=null}
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/register'
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/refresh-token', method=null}
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/refresh-token'
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T21:01:37.921+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.922+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T21:01:37.922+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T21:01:37.922+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.922+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/auth/**', method=null}
2025-04-23T21:01:37.922+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/auth/**'
2025-04-23T21:01:37.922+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.923+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/api/lab1/auth/**', method=null}
2025-04-23T21:01:37.923+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /api/lab1/auth/**'
2025-04-23T21:01:37.923+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.924+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/**', method=null}
2025-04-23T21:01:37.924+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /actuator/**'
2025-04-23T21:01:37.924+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.924+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/fallback/**', method=null}
2025-04-23T21:01:37.924+03:00 DEBUG 2604 --- [gateway] [parallel-7] athPatternParserServerWebExchangeMatcher : Request 'POST /reports/attendance' doesn't match 'null /fallback/**'
2025-04-23T21:01:37.924+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : No matches found
2025-04-23T21:01:37.924+03:00 DEBUG 2604 --- [gateway] [parallel-7] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/reports/attendance' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@37e70d10
2025-04-23T21:01:37.925+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization successful
2025-04-23T21:01:37.925+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : Processing request with path: /reports/attendance
2025-04-23T21:01:37.925+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : Excluded paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:01:37.925+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Extracting username from token
2025-04-23T21:01:37.925+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:37.926+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:37.926+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Parsing JWT token
2025-04-23T21:01:37.927+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : JWT claims extracted successfully: subject=test, expiration=Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:37.927+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.cherenkov.gateway.service.JwtService   : Token is valid, expiration: Wed Apr 23 21:58:35 MSK 2025
2025-04-23T21:01:37.927+03:00  INFO 2604 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:01:37.928+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T21:01:37.928+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2]], metadata={}}
2025-04-23T21:01:37.928+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [c44e8ac6-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6ac756b
2025-04-23T21:01:37.928+03:00 DEBUG 2604 --- [gateway] [parallel-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@2bdcfcf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@5871a482}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58f7215c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@45c90a05}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@145a821d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@df7d1d4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7ce30c0b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@54defd69}, order = 0], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@55638165}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@531a716c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1d7f2f0a}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@6248cfab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@296676c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa91d5b}, order = 2147483647]]
2025-04-23T21:01:37.929+03:00  INFO 2604 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [aef3d58e-e2a2-40cb-b404-2fe940d6fd9c]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:01:37.929+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST PATH [aef3d58e-e2a2-40cb-b404-2fe940d6fd9c]: /reports/attendance
2025-04-23T21:01:37.929+03:00 DEBUG 2604 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST HEADERS [aef3d58e-e2a2-40cb-b404-2fe940d6fd9c]: {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=1eb0f434-b02b-4117-afa0-f04d58a75437, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=120, X-Auth-User=test}
2025-04-23T21:01:37.929+03:00  INFO 2604 --- [gateway] [parallel-7] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [70adf47b-5e7e-461a-b2ca-403296b8d54b]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=1eb0f434-b02b-4117-afa0-f04d58a75437, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=120, X-Auth-User=test, X-Correlation-ID=aef3d58e-e2a2-40cb-b404-2fe940d6fd9c}
2025-04-23T21:01:37.930+03:00 DEBUG 2604 --- [gateway] [parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"1eb0f434-b02b-4117-afa0-f04d58a75437", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"120", X-Auth-User:"test", X-Correlation-ID:"aef3d58e-e2a2-40cb-b404-2fe940d6fd9c", X-Request-ID:"70adf47b-5e7e-461a-b2ca-403296b8d54b", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:01:37.930+03:00 DEBUG 2604 --- [gateway] [parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@16b8ec10', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.1959E-5, duration(nanos)=61959.0, startTimeNanos=2659905813666}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@12877a1f} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxMTE1LCJleHAiOjE3NDU0MzQ3MTV9.bgNH7TZ2LLawlgA2cWR_95T44O7u2ZAZSg1aPkWeV2dD-kxPGiJdxm67vMy1g-s8", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"1eb0f434-b02b-4117-afa0-f04d58a75437", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"120", X-Auth-User:"test", X-Correlation-ID:"aef3d58e-e2a2-40cb-b404-2fe940d6fd9c", X-Request-ID:"70adf47b-5e7e-461a-b2ca-403296b8d54b", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:50271"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:01:37.948+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-1] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T21:01:37.949+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-1] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@16b8ec10', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.01849225, duration(nanos)=1.849225E7, startTimeNanos=2659905813666}'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@12877a1f}
2025-04-23T21:01:37.950+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [70adf47b-5e7e-461a-b2ca-403296b8d54b]: Status=200 OK
2025-04-23T21:01:37.951+03:00  INFO 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [aef3d58e-e2a2-40cb-b404-2fe940d6fd9c]: Status=200 OK, Duration=23ms
2025-04-23T21:01:37.951+03:00 DEBUG 2604 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE HEADERS [aef3d58e-e2a2-40cb-b404-2fe940d6fd9c]: [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Correlation-ID:"aef3d58e-e2a2-40cb-b404-2fe940d6fd9c", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Type:"application/json", Content-Length:"116", Date:"Wed, 23 Apr 2025 18:01:37 GMT", Referrer-Policy:"no-referrer"]
2025-04-23T21:02:18.065+03:00  INFO 2604 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:02:18.067+03:00  INFO 2604 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:07:08.733+03:00  INFO 2862 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2862 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:07:08.735+03:00  INFO 2862 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:07:09.492+03:00  INFO 2862 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T21:07:09.775+03:00  INFO 2862 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 52a84f5a-6b19-41dd-ac7e-a4fd8fe74bff

2025-04-23T21:07:09.822+03:00  INFO 2862 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:07:10.089+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:07:10.090+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:07:10.090+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:07:10.090+03:00  INFO 2862 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:07:10.223+03:00  INFO 2862 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:07:10.472+03:00  INFO 2862 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:07:10.519+03:00  INFO 2862 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.031 seconds (process running for 2.416)
2025-04-23T21:07:20.442+03:00  INFO 2862 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:07:20.462+03:00  INFO 2862 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:07:20.467+03:00  INFO 2862 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [1aee275a-7666-4968-94ab-ffa56dba3f0a]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:07:20.473+03:00  INFO 2862 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [c397c98e-6372-486a-98fe-d6016e4a5102]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=15f14d49-958d-4c71-ad0a-55cd9b82192a, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Correlation-ID=1aee275a-7666-4968-94ab-ffa56dba3f0a}
2025-04-23T21:07:20.516+03:00 ERROR 2862 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:07:20.636+03:00  INFO 2862 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [c397c98e-6372-486a-98fe-d6016e4a5102]: Status=403 FORBIDDEN
2025-04-23T21:07:20.638+03:00  WARN 2862 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [1aee275a-7666-4968-94ab-ffa56dba3f0a]: Status=403 FORBIDDEN, Duration=173ms
2025-04-23T21:08:24.031+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/lab1/auth/login
2025-04-23T21:08:24.033+03:00  INFO 2862 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/lab1/auth/login
2025-04-23T21:08:24.034+03:00  INFO 2862 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [ef6489b5-a91c-4599-919d-7d49e67f5910]: POST http://localhost:8080/api/lab1/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:08:24.035+03:00  INFO 2862 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [c1e94c30-81ca-4b1c-96c5-fe291884696f]: POST http://localhost:8080/api/lab1/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=ad9b183f-a817-40b7-be4e-03c789040ab5, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Correlation-ID=ef6489b5-a91c-4599-919d-7d49e67f5910}
2025-04-23T21:08:24.199+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [c1e94c30-81ca-4b1c-96c5-fe291884696f]: Status=200 OK
2025-04-23T21:08:24.199+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [ef6489b5-a91c-4599-919d-7d49e67f5910]: Status=200 OK, Duration=165ms
2025-04-23T21:08:27.570+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:08:27.575+03:00  INFO 2862 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:08:27.575+03:00  INFO 2862 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [914e400d-54ff-4ac0-a12b-0ed54247690e]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:08:27.576+03:00  INFO 2862 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [a8f5d4c5-dd51-4c74-ab00-98381d26cf4a]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=80f689a9-599a-4724-a0f6-d7cd5d0cb78f, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=100, X-Auth-User=test, X-Correlation-ID=914e400d-54ff-4ac0-a12b-0ed54247690e}
2025-04-23T21:08:27.784+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [a8f5d4c5-dd51-4c74-ab00-98381d26cf4a]: Status=500 INTERNAL_SERVER_ERROR
2025-04-23T21:08:27.784+03:00 ERROR 2862 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [914e400d-54ff-4ac0-a12b-0ed54247690e]: Status=500 INTERNAL_SERVER_ERROR, Duration=209ms
2025-04-23T21:08:34.874+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:08:34.884+03:00  INFO 2862 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:08:34.886+03:00  INFO 2862 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [6a90fed8-faf8-41b2-9dbf-d83d811bba35]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:08:34.886+03:00  INFO 2862 --- [gateway] [parallel-7] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [198bafe1-659b-48c5-bb0b-33b90debe62e]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=f6a4b23c-d1ff-4dae-a2b6-446fbb5be90c, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Correlation-ID=6a90fed8-faf8-41b2-9dbf-d83d811bba35}
2025-04-23T21:08:35.879+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [198bafe1-659b-48c5-bb0b-33b90debe62e]: Status=200 OK
2025-04-23T21:08:35.879+03:00  INFO 2862 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [6a90fed8-faf8-41b2-9dbf-d83d811bba35]: Status=200 OK, Duration=994ms
2025-04-23T21:08:47.522+03:00  INFO 2862 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:08:47.524+03:00  INFO 2862 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:10:52.581+03:00  INFO 2957 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2957 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:10:52.582+03:00  INFO 2957 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:10:53.378+03:00  INFO 2957 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T21:10:53.659+03:00  INFO 2957 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: d2c27bd2-0e15-46be-9fc1-89656a8c9952

2025-04-23T21:10:53.704+03:00  INFO 2957 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:10:53.839+03:00  WARN 2957 --- [gateway] [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webHandler' defined in org.springframework.web.reactive.config.DelegatingWebFluxConfiguration: Error creating bean with name 'routePredicateHandlerMapping' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'routePredicateHandlerMapping' parameter 0: Error creating bean with name 'filteringWebHandler' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]: Unsatisfied dependency expressed through method 'filteringWebHandler' parameter 0: Error creating bean with name 'nettyWriteResponseFilter' defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration$NettyConfiguration.class]: Unsatisfied dependency expressed through method 'nettyWriteResponseFilter' parameter 0: Error creating bean with name 'gatewayProperties': Could not bind properties to 'GatewayProperties' : prefix=spring.cloud.gateway, ignoreInvalidFields=false, ignoreUnknownFields=true
2025-04-23T21:10:53.855+03:00  INFO 2957 --- [gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-23T21:10:53.866+03:00 ERROR 2957 --- [gateway] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Binding to target [Bindable@44aed6a4 type = java.util.List<org.springframework.cloud.gateway.filter.FilterDefinition>, value = 'provided', annotations = array<Annotation>[@jakarta.validation.Valid()], bindMethod = [null]] failed:

    Property: spring.cloud.gateway.routes[0].filters[1]
    Value: "RemoveRequestHeader=Cookie"
    Origin: class path resource [application.properties] - 8:43
    Reason: The elements [spring.cloud.gateway.routes[0].filters[1],spring.cloud.gateway.routes[0].filters[2]] were left unbound.
    Property: spring.cloud.gateway.routes[0].filters[2]
    Value: "CircuitBreaker=lab1ServiceBreaker,forward:/fallback/lab1"
    Origin: class path resource [application.properties] - 9:43
    Reason: The elements [spring.cloud.gateway.routes[0].filters[1],spring.cloud.gateway.routes[0].filters[2]] were left unbound.

Action:

Update your application's configuration

2025-04-23T21:12:44.143+03:00  INFO 3018 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3018 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:12:44.144+03:00  INFO 3018 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:12:44.898+03:00  INFO 3018 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T21:12:45.175+03:00  INFO 3018 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 21b0c65e-7b58-4c80-b12b-b3b8732981a1

2025-04-23T21:12:45.216+03:00  INFO 3018 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:12:45.479+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:12:45.479+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:12:45.479+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:12:45.479+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:12:45.479+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:12:45.480+03:00  INFO 3018 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:12:45.605+03:00  INFO 3018 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:12:45.856+03:00  INFO 3018 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:12:45.901+03:00  INFO 3018 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.992 seconds (process running for 2.353)
2025-04-23T21:13:03.652+03:00  INFO 3018 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:13:03.668+03:00  INFO 3018 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:13:03.673+03:00  INFO 3018 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [1f1a088b-371a-4709-8dfa-34dd022349ea]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:13:03.679+03:00  INFO 3018 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [27523765-8a1a-4f88-a5fe-a61c4cbbb0c3]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=85c249c6-cdd7-4606-a72d-65fedab75ea0, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Correlation-ID=1f1a088b-371a-4709-8dfa-34dd022349ea}
2025-04-23T21:13:03.725+03:00 ERROR 3018 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:13:03.969+03:00  INFO 3018 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [27523765-8a1a-4f88-a5fe-a61c4cbbb0c3]: Status=200 OK
2025-04-23T21:13:03.971+03:00  INFO 3018 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [1f1a088b-371a-4709-8dfa-34dd022349ea]: Status=200 OK, Duration=300ms
2025-04-23T21:13:30.335+03:00  INFO 3018 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:13:30.341+03:00  INFO 3018 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:13:30.341+03:00  INFO 3018 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [d4d7abb0-683e-4687-933f-e2abd22e7086]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:13:30.341+03:00  INFO 3018 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [a07aeaf5-a8fa-4dbb-8083-32f2286ef263]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=9804316e-9745-4b8d-9d63-2c5aaad0fab1, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Correlation-ID=d4d7abb0-683e-4687-933f-e2abd22e7086}
2025-04-23T21:13:31.352+03:00  INFO 3018 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [a07aeaf5-a8fa-4dbb-8083-32f2286ef263]: Status=200 OK
2025-04-23T21:13:31.352+03:00  INFO 3018 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [d4d7abb0-683e-4687-933f-e2abd22e7086]: Status=200 OK, Duration=1011ms
2025-04-23T21:13:53.048+03:00  INFO 3018 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:13:53.050+03:00  INFO 3018 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:14:40.647+03:00  INFO 3089 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3089 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:14:40.649+03:00  INFO 3089 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:14:41.463+03:00  INFO 3089 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T21:14:41.761+03:00  INFO 3089 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 4a7d8a62-bfd0-446b-833d-0faf3a98bfd1

2025-04-23T21:14:41.808+03:00  INFO 3089 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:14:42.071+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:14:42.072+03:00  INFO 3089 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:14:42.214+03:00  INFO 3089 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:14:42.466+03:00  INFO 3089 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:14:42.514+03:00  INFO 3089 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.103 seconds (process running for 2.496)
2025-04-23T21:14:50.108+03:00  INFO 3089 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:14:50.123+03:00  INFO 3089 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:14:50.128+03:00  INFO 3089 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [a4b68af0-660d-43f5-954b-b1219ab0f3ae]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:14:50.133+03:00  INFO 3089 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [2af35f5f-d346-44ce-99da-bf61abb8b76b]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=7c85a4f0-1cd7-4be3-90f0-878b289f7193, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Correlation-ID=a4b68af0-660d-43f5-954b-b1219ab0f3ae}
2025-04-23T21:14:50.176+03:00 ERROR 3089 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:14:50.468+03:00  INFO 3089 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [2af35f5f-d346-44ce-99da-bf61abb8b76b]: Status=200 OK
2025-04-23T21:14:50.471+03:00  INFO 3089 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [a4b68af0-660d-43f5-954b-b1219ab0f3ae]: Status=200 OK, Duration=345ms
2025-04-23T21:15:01.628+03:00  INFO 3089 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:15:01.629+03:00  INFO 3089 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:16:23.748+03:00  INFO 3150 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3150 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:16:23.752+03:00  INFO 3150 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:16:24.546+03:00  INFO 3150 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T21:16:24.846+03:00  INFO 3150 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: cd3d0dfb-3574-4181-8ced-23ac22ffdcfd

2025-04-23T21:16:24.897+03:00  INFO 3150 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:16:25.177+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:16:25.177+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:16:25.177+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:16:25.177+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:16:25.177+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:16:25.177+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:16:25.177+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:16:25.178+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:16:25.178+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:16:25.178+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:16:25.178+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:16:25.178+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:16:25.178+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:16:25.178+03:00  INFO 3150 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:16:25.313+03:00  INFO 3150 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:16:25.569+03:00  INFO 3150 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:16:25.614+03:00  INFO 3150 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.098 seconds (process running for 2.471)
2025-04-23T21:16:37.886+03:00  INFO 3150 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:16:37.903+03:00  INFO 3150 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Path excluded from JWT validation: /api/auth/login
2025-04-23T21:16:37.908+03:00  INFO 3150 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [02f2557c-b467-4317-b66b-888b8b380b4d]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:16:37.915+03:00  INFO 3150 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [5cd5bdc0-cf0f-4ceb-9b2f-acce6f17edc5]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=a3fbf816-9e85-4c64-a26e-08e7d571260d, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Correlation-ID=02f2557c-b467-4317-b66b-888b8b380b4d}
2025-04-23T21:16:37.960+03:00 ERROR 3150 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:16:38.077+03:00  INFO 3150 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [5cd5bdc0-cf0f-4ceb-9b2f-acce6f17edc5]: Status=403 FORBIDDEN
2025-04-23T21:16:38.079+03:00  WARN 3150 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [02f2557c-b467-4317-b66b-888b8b380b4d]: Status=403 FORBIDDEN, Duration=173ms
2025-04-23T21:16:49.109+03:00  INFO 3150 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:16:49.110+03:00  INFO 3150 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:17:46.315+03:00  INFO 3218 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3218 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:17:46.317+03:00  INFO 3218 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:17:47.372+03:00  INFO 3218 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T21:17:47.658+03:00  INFO 3218 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 9919c189-a440-4fca-8c77-784cb5ef7f25

2025-04-23T21:17:47.703+03:00  INFO 3218 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/lab1/auth/login, /api/lab1/auth/register, /api/lab1/auth/refresh-token, /api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:17:47.979+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:17:47.979+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:17:47.979+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:17:47.979+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:17:47.979+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:17:47.979+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:17:47.979+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:17:47.980+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:17:47.980+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:17:47.980+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:17:47.980+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:17:47.980+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:17:47.980+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:17:47.980+03:00  INFO 3218 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:17:48.124+03:00  INFO 3218 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:17:48.371+03:00  INFO 3218 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:17:48.416+03:00  INFO 3218 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.396 seconds (process running for 2.803)
2025-04-23T21:17:59.868+03:00  WARN 3218 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : No valid Authorization header found for path: /api/auth/login
2025-04-23T21:18:13.399+03:00  INFO 3218 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:18:13.400+03:00  INFO 3218 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:22:43.105+03:00  INFO 3580 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3580 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:22:43.108+03:00  INFO 3580 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:22:44.036+03:00  INFO 3580 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4978d7c7-67a3-3930-bbb8-250c5560077d
2025-04-23T21:22:44.343+03:00  INFO 3580 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 2cbdb601-04e5-4444-96c5-e4bbd459eb40

2025-04-23T21:22:44.390+03:00  INFO 3580 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:22:44.673+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:22:44.673+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:22:44.673+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:22:44.674+03:00  INFO 3580 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:22:44.813+03:00  INFO 3580 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:22:45.075+03:00  INFO 3580 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:22:45.122+03:00  INFO 3580 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.338 seconds (process running for 2.795)
2025-04-23T21:22:57.458+03:00  INFO 3580 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [ec209e19-b396-4a03-8857-0189ee6f06d7]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:22:57.466+03:00  INFO 3580 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [dca9103d-906a-4a46-8399-aaa70b5d984d]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=73784a56-f8bd-4786-904f-f37ac62fae12, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=ec209e19-b396-4a03-8857-0189ee6f06d7}
2025-04-23T21:22:57.507+03:00 ERROR 3580 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:22:57.622+03:00  INFO 3580 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [dca9103d-906a-4a46-8399-aaa70b5d984d]: Status=403 FORBIDDEN
2025-04-23T21:22:57.624+03:00  WARN 3580 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [ec209e19-b396-4a03-8857-0189ee6f06d7]: Status=403 FORBIDDEN, Duration=168ms
2025-04-23T21:23:54.229+03:00  INFO 3580 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [ce875c87-1064-444d-8686-d4128ac1bd27]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:23:54.231+03:00  INFO 3580 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [023cbc8e-fd8a-410c-bc9a-6ed76b0bdc8e]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=e96b6a30-5d2b-4458-a3c3-a4f52311dc4f, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=ce875c87-1064-444d-8686-d4128ac1bd27}
2025-04-23T21:23:54.251+03:00  INFO 3580 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [023cbc8e-fd8a-410c-bc9a-6ed76b0bdc8e]: Status=403 FORBIDDEN
2025-04-23T21:23:54.252+03:00  WARN 3580 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [ce875c87-1064-444d-8686-d4128ac1bd27]: Status=403 FORBIDDEN, Duration=24ms
2025-04-23T21:24:32.695+03:00  INFO 3580 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:24:32.700+03:00  INFO 3580 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:24:32.701+03:00  INFO 3580 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [32d05e84-62cb-4a8c-ba81-6c6d0bd52ae3]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:24:32.701+03:00  INFO 3580 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [b3f443d9-2ad8-47b7-b5a4-721d4ef12e33]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=adfbdaf4-004b-454d-abd8-3315fff88645, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=32d05e84-62cb-4a8c-ba81-6c6d0bd52ae3}
2025-04-23T21:24:32.770+03:00  INFO 3580 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [b3f443d9-2ad8-47b7-b5a4-721d4ef12e33]: Status=403 FORBIDDEN
2025-04-23T21:24:32.771+03:00  WARN 3580 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [32d05e84-62cb-4a8c-ba81-6c6d0bd52ae3]: Status=403 FORBIDDEN, Duration=70ms
2025-04-23T21:24:50.808+03:00  INFO 3580 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:24:50.811+03:00  INFO 3580 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:25:30.220+03:00  INFO 3701 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3701 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:25:30.221+03:00  INFO 3701 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:25:31.264+03:00  INFO 3701 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6f0216d4-da88-3a33-ab96-94adb069cdf1
2025-04-23T21:25:31.661+03:00  INFO 3701 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: f25130a5-53e6-4904-a286-2cceadf802f0

2025-04-23T21:25:31.710+03:00  INFO 3701 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:25:32.030+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:25:32.030+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:25:32.030+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:25:32.030+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:25:32.030+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:25:32.030+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:25:32.030+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:25:32.031+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:25:32.031+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:25:32.031+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:25:32.031+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:25:32.031+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:25:32.031+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:25:32.031+03:00  INFO 3701 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:25:32.225+03:00  INFO 3701 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:25:32.515+03:00  INFO 3701 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:25:32.570+03:00  INFO 3701 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.668 seconds (process running for 3.105)
2025-04-23T21:25:39.636+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Request headers for path /api/auth/login:
2025-04-23T21:25:39.636+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Type: application/json
2025-04-23T21:25:39.636+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept: */*
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Cache-Control: no-cache
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Postman-Token: 764cad17-0444-46b2-8812-20b353f08b95
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Host: localhost:8080
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Connection: keep-alive
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Length: 50
2025-04-23T21:25:39.637+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    X-Gateway-Auth: true
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Request headers for path /api/auth/login:
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Content-Type: application/json
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Accept: */*
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Cache-Control: no-cache
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Postman-Token: 764cad17-0444-46b2-8812-20b353f08b95
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Host: localhost:8080
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Connection: keep-alive
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Content-Length: 50
2025-04-23T21:25:39.651+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    X-Gateway-Auth: true
2025-04-23T21:25:39.656+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [e2117ab6-e364-4715-a6df-4b69e0cecc64]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:25:39.658+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [2915f584-5747-451a-a9d1-d307ab543572]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=764cad17-0444-46b2-8812-20b353f08b95, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=e2117ab6-e364-4715-a6df-4b69e0cecc64}
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   : Request headers for path /api/auth/login after adding Gateway header:
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Content-Type: application/json
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Accept: */*
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Cache-Control: no-cache
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Postman-Token: 764cad17-0444-46b2-8812-20b353f08b95
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Host: localhost:8080
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Connection: keep-alive
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Content-Length: 50
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    X-Gateway-Auth: true
2025-04-23T21:25:39.659+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    X-Correlation-ID: e2117ab6-e364-4715-a6df-4b69e0cecc64
2025-04-23T21:25:39.660+03:00  INFO 3701 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    X-Request-ID: 2915f584-5747-451a-a9d1-d307ab543572
2025-04-23T21:25:39.707+03:00 ERROR 3701 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:25:39.837+03:00  INFO 3701 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [2915f584-5747-451a-a9d1-d307ab543572]: Status=403 FORBIDDEN
2025-04-23T21:25:39.839+03:00  WARN 3701 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [e2117ab6-e364-4715-a6df-4b69e0cecc64]: Status=403 FORBIDDEN, Duration=184ms
2025-04-23T21:29:36.130+03:00  INFO 3701 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:29:36.134+03:00  INFO 3701 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:30:14.096+03:00  INFO 3906 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3906 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:30:14.097+03:00  INFO 3906 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:30:15.133+03:00  INFO 3906 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=29e3159a-0f00-3ebb-af97-ac4feffe1ca3
2025-04-23T21:30:15.501+03:00  INFO 3906 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 31c713b1-30af-4c7d-a63d-8426b6a7d9b3

2025-04-23T21:30:15.545+03:00  INFO 3906 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:30:15.632+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='lab-1-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}, FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-Gateway-Auth, _genkey_1=true}}, FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-GATEWAY-AUTH, _genkey_1=true}}, FilterDefinition{name='AddRequestHeader', args={_genkey_0=x-gateway-auth, _genkey_1=true}}, FilterDefinition{name='PreserveHostHeader', args={}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}, RouteDefinition{id='lab1-reports-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/reports/**}}], filters=[FilterDefinition{name='RemoveRequestHeader', args={_genkey_0=Cookie}}, FilterDefinition{name='CircuitBreaker', args={_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1}}, FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-Gateway-Auth, _genkey_1=true}}, FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-GATEWAY-AUTH, _genkey_1=true}}, FilterDefinition{name='AddRequestHeader', args={_genkey_0=x-gateway-auth, _genkey_1=true}}, FilterDefinition{name='PreserveHostHeader', args={}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:30:15.779+03:00  INFO 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:30:15.922+03:00  INFO 3906 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:30:16.183+03:00  INFO 3906 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:30:16.212+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying {_genkey_0=/api/**} to Path
2025-04-23T21:30:16.219+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Access-Control-Allow-Origin Access-Control-Allow-Credentials, _genkey_1=RETAIN_FIRST} to DedupeResponseHeader
2025-04-23T21:30:16.225+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {} to PreserveHostHeader
2025-04-23T21:30:16.226+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Access-Control-Allow-Origin, _genkey_1=*} to AddResponseHeader
2025-04-23T21:30:16.227+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T21:30:16.228+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T21:30:16.232+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=X-Gateway-Auth, _genkey_1=true} to AddRequestHeader
2025-04-23T21:30:16.233+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=X-GATEWAY-AUTH, _genkey_1=true} to AddRequestHeader
2025-04-23T21:30:16.233+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {_genkey_0=x-gateway-auth, _genkey_1=true} to AddRequestHeader
2025-04-23T21:30:16.234+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab-1-service applying filter {} to PreserveHostHeader
2025-04-23T21:30:16.234+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab-1-service
2025-04-23T21:30:16.234+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying {_genkey_0=/reports/**} to Path
2025-04-23T21:30:16.234+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=Access-Control-Allow-Origin Access-Control-Allow-Credentials, _genkey_1=RETAIN_FIRST} to DedupeResponseHeader
2025-04-23T21:30:16.235+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {} to PreserveHostHeader
2025-04-23T21:30:16.235+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=Access-Control-Allow-Origin, _genkey_1=*} to AddResponseHeader
2025-04-23T21:30:16.236+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=Cookie} to RemoveRequestHeader
2025-04-23T21:30:16.236+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=lab1ServiceBreaker, _genkey_1=forward:/fallback/lab1} to CircuitBreaker
2025-04-23T21:30:16.236+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=X-Gateway-Auth, _genkey_1=true} to AddRequestHeader
2025-04-23T21:30:16.237+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=X-GATEWAY-AUTH, _genkey_1=true} to AddRequestHeader
2025-04-23T21:30:16.237+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {_genkey_0=x-gateway-auth, _genkey_1=true} to AddRequestHeader
2025-04-23T21:30:16.237+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition lab1-reports-service applying filter {} to PreserveHostHeader
2025-04-23T21:30:16.238+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: lab1-reports-service
2025-04-23T21:30:16.240+03:00 DEBUG 3906 --- [gateway] [main] o.s.c.g.filter.GatewayMetricsFilter      : New routes count: 2
2025-04-23T21:30:16.241+03:00  INFO 3906 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.4 seconds (process running for 2.798)
2025-04-23T21:30:27.707+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Request headers for path /api/auth/login:
2025-04-23T21:30:27.708+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Type: application/json
2025-04-23T21:30:27.708+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:30:27.708+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept: */*
2025-04-23T21:30:27.708+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Cache-Control: no-cache
2025-04-23T21:30:27.708+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Postman-Token: de3fb890-add8-457a-bf7a-10eb5c72fca5
2025-04-23T21:30:27.708+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Host: localhost:8080
2025-04-23T21:30:27.708+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:30:27.709+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Connection: keep-alive
2025-04-23T21:30:27.709+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Length: 50
2025-04-23T21:30:27.709+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    X-Gateway-Auth: true
2025-04-23T21:30:27.723+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : Request headers for path /api/auth/login:
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Content-Type: application/json
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Accept: */*
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Cache-Control: no-cache
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Postman-Token: de3fb890-add8-457a-bf7a-10eb5c72fca5
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Host: localhost:8080
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Connection: keep-alive
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    Content-Length: 50
2025-04-23T21:30:27.724+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     :    X-Gateway-Auth: true
2025-04-23T21:30:27.726+03:00 DEBUG 3906 --- [gateway] [parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab-1-service
2025-04-23T21:30:27.731+03:00 DEBUG 3906 --- [gateway] [parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/api/auth/login] to Route{id='lab-1-service', uri=http://localhost:8081, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_FIRST], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[PreserveHostHeader], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [[AddResponseHeader Access-Control-Allow-Origin = '*'], order = 3], [[AddRequestHeader X-Gateway-Auth = 'true'], order = 3], [[AddRequestHeader X-GATEWAY-AUTH = 'true'], order = 4], [[AddRequestHeader x-gateway-auth = 'true'], order = 5], [[PreserveHostHeader], order = 6]], metadata={}}
2025-04-23T21:30:27.732+03:00 DEBUG 3906 --- [gateway] [parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [21b66f70-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7c5c20ed
2025-04-23T21:30:27.732+03:00 DEBUG 3906 --- [gateway] [parallel-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@38a38ed4}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@7b4b8199}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.config.GatewayFilterConfig$gatewayAuthHeaderFilter$1@6fced25c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@299fc582}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@4bbf20d1}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@77a2688d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1b94c789}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d76ebb}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@25fa6889}, order = 0], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_FIRST], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[PreserveHostHeader], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [[AddResponseHeader Access-Control-Allow-Origin = '*'], order = 3], [[AddRequestHeader X-Gateway-Auth = 'true'], order = 3], [[AddRequestHeader X-GATEWAY-AUTH = 'true'], order = 4], [[AddRequestHeader x-gateway-auth = 'true'], order = 5], [[PreserveHostHeader], order = 6], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@305aaedf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@1de73d37}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@40b31a16}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@1e29a81a}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3cf4dec7}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2a425cf5}, order = 2147483647]]
2025-04-23T21:30:27.734+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [4887c16e-72c4-460e-9f3b-3c9703db6866]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:30:27.737+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [7ee0d81a-8d06-471e-bf31-dcc4100182eb]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=de3fb890-add8-457a-bf7a-10eb5c72fca5, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=4887c16e-72c4-460e-9f3b-3c9703db6866}
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   : Request headers for path /api/auth/login after adding Gateway headers:
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Content-Type: application/json
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Accept: */*
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Cache-Control: no-cache
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Postman-Token: de3fb890-add8-457a-bf7a-10eb5c72fca5
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Host: localhost:8080
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Connection: keep-alive
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Content-Length: 50
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    X-Correlation-ID: 4887c16e-72c4-460e-9f3b-3c9703db6866
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    X-Request-ID: 7ee0d81a-8d06-471e-bf31-dcc4100182eb
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    x-gateway-auth: true
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    gatewayAuth: true
2025-04-23T21:30:27.738+03:00  INFO 3906 --- [gateway] [parallel-1] c.c.gateway.config.GatewayFilterConfig   :    Gateway-Auth: true
2025-04-23T21:30:27.748+03:00 DEBUG 3906 --- [gateway] [parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"de3fb890-add8-457a-bf7a-10eb5c72fca5", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"50", X-Correlation-ID:"4887c16e-72c4-460e-9f3b-3c9703db6866", X-Request-ID:"7ee0d81a-8d06-471e-bf31-dcc4100182eb", x-gateway-auth:"true", "true", "true", "true", gatewayAuth:"true", Gateway-Auth:"true", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:51220"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:30:27.750+03:00 DEBUG 3906 --- [gateway] [parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab-1-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/api/auth/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.15625E-4, duration(nanos)=415625.0, startTimeNanos=4389721011333}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@659f7d4b'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@48f49d54} created for the request. New headers are [Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"de3fb890-add8-457a-bf7a-10eb5c72fca5", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"50", X-Correlation-ID:"4887c16e-72c4-460e-9f3b-3c9703db6866", X-Request-ID:"7ee0d81a-8d06-471e-bf31-dcc4100182eb", x-gateway-auth:"true", "true", "true", "true", gatewayAuth:"true", Gateway-Auth:"true", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:51220"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:30:27.781+03:00 ERROR 3906 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:30:27.887+03:00 DEBUG 3906 --- [gateway] [reactor-http-nio-5] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T21:30:27.888+03:00 DEBUG 3906 --- [gateway] [reactor-http-nio-5] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab-1-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/api/auth/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.137761833, duration(nanos)=1.37761833E8, startTimeNanos=4389721011333}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@659f7d4b'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@48f49d54}
2025-04-23T21:30:27.898+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [7ee0d81a-8d06-471e-bf31-dcc4100182eb]: Status=403 FORBIDDEN
2025-04-23T21:30:27.900+03:00  WARN 3906 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [4887c16e-72c4-460e-9f3b-3c9703db6866]: Status=403 FORBIDDEN, Duration=167ms
2025-04-23T21:30:30.670+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Request headers for path /reports/attendance:
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxOTgzLCJleHAiOjE3NDU0MzU1ODN9.ycfJgnWULjbKPDtK162oolLtuVhbrRFxHtmeHXjVp-KODRi2XRqnRTpoqoTI5mA1
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Type: application/json
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept: */*
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Cache-Control: no-cache
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Postman-Token: 664936e7-618e-4edf-b2a5-09b7c434da45
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Host: localhost:8080
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:30:30.671+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Connection: keep-alive
2025-04-23T21:30:30.672+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Length: 106
2025-04-23T21:30:30.672+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    X-Auth-User: test
2025-04-23T21:30:30.672+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     :    X-Gateway-Auth: true
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : Request headers for path /reports/attendance:
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxOTgzLCJleHAiOjE3NDU0MzU1ODN9.ycfJgnWULjbKPDtK162oolLtuVhbrRFxHtmeHXjVp-KODRi2XRqnRTpoqoTI5mA1
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Type: application/json
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept: */*
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Cache-Control: no-cache
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Postman-Token: 664936e7-618e-4edf-b2a5-09b7c434da45
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Host: localhost:8080
2025-04-23T21:30:30.675+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:30:30.676+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Connection: keep-alive
2025-04-23T21:30:30.676+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    Content-Length: 106
2025-04-23T21:30:30.676+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    X-Auth-User: test
2025-04-23T21:30:30.676+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     :    X-Gateway-Auth: true
2025-04-23T21:30:30.676+03:00 DEBUG 3906 --- [gateway] [parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: lab1-reports-service
2025-04-23T21:30:30.676+03:00 DEBUG 3906 --- [gateway] [parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8080/reports/attendance] to Route{id='lab1-reports-service', uri=http://localhost:8081, order=0, predicate=Paths: [/reports/**], match trailing slash: true, gatewayFilters=[[[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_FIRST], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[PreserveHostHeader], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [[AddResponseHeader Access-Control-Allow-Origin = '*'], order = 3], [[AddRequestHeader X-Gateway-Auth = 'true'], order = 3], [[AddRequestHeader X-GATEWAY-AUTH = 'true'], order = 4], [[AddRequestHeader x-gateway-auth = 'true'], order = 5], [[PreserveHostHeader], order = 6]], metadata={}}
2025-04-23T21:30:30.676+03:00 DEBUG 3906 --- [gateway] [parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [21b66f70-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7c5c20ed
2025-04-23T21:30:30.676+03:00 DEBUG 3906 --- [gateway] [parallel-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.LoggingGlobalFilter@38a38ed4}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.RequestLoggingFilter@7b4b8199}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.config.GatewayFilterConfig$gatewayAuthHeaderFilter$1@6fced25c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@299fc582}, order = -2147483648], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.ValidationFilter@4bbf20d1}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@77a2688d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1b94c789}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d76ebb}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@25fa6889}, order = 0], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_FIRST], order = 1], [[RemoveRequestHeader name = 'Cookie'], order = 1], [[PreserveHostHeader], order = 2], [[SpringCloudCircuitBreakerResilience4JFilterFactory name = 'lab1ServiceBreaker', fallback = [null]], order = 2], [[AddResponseHeader Access-Control-Allow-Origin = '*'], order = 3], [[AddRequestHeader X-Gateway-Auth = 'true'], order = 3], [[AddRequestHeader X-GATEWAY-AUTH = 'true'], order = 4], [[AddRequestHeader x-gateway-auth = 'true'], order = 5], [[PreserveHostHeader], order = 6], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@305aaedf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@1de73d37}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@40b31a16}, order = 2147483646], [GatewayFilterAdapter{delegate=com.cherenkov.gateway.filter.MetricsFilter@1e29a81a}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3cf4dec7}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2a425cf5}, order = 2147483647]]
2025-04-23T21:30:30.676+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [f106bcd6-a7e0-40bd-b74f-110c67c156f3]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [9ee44be5-0a60-45ca-b1b0-e241062cadb3]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=664936e7-618e-4edf-b2a5-09b7c434da45, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=f106bcd6-a7e0-40bd-b74f-110c67c156f3}
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   : Request headers for path /reports/attendance after adding Gateway headers:
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxOTgzLCJleHAiOjE3NDU0MzU1ODN9.ycfJgnWULjbKPDtK162oolLtuVhbrRFxHtmeHXjVp-KODRi2XRqnRTpoqoTI5mA1
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Content-Type: application/json
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    User-Agent: PostmanRuntime/7.43.3
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Accept: */*
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Cache-Control: no-cache
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Postman-Token: 664936e7-618e-4edf-b2a5-09b7c434da45
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Host: localhost:8080
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Accept-Encoding: gzip, deflate, br
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Connection: keep-alive
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Content-Length: 106
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    X-Auth-User: test
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    X-Correlation-ID: f106bcd6-a7e0-40bd-b74f-110c67c156f3
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    X-Request-ID: 9ee44be5-0a60-45ca-b1b0-e241062cadb3
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    x-gateway-auth: true
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    gatewayAuth: true
2025-04-23T21:30:30.677+03:00  INFO 3906 --- [gateway] [parallel-3] c.c.gateway.config.GatewayFilterConfig   :    Gateway-Auth: true
2025-04-23T21:30:30.678+03:00 DEBUG 3906 --- [gateway] [parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxOTgzLCJleHAiOjE3NDU0MzU1ODN9.ycfJgnWULjbKPDtK162oolLtuVhbrRFxHtmeHXjVp-KODRi2XRqnRTpoqoTI5mA1", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"664936e7-618e-4edf-b2a5-09b7c434da45", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"106", X-Auth-User:"test", X-Correlation-ID:"f106bcd6-a7e0-40bd-b74f-110c67c156f3", X-Request-ID:"9ee44be5-0a60-45ca-b1b0-e241062cadb3", x-gateway-auth:"true", "true", "true", "true", gatewayAuth:"true", Gateway-Auth:"true", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:51220"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:30:30.678+03:00 DEBUG 3906 --- [gateway] [parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.7917E-5, duration(nanos)=37917.0, startTimeNanos=4392649554333}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@c85aec0'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@4a46f26c} created for the request. New headers are [Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzQ1NDMxOTgzLCJleHAiOjE3NDU0MzU1ODN9.ycfJgnWULjbKPDtK162oolLtuVhbrRFxHtmeHXjVp-KODRi2XRqnRTpoqoTI5mA1", Content-Type:"application/json", User-Agent:"PostmanRuntime/7.43.3", Accept:"*/*", Cache-Control:"no-cache", Postman-Token:"664936e7-618e-4edf-b2a5-09b7c434da45", Host:"localhost:8080", Accept-Encoding:"gzip, deflate, br", Content-Length:"106", X-Auth-User:"test", X-Correlation-ID:"f106bcd6-a7e0-40bd-b74f-110c67c156f3", X-Request-ID:"9ee44be5-0a60-45ca-b1b0-e241062cadb3", x-gateway-auth:"true", "true", "true", "true", gatewayAuth:"true", Gateway-Auth:"true", Forwarded:"proto=http;host="localhost:8080";for="[0:0:0:0:0:0:0:1]:51220"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"8080", X-Forwarded-Host:"localhost:8080"]
2025-04-23T21:30:30.753+03:00 DEBUG 3906 --- [gateway] [reactor-http-nio-5] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-04-23T21:30:30.753+03:00 DEBUG 3906 --- [gateway] [reactor-http-nio-5] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='lab1-reports-service', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8080/reports/attendance'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.074669792, duration(nanos)=7.4669792E7, startTimeNanos=4392649554333}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@c85aec0'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@4a46f26c}
2025-04-23T21:30:30.754+03:00  INFO 3906 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [9ee44be5-0a60-45ca-b1b0-e241062cadb3]: Status=403 FORBIDDEN
2025-04-23T21:30:30.755+03:00  WARN 3906 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [f106bcd6-a7e0-40bd-b74f-110c67c156f3]: Status=403 FORBIDDEN, Duration=79ms
2025-04-23T21:30:44.325+03:00  INFO 3906 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:30:44.327+03:00  INFO 3906 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-04-23T21:55:47.166+03:00  INFO 4167 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 4167 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-04-23T21:55:47.168+03:00  INFO 4167 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-04-23T21:55:48.199+03:00  INFO 4167 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-04-23T21:55:48.497+03:00  INFO 4167 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 2f13d91e-3760-4b02-b8ba-c86798d04711

2025-04-23T21:55:48.541+03:00  INFO 4167 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-04-23T21:55:48.813+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-04-23T21:55:48.814+03:00  INFO 4167 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-04-23T21:55:48.951+03:00  INFO 4167 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-04-23T21:55:49.206+03:00  INFO 4167 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-04-23T21:55:49.254+03:00  INFO 4167 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.36 seconds (process running for 2.755)
2025-04-23T21:55:55.996+03:00  INFO 4167 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [ed8b7e7d-fd58-4f44-a9c0-7e6ed480b6d8]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:55:55.999+03:00  INFO 4167 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [4c0206cb-069a-4b31-9cd4-152f47fa5f3e]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=1f370812-9cb6-4fc9-bf76-3a4ba45794a8, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=ed8b7e7d-fd58-4f44-a9c0-7e6ed480b6d8}
2025-04-23T21:55:56.040+03:00 ERROR 4167 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-04-23T21:55:56.318+03:00  INFO 4167 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [4c0206cb-069a-4b31-9cd4-152f47fa5f3e]: Status=200 OK
2025-04-23T21:55:56.320+03:00  INFO 4167 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [ed8b7e7d-fd58-4f44-a9c0-7e6ed480b6d8]: Status=200 OK, Duration=326ms
2025-04-23T21:56:08.142+03:00  INFO 4167 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [9da1c3af-8ca3-44da-a96d-aaaf55b286a3]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-04-23T21:56:08.144+03:00  INFO 4167 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [9814ec62-7962-45e2-a9a6-1fe47a664c7e]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=1afdf8b3-6032-491d-af4b-4dd332361685, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=9da1c3af-8ca3-44da-a96d-aaaf55b286a3}
2025-04-23T21:56:08.160+03:00  INFO 4167 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [9814ec62-7962-45e2-a9a6-1fe47a664c7e]: Status=200 OK
2025-04-23T21:56:08.161+03:00  INFO 4167 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [9da1c3af-8ca3-44da-a96d-aaaf55b286a3]: Status=200 OK, Duration=19ms
2025-04-23T21:56:19.689+03:00  INFO 4167 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:56:19.694+03:00  INFO 4167 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-04-23T21:56:19.694+03:00  INFO 4167 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [d4351ef0-5d05-4cd0-8d17-94415272e9ce]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-04-23T21:56:19.695+03:00  INFO 4167 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [c8d8f6c1-3c7c-416d-99b5-12707932aa8e]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.3, Accept=*/*, Cache-Control=no-cache, Postman-Token=92905b78-1fe1-4440-a467-2624b8e19de7, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=d4351ef0-5d05-4cd0-8d17-94415272e9ce}
2025-04-23T21:56:20.903+03:00  INFO 4167 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [c8d8f6c1-3c7c-416d-99b5-12707932aa8e]: Status=200 OK
2025-04-23T21:56:20.904+03:00  INFO 4167 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [d4351ef0-5d05-4cd0-8d17-94415272e9ce]: Status=200 OK, Duration=1210ms
2025-04-23T21:56:30.320+03:00  INFO 4167 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-23T21:56:30.321+03:00  INFO 4167 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-07T16:57:01.321+03:00  INFO 2554 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2554 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T16:57:01.322+03:00  INFO 2554 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-07T16:57:02.233+03:00  INFO 2554 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-07T16:57:02.516+03:00  INFO 2554 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: ee837d4a-949b-44fd-b466-8d24413e52e5

2025-05-07T16:57:02.558+03:00  INFO 2554 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-07T16:57:02.798+03:00  INFO 2554 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-07T16:57:02.900+03:00  INFO 2554 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-07T16:57:03.103+03:00  INFO 2554 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-07T16:57:03.142+03:00  INFO 2554 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 2.046 seconds (process running for 2.408)
2025-05-07T16:57:36.066+03:00  INFO 2554 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [7658add5-f0af-4c81-9d6b-586ece0c68b9]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-07T16:57:36.068+03:00  INFO 2554 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [5af68a65-95fd-46fc-a887-bfcc276034d1]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=cf7d4702-4dd4-45a2-b7ac-21e3a30797c2, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=7658add5-f0af-4c81-9d6b-586ece0c68b9}
2025-05-07T16:57:36.106+03:00 ERROR 2554 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-07T16:57:36.337+03:00  INFO 2554 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [5af68a65-95fd-46fc-a887-bfcc276034d1]: Status=200 OK
2025-05-07T16:57:36.339+03:00  INFO 2554 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [7658add5-f0af-4c81-9d6b-586ece0c68b9]: Status=200 OK, Duration=275ms
2025-05-07T16:57:50.795+03:00  INFO 2554 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T16:57:50.800+03:00  INFO 2554 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T16:57:50.801+03:00  INFO 2554 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [99bbcf91-dd0e-49ad-b983-329a1246a227]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T16:57:50.801+03:00  INFO 2554 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [bfd42682-fc9f-45c8-8be1-f0edb9de77ed]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=f7c31f67-56c5-4cfe-8bb5-302121e8509f, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=99bbcf91-dd0e-49ad-b983-329a1246a227}
2025-05-07T16:57:50.977+03:00  INFO 2554 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [bfd42682-fc9f-45c8-8be1-f0edb9de77ed]: Status=500 INTERNAL_SERVER_ERROR
2025-05-07T16:57:50.978+03:00 ERROR 2554 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [99bbcf91-dd0e-49ad-b983-329a1246a227]: Status=500 INTERNAL_SERVER_ERROR, Duration=178ms
2025-05-07T16:59:22.102+03:00  INFO 2554 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07T16:59:22.105+03:00  INFO 2554 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-07T17:05:25.477+03:00  INFO 3052 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3052 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T17:05:25.479+03:00  INFO 3052 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-07T17:05:26.125+03:00  INFO 3052 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-07T17:05:26.374+03:00  INFO 3052 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: f5f56376-9408-4de0-862b-3c98dcd91d54

2025-05-07T17:05:26.410+03:00  INFO 3052 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-07T17:05:26.626+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-07T17:05:26.626+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-07T17:05:26.626+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-07T17:05:26.626+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-07T17:05:26.626+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-07T17:05:26.627+03:00  INFO 3052 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-07T17:05:26.735+03:00  INFO 3052 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-07T17:05:26.954+03:00  INFO 3052 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-07T17:05:26.993+03:00  INFO 3052 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.733 seconds (process running for 2.091)
2025-05-07T17:05:46.371+03:00  INFO 3052 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07T17:05:46.373+03:00  INFO 3052 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-07T17:07:33.327+03:00  INFO 3223 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3223 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T17:07:33.328+03:00  INFO 3223 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-07T17:07:33.991+03:00  INFO 3223 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-07T17:07:34.223+03:00  INFO 3223 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 490925b6-45d9-4bf9-ae8b-8c2fc062efcc

2025-05-07T17:07:34.259+03:00  INFO 3223 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-07T17:07:34.478+03:00  INFO 3223 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-07T17:07:34.588+03:00  INFO 3223 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-07T17:07:34.800+03:00  INFO 3223 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-07T17:07:34.840+03:00  INFO 3223 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.709 seconds (process running for 2.028)
2025-05-07T17:07:43.171+03:00  INFO 3223 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [6cb20adb-933e-4d4f-bf7c-a96e95a8e80e]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-07T17:07:43.174+03:00  INFO 3223 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [54951267-df21-48eb-9983-aa41e4586539]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=07a1de5a-b0d6-46af-a963-7f09498af68c, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=6cb20adb-933e-4d4f-bf7c-a96e95a8e80e}
2025-05-07T17:07:43.211+03:00 ERROR 3223 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-07T17:07:43.457+03:00  INFO 3223 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [54951267-df21-48eb-9983-aa41e4586539]: Status=200 OK
2025-05-07T17:07:43.459+03:00  INFO 3223 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [6cb20adb-933e-4d4f-bf7c-a96e95a8e80e]: Status=200 OK, Duration=290ms
2025-05-07T17:07:56.347+03:00  INFO 3223 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:07:56.351+03:00  INFO 3223 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:07:56.352+03:00  INFO 3223 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [bc71169e-4d91-4b41-a4c6-38e964f825eb]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T17:07:56.352+03:00  INFO 3223 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [2a05ef8b-45a0-47e8-bd28-927ace4cbe52]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=6f0e07b0-8e0e-4970-868d-4b57219785e4, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=bc71169e-4d91-4b41-a4c6-38e964f825eb}
2025-05-07T17:07:56.540+03:00  INFO 3223 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [2a05ef8b-45a0-47e8-bd28-927ace4cbe52]: Status=500 INTERNAL_SERVER_ERROR
2025-05-07T17:07:56.540+03:00 ERROR 3223 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [bc71169e-4d91-4b41-a4c6-38e964f825eb]: Status=500 INTERNAL_SERVER_ERROR, Duration=188ms
2025-05-07T17:08:08.839+03:00  INFO 3223 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07T17:08:08.840+03:00  INFO 3223 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-07T17:09:19.381+03:00  INFO 3335 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3335 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T17:09:19.382+03:00  INFO 3335 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-07T17:09:19.996+03:00  INFO 3335 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-07T17:09:20.255+03:00  INFO 3335 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 22af7c8a-6813-4e4c-b1fd-5e898747d1ca

2025-05-07T17:09:20.291+03:00  INFO 3335 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-07T17:09:20.504+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-07T17:09:20.504+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-07T17:09:20.504+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-07T17:09:20.505+03:00  INFO 3335 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-07T17:09:20.609+03:00  INFO 3335 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-07T17:09:20.826+03:00  INFO 3335 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-07T17:09:20.865+03:00  INFO 3335 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.665 seconds (process running for 1.984)
2025-05-07T17:09:26.657+03:00  INFO 3335 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [51a76b4d-8b4b-4223-85f4-d6bd0fe35f07]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-07T17:09:26.659+03:00  INFO 3335 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [f5ce5e58-3df6-4ce2-884a-2c66c4891f30]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=adf78671-969b-42f1-b60c-abfbbf0b9e34, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=51a76b4d-8b4b-4223-85f4-d6bd0fe35f07}
2025-05-07T17:09:26.700+03:00 ERROR 3335 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-07T17:09:26.940+03:00  INFO 3335 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [f5ce5e58-3df6-4ce2-884a-2c66c4891f30]: Status=200 OK
2025-05-07T17:09:26.942+03:00  INFO 3335 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [51a76b4d-8b4b-4223-85f4-d6bd0fe35f07]: Status=200 OK, Duration=287ms
2025-05-07T17:09:37.304+03:00 ERROR 3335 --- [gateway] [reactor-http-nio-3] c.cherenkov.gateway.service.JwtService   : Invalid JWT signature: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-05-07T17:09:37.304+03:00 ERROR 3335 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : Error validating JWT: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.cherenkov.gateway.service.JwtService.extractAllClaims(JwtService.kt:96) ~[main/:na]
	at com.cherenkov.gateway.service.JwtService.extractClaim(JwtService.kt:86) ~[main/:na]
	at com.cherenkov.gateway.service.JwtService.extractUsername(JwtService.kt:41) ~[main/:na]
	at com.cherenkov.gateway.filter.JwtAuthenticationFilter.validateToken(JwtAuthenticationFilter.kt:83) ~[main/:na]
	at com.cherenkov.gateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.kt:60) ~[main/:na]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilter.wrapFilter(ObservationWebFilterChainDecorator.java:211) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilter.filter(ObservationWebFilterChainDecorator.java:200) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilterChain.invokeFilter(ObservationWebFilterChainDecorator.java:159) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilterChain.lambda$filter$0(ObservationWebFilterChainDecorator.java:153) ~[spring-security-web-6.4.4.jar:6.4.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.fastPath(FluxIterable.java:424) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.request(Operators.java:2067) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFromFluxOperator.subscribe(MonoFromFluxOperator.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:302) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onNext(FluxFilterWhen.java:140) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onSubscribe(FluxFilterWhen.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:202) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1249) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:716) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:486) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.http.server.HttpServerOperations.handleDefaultHttpRequest(HttpServerOperations.java:856) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:782) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:272) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:455) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-07T17:09:37.310+03:00 ERROR 3335 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.cherenkov.gateway.service.JwtService.extractAllClaims(JwtService.kt:96) ~[main/:na]
	at com.cherenkov.gateway.service.JwtService.extractClaim(JwtService.kt:86) ~[main/:na]
	at com.cherenkov.gateway.service.JwtService.extractUsername(JwtService.kt:41) ~[main/:na]
	at com.cherenkov.gateway.filter.JwtAuthenticationFilter.validateToken(JwtAuthenticationFilter.kt:83) ~[main/:na]
	at com.cherenkov.gateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.kt:60) ~[main/:na]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilter.wrapFilter(ObservationWebFilterChainDecorator.java:211) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilter.filter(ObservationWebFilterChainDecorator.java:200) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilterChain.invokeFilter(ObservationWebFilterChainDecorator.java:159) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.server.ObservationWebFilterChainDecorator$ObservationWebFilterChain.lambda$filter$0(ObservationWebFilterChainDecorator.java:153) ~[spring-security-web-6.4.4.jar:6.4.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:118) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.fastPath(FluxIterable.java:424) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.request(Operators.java:2067) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:291) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.onSubscribe(Operators.java:2051) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFromFluxOperator.subscribe(MonoFromFluxOperator.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:302) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onNext(FluxFilterWhen.java:140) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onSubscribe(FluxFilterWhen.java:200) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:202) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:265) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1249) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:716) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:486) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.http.server.HttpServerOperations.handleDefaultHttpRequest(HttpServerOperations.java:856) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:782) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:272) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:455) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-07T17:09:46.347+03:00  INFO 3335 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:09:46.352+03:00  INFO 3335 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:09:46.352+03:00  INFO 3335 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [498602d3-c948-49c4-9fb1-bc63dd29930d]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T17:09:46.352+03:00  INFO 3335 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [bbc39d97-87e6-4f52-b007-2913d293ff4f]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=e55414b4-36d7-469e-8c3d-f9649b95b7c1, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=498602d3-c948-49c4-9fb1-bc63dd29930d}
2025-05-07T17:09:47.042+03:00  INFO 3335 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [bbc39d97-87e6-4f52-b007-2913d293ff4f]: Status=500 INTERNAL_SERVER_ERROR
2025-05-07T17:09:47.043+03:00 ERROR 3335 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [498602d3-c948-49c4-9fb1-bc63dd29930d]: Status=500 INTERNAL_SERVER_ERROR, Duration=691ms
2025-05-07T17:10:05.764+03:00  INFO 3335 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07T17:10:05.765+03:00  INFO 3335 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-07T17:11:09.215+03:00  INFO 3476 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3476 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T17:11:09.216+03:00  INFO 3476 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-07T17:11:09.850+03:00  INFO 3476 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-07T17:11:10.090+03:00  INFO 3476 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 09377e93-38fd-4c31-ae11-d8e404933059

2025-05-07T17:11:10.127+03:00  INFO 3476 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-07T17:11:10.338+03:00  INFO 3476 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-07T17:11:10.442+03:00  INFO 3476 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-07T17:11:10.657+03:00  INFO 3476 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-07T17:11:10.696+03:00  INFO 3476 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.685 seconds (process running for 2.046)
2025-05-07T17:11:17.000+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:11:17.018+03:00  INFO 3476 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:11:17.023+03:00  INFO 3476 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [01901ea5-1a3e-43e7-bfd5-3242ae397122]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T17:11:17.025+03:00  INFO 3476 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [625577cf-6e4f-4050-9dbd-3a87826674cd]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=e698c59c-8d0f-4937-bab2-8339df3bc086, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=01901ea5-1a3e-43e7-bfd5-3242ae397122}
2025-05-07T17:11:17.064+03:00 ERROR 3476 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-07T17:11:17.256+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [625577cf-6e4f-4050-9dbd-3a87826674cd]: Status=403 FORBIDDEN
2025-05-07T17:11:17.261+03:00  WARN 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [01901ea5-1a3e-43e7-bfd5-3242ae397122]: Status=403 FORBIDDEN, Duration=240ms
2025-05-07T17:11:38.314+03:00  INFO 3476 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [f93ea872-4a5a-4a5d-88f9-b98c19275b7c]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-07T17:11:38.318+03:00  INFO 3476 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [9f37cf28-c31a-46a5-880d-b846b2461f31]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=3d601996-5384-49a6-9791-f297f53baa95, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=f93ea872-4a5a-4a5d-88f9-b98c19275b7c}
2025-05-07T17:11:38.434+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [9f37cf28-c31a-46a5-880d-b846b2461f31]: Status=200 OK
2025-05-07T17:11:38.435+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [f93ea872-4a5a-4a5d-88f9-b98c19275b7c]: Status=200 OK, Duration=121ms
2025-05-07T17:11:56.490+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:11:56.497+03:00  INFO 3476 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:11:56.499+03:00  INFO 3476 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [143e3617-9d1c-4e6e-9721-c4e738fdc014]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T17:11:56.499+03:00  INFO 3476 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [f17f7e6d-54e5-4f6b-9287-38de524cf53e]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=b75c6527-cd3f-4167-a68f-f0e8ec8bffd0, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=106, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=143e3617-9d1c-4e6e-9721-c4e738fdc014}
2025-05-07T17:11:58.244+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [f17f7e6d-54e5-4f6b-9287-38de524cf53e]: Status=200 OK
2025-05-07T17:11:58.244+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [143e3617-9d1c-4e6e-9721-c4e738fdc014]: Status=200 OK, Duration=1745ms
2025-05-07T17:12:26.768+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:12:26.777+03:00  INFO 3476 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:12:26.779+03:00  INFO 3476 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [6a00261f-b700-487c-8292-973b6c584cd7]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T17:12:26.779+03:00  INFO 3476 --- [gateway] [parallel-7] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [73dbdb52-1560-44c2-b127-2d0cd23a67b1]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=fedaa44d-c942-4e48-9a73-94f685e2a2b5, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=103, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=6a00261f-b700-487c-8292-973b6c584cd7}
2025-05-07T17:12:26.815+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [73dbdb52-1560-44c2-b127-2d0cd23a67b1]: Status=200 OK
2025-05-07T17:12:26.815+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [6a00261f-b700-487c-8292-973b6c584cd7]: Status=200 OK, Duration=36ms
2025-05-07T17:12:31.158+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:12:31.164+03:00  INFO 3476 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:12:31.165+03:00  INFO 3476 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [6e5377f5-29ca-4032-9cfc-e443772c7eec]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T17:12:31.166+03:00  INFO 3476 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [ec4fe4a1-6718-4490-9ae9-83eef5ea1e3f]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=ee928e75-81d4-4a18-8e2f-23adaad7569d, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=103, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=6e5377f5-29ca-4032-9cfc-e443772c7eec}
2025-05-07T17:12:31.186+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [ec4fe4a1-6718-4490-9ae9-83eef5ea1e3f]: Status=200 OK
2025-05-07T17:12:31.186+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [6e5377f5-29ca-4032-9cfc-e443772c7eec]: Status=200 OK, Duration=21ms
2025-05-07T17:12:37.266+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:12:37.270+03:00  INFO 3476 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/attendance
2025-05-07T17:12:37.272+03:00  INFO 3476 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [ca49c0aa-7d18-4117-aa31-f62dda5530e3]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-07T17:12:37.276+03:00  INFO 3476 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [d0ca4385-d828-40e4-8a55-df9e4d1738cd]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=2aef8f47-55a9-4141-8f29-0fe444d138ca, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=ca49c0aa-7d18-4117-aa31-f62dda5530e3}
2025-05-07T17:12:37.576+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [d0ca4385-d828-40e4-8a55-df9e4d1738cd]: Status=200 OK
2025-05-07T17:12:37.577+03:00  INFO 3476 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [ca49c0aa-7d18-4117-aa31-f62dda5530e3]: Status=200 OK, Duration=306ms
2025-05-07T17:12:56.064+03:00  INFO 3476 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07T17:12:56.066+03:00  INFO 3476 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
