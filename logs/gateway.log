2025-05-09T10:31:55.535+03:00  INFO 1230 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 1230 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T10:31:55.537+03:00  INFO 1230 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T10:31:56.269+03:00  INFO 1230 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T10:31:56.517+03:00  INFO 1230 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 0edd8395-3b4f-4cf0-8216-9988f691519f

2025-05-09T10:31:56.558+03:00  INFO 1230 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T10:31:56.801+03:00  INFO 1230 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T10:31:56.909+03:00  INFO 1230 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T10:31:57.130+03:00  INFO 1230 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T10:31:57.177+03:00  INFO 1230 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.837 seconds (process running for 2.169)
2025-05-09T10:32:57.519+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [924f5447-29eb-43c1-8693-de4d9d582b87]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T10:32:57.521+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [a5b62e8d-5a34-4847-b9a6-8cb858e828aa]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=9fd804c1-3a64-41ec-a122-1f20a9660b8f, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=924f5447-29eb-43c1-8693-de4d9d582b87}
2025-05-09T10:32:57.556+03:00 ERROR 1230 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T10:32:57.777+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [a5b62e8d-5a34-4847-b9a6-8cb858e828aa]: Status=200 OK
2025-05-09T10:32:57.779+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [924f5447-29eb-43c1-8693-de4d9d582b87]: Status=200 OK, Duration=262ms
2025-05-09T10:33:09.486+03:00  INFO 1230 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [eefbe9bb-1985-43c0-82a5-a5b91b942ada]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T10:33:09.486+03:00  INFO 1230 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [dfc3f2da-9b1b-4835-9f31-ee04a074ca9c]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=a4293438-c56d-481f-8fae-8dc21e4fa5a7, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=53, X-Gateway-Auth=true, X-Correlation-ID=eefbe9bb-1985-43c0-82a5-a5b91b942ada}
2025-05-09T10:33:09.493+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [dfc3f2da-9b1b-4835-9f31-ee04a074ca9c]: Status=200 OK
2025-05-09T10:33:09.494+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [eefbe9bb-1985-43c0-82a5-a5b91b942ada]: Status=200 OK, Duration=8ms
2025-05-09T10:33:24.125+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /reports/attendance
2025-05-09T10:33:24.129+03:00  INFO 1230 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /reports/attendance
2025-05-09T10:33:24.129+03:00  INFO 1230 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [2a7c99e1-ce67-4098-82a6-5a1ce6c272ef]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-09T10:33:24.129+03:00  INFO 1230 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [76656732-d073-498c-8131-a2edb3447e28]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=ebd4729e-5d7f-4bdc-8d52-11f283c066c6, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=kiriill, X-Gateway-Auth=true, X-Correlation-ID=2a7c99e1-ce67-4098-82a6-5a1ce6c272ef}
2025-05-09T10:33:26.820+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [76656732-d073-498c-8131-a2edb3447e28]: Status=200 OK
2025-05-09T10:33:26.820+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [2a7c99e1-ce67-4098-82a6-5a1ce6c272ef]: Status=200 OK, Duration=2691ms
2025-05-09T10:33:44.197+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /reports/course
2025-05-09T10:33:44.202+03:00  INFO 1230 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /reports/course
2025-05-09T10:33:44.203+03:00  INFO 1230 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [c85fc971-f3d4-4af2-8757-04cb76237741]: POST http://localhost:8080/reports/course from 0:0:0:0:0:0:0:1
2025-05-09T10:33:44.204+03:00  INFO 1230 --- [gateway] [parallel-7] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [f49f95ff-c0ff-410e-9cd0-fe6f5813dc2a]: POST http://localhost:8080/reports/course {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=ced7b0a3-56a8-436e-8a5b-ed2782f5bdc4, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=58, X-Auth-User=kiriill, X-Gateway-Auth=true, X-Correlation-ID=c85fc971-f3d4-4af2-8757-04cb76237741}
2025-05-09T10:33:45.470+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [f49f95ff-c0ff-410e-9cd0-fe6f5813dc2a]: Status=200 OK
2025-05-09T10:33:45.470+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [c85fc971-f3d4-4af2-8757-04cb76237741]: Status=200 OK, Duration=1267ms
2025-05-09T10:34:06.641+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /lab3/api/reports/group
2025-05-09T10:34:06.646+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /lab3/api/reports/group
2025-05-09T10:34:06.648+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [5b803645-db1b-4ffa-8945-544f305e8b66]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:34:06.648+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [e329d8a3-77f7-4534-8874-3ea87dc7f027]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=f5532fc1-8506-4307-af5b-205147a7b64b, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=kiriill, X-Gateway-Auth=true, X-Correlation-ID=5b803645-db1b-4ffa-8945-544f305e8b66}
2025-05-09T10:34:06.764+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [e329d8a3-77f7-4534-8874-3ea87dc7f027]: Status=403 FORBIDDEN
2025-05-09T10:34:06.765+03:00  WARN 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [5b803645-db1b-4ffa-8945-544f305e8b66]: Status=403 FORBIDDEN, Duration=118ms
2025-05-09T10:34:29.899+03:00  INFO 1230 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [ce7570a8-c90c-487b-8774-390d76eb6c68]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T10:34:29.901+03:00  INFO 1230 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [5e341243-b5cd-471f-b97a-f972cbb442b9]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=223c355c-ba37-4cfb-9f5e-47ab5e45e337, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=ce7570a8-c90c-487b-8774-390d76eb6c68}
2025-05-09T10:34:30.028+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [5e341243-b5cd-471f-b97a-f972cbb442b9]: Status=200 OK
2025-05-09T10:34:30.028+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [ce7570a8-c90c-487b-8774-390d76eb6c68]: Status=200 OK, Duration=129ms
2025-05-09T10:34:41.470+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:34:41.477+03:00  INFO 1230 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:34:41.478+03:00  INFO 1230 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [ec7d312b-ad1a-4f99-9a81-d3062cd00c92]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:34:41.479+03:00  INFO 1230 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [6656b1fe-c7e6-445b-b9e0-e0b3b8039726]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=50cc2523-2cd2-492e-a630-a9c543cd6468, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=ec7d312b-ad1a-4f99-9a81-d3062cd00c92}
2025-05-09T10:34:42.236+03:00  INFO 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [6656b1fe-c7e6-445b-b9e0-e0b3b8039726]: Status=500 INTERNAL_SERVER_ERROR
2025-05-09T10:34:42.236+03:00 ERROR 1230 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [ec7d312b-ad1a-4f99-9a81-d3062cd00c92]: Status=500 INTERNAL_SERVER_ERROR, Duration=758ms
2025-05-09T10:38:34.548+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:38:34.555+03:00  INFO 1230 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:38:34.557+03:00  INFO 1230 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [2bd863af-d55f-46c3-83db-3a131fd50232]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:38:34.557+03:00  INFO 1230 --- [gateway] [parallel-7] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [1113cccf-3fac-4f12-ab32-5421cc5ea1e8]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=7830147b-b8de-4383-a345-b3338bba0ad5, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=2bd863af-d55f-46c3-83db-3a131fd50232}
2025-05-09T10:38:35.600+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [1113cccf-3fac-4f12-ab32-5421cc5ea1e8]: Status=200 OK
2025-05-09T10:38:35.601+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [2bd863af-d55f-46c3-83db-3a131fd50232]: Status=200 OK, Duration=1045ms
2025-05-09T10:39:08.946+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:39:08.952+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:39:08.953+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [3d6171ab-5d6f-4939-800a-7629b8c3cd23]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:39:08.953+03:00  INFO 1230 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [efd5e224-2421-4625-b82e-4b4a40523a72]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=ce6a06a2-84b0-4536-ad6b-56cf9c6c42b6, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=3d6171ab-5d6f-4939-800a-7629b8c3cd23}
2025-05-09T10:39:08.983+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [efd5e224-2421-4625-b82e-4b4a40523a72]: Status=200 OK
2025-05-09T10:39:08.983+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [3d6171ab-5d6f-4939-800a-7629b8c3cd23]: Status=200 OK, Duration=30ms
2025-05-09T10:39:13.223+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:39:13.227+03:00  INFO 1230 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:39:13.229+03:00  INFO 1230 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [548d637f-375b-4f56-bfc3-39de23e7a9be]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:39:13.229+03:00  INFO 1230 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [cc3922bd-8167-4f6b-92a0-24b7a61e6a54]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=759c8171-7beb-4ba7-9888-f25f3c8bfef8, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=548d637f-375b-4f56-bfc3-39de23e7a9be}
2025-05-09T10:39:13.347+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [cc3922bd-8167-4f6b-92a0-24b7a61e6a54]: Status=200 OK
2025-05-09T10:39:13.348+03:00  INFO 1230 --- [gateway] [reactor-http-nio-2] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [548d637f-375b-4f56-bfc3-39de23e7a9be]: Status=200 OK, Duration=119ms
2025-05-09T10:39:51.425+03:00  INFO 1230 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T10:39:51.427+03:00  INFO 1230 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-09T10:45:36.954+03:00  INFO 1842 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 1842 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T10:45:36.955+03:00  INFO 1842 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T10:45:37.635+03:00  INFO 1842 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T10:45:37.878+03:00  INFO 1842 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 07ec1449-882e-4bea-9d99-8665f34e2681

2025-05-09T10:45:37.914+03:00  INFO 1842 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T10:45:38.152+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T10:45:38.153+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T10:45:38.153+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T10:45:38.153+03:00  INFO 1842 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T10:45:38.266+03:00  INFO 1842 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T10:45:38.485+03:00  INFO 1842 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T10:45:38.530+03:00  INFO 1842 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.775 seconds (process running for 2.091)
2025-05-09T10:45:51.204+03:00  INFO 1842 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:45:51.222+03:00  INFO 1842 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:45:51.226+03:00  INFO 1842 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [f0363f47-b8d3-4b7e-a098-d0dd7e727d22]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:45:51.229+03:00  INFO 1842 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [939b0b9d-a844-4116-adfc-c11e7f96be8b]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=a78d81be-e9d1-46ca-b16d-412a8d942774, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=f0363f47-b8d3-4b7e-a098-d0dd7e727d22}
2025-05-09T10:45:51.268+03:00 ERROR 1842 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T10:45:52.395+03:00  INFO 1842 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [939b0b9d-a844-4116-adfc-c11e7f96be8b]: Status=200 OK
2025-05-09T10:45:52.396+03:00  INFO 1842 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [f0363f47-b8d3-4b7e-a098-d0dd7e727d22]: Status=200 OK, Duration=1171ms
2025-05-09T10:49:26.338+03:00  INFO 1842 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T10:49:26.339+03:00  INFO 1842 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-09T10:50:53.459+03:00  INFO 2003 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2003 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T10:50:53.460+03:00  INFO 2003 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T10:50:54.117+03:00  INFO 2003 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T10:50:54.366+03:00  INFO 2003 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 35cfea98-5ee3-435f-b88d-91c7a42ddeef

2025-05-09T10:50:54.402+03:00  INFO 2003 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T10:50:54.635+03:00  INFO 2003 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T10:50:54.747+03:00  INFO 2003 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T10:50:54.959+03:00  INFO 2003 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T10:50:55.005+03:00  INFO 2003 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.732 seconds (process running for 2.044)
2025-05-09T10:51:07.846+03:00  INFO 2003 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:51:07.868+03:00  INFO 2003 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:51:07.874+03:00  INFO 2003 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [a55b2b36-0b51-445e-993c-f5e6784cca7c]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:51:07.877+03:00  INFO 2003 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [fa57d8a2-62b6-4c31-b177-2828e837f1df]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=7d29b0e6-6315-4a6e-9fcc-7d417822280a, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=a55b2b36-0b51-445e-993c-f5e6784cca7c}
2025-05-09T10:51:07.923+03:00 ERROR 2003 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T10:51:09.024+03:00  INFO 2003 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [fa57d8a2-62b6-4c31-b177-2828e837f1df]: Status=200 OK
2025-05-09T10:51:09.025+03:00  INFO 2003 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [a55b2b36-0b51-445e-993c-f5e6784cca7c]: Status=200 OK, Duration=1153ms
2025-05-09T10:58:02.322+03:00  INFO 2003 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T10:58:02.326+03:00  INFO 2003 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-09T10:58:08.412+03:00  INFO 2270 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2270 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T10:58:08.413+03:00  INFO 2270 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T10:58:09.075+03:00  INFO 2270 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T10:58:09.312+03:00  INFO 2270 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: a1ff3331-67cf-496d-9b37-6130acd39712

2025-05-09T10:58:09.356+03:00  INFO 2270 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T10:58:09.610+03:00  INFO 2270 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T10:58:09.725+03:00  INFO 2270 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T10:58:09.944+03:00  INFO 2270 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T10:58:09.986+03:00  INFO 2270 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.762 seconds (process running for 2.092)
2025-05-09T10:58:20.351+03:00  INFO 2270 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:58:20.370+03:00  INFO 2270 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T10:58:20.375+03:00  INFO 2270 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [2dc307fc-a8e8-42ca-b2aa-259fa85831a4]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T10:58:20.377+03:00  INFO 2270 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [02805d2d-623f-4595-8baa-9f5a1e256fbd]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=1949b50d-ba2b-41c5-9cd2-29f7ce3ab4de, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=2dc307fc-a8e8-42ca-b2aa-259fa85831a4}
2025-05-09T10:58:20.417+03:00 ERROR 2270 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T10:58:21.459+03:00  INFO 2270 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [02805d2d-623f-4595-8baa-9f5a1e256fbd]: Status=500 INTERNAL_SERVER_ERROR
2025-05-09T10:58:21.461+03:00 ERROR 2270 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [2dc307fc-a8e8-42ca-b2aa-259fa85831a4]: Status=500 INTERNAL_SERVER_ERROR, Duration=1088ms
2025-05-09T10:59:35.417+03:00  INFO 2270 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T10:59:35.419+03:00  INFO 2270 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-09T11:01:29.569+03:00  INFO 2393 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2393 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T11:01:29.570+03:00  INFO 2393 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T11:01:30.254+03:00  INFO 2393 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T11:01:30.499+03:00  INFO 2393 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 1a061ef8-68ef-47a4-bd64-b37925f14530

2025-05-09T11:01:30.537+03:00  INFO 2393 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T11:01:30.785+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T11:01:30.786+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T11:01:30.786+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T11:01:30.786+03:00  INFO 2393 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T11:01:30.896+03:00  INFO 2393 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T11:01:31.120+03:00  INFO 2393 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T11:01:31.174+03:00  INFO 2393 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.799 seconds (process running for 2.119)
2025-05-09T11:01:38.180+03:00  INFO 2393 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T11:01:38.202+03:00  INFO 2393 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /lab3/api/reports/group
2025-05-09T11:01:38.207+03:00  INFO 2393 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [a1697a17-b4a3-4e3f-96e8-186ef9971454]: POST http://localhost:8080/lab3/api/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T11:01:38.209+03:00  INFO 2393 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [b95ab52d-2575-4cc3-a1d5-2532e4a5e56c]: POST http://localhost:8080/lab3/api/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=2cd23399-121c-46f9-8512-998d2ee39df5, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=a1697a17-b4a3-4e3f-96e8-186ef9971454}
2025-05-09T11:01:38.245+03:00 ERROR 2393 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T11:01:39.365+03:00  INFO 2393 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [b95ab52d-2575-4cc3-a1d5-2532e4a5e56c]: Status=200 OK
2025-05-09T11:01:39.367+03:00  INFO 2393 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [a1697a17-b4a3-4e3f-96e8-186ef9971454]: Status=200 OK, Duration=1162ms
2025-05-09T11:03:51.133+03:00  INFO 2393 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T11:03:51.134+03:00  INFO 2393 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-09T11:10:43.255+03:00  INFO 2995 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 2995 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T11:10:43.256+03:00  INFO 2995 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T11:10:43.950+03:00  INFO 2995 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T11:10:44.224+03:00  INFO 2995 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: b402cd6d-64ab-4c3d-85cf-8a36e56ca470

2025-05-09T11:10:44.262+03:00  INFO 2995 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T11:10:44.490+03:00  INFO 2995 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T11:10:44.601+03:00  INFO 2995 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T11:10:44.805+03:00  INFO 2995 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T11:10:44.851+03:00  INFO 2995 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.788 seconds (process running for 2.15)
2025-05-09T11:11:16.840+03:00  INFO 2995 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [81e84731-057e-41f0-be41-a96cde944c49]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T11:11:16.842+03:00  INFO 2995 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [8e1f4d02-5727-4037-9ffc-c78022405b8d]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=ce666bc4-71ac-400a-a1ef-8367282faec5, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=81e84731-057e-41f0-be41-a96cde944c49}
2025-05-09T11:11:16.880+03:00 ERROR 2995 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T11:11:16.919+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-5] c.c.gateway.filter.ValidationFilter      : Validation error: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081
2025-05-09T11:11:16.920+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-5] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [8e1f4d02-5727-4037-9ffc-c78022405b8d]: Status=200 OK, Error=400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
	at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
	at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:16.923+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-5] c.c.g.exception.GlobalErrorHandler       : Gateway error: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ com.cherenkov.gateway.filter.JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ AuthorizationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ExceptionTranslationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ LogoutWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerRequestCacheWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ CorsWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ HttpHeaderWriterWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]
	*__checkpoint ⇢ HTTP POST "/api/auth/login" [ExceptionHandlingWebHandler]
Original Stack Trace:
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
		at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
		at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:16.941+03:00  WARN 2995 --- [gateway] [reactor-http-nio-5] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [81e84731-057e-41f0-be41-a96cde944c49]: Status=400 BAD_REQUEST, Duration=103ms
2025-05-09T11:11:19.332+03:00  INFO 2995 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [85fcaaa5-8b37-426f-b928-07ad84462be4]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T11:11:19.332+03:00  INFO 2995 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [b0545513-9288-49f5-aeb8-f717293e5502]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=1465d3ea-10a3-4dc5-9725-0a5b12877fa4, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=85fcaaa5-8b37-426f-b928-07ad84462be4}
2025-05-09T11:11:19.339+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-6] c.c.gateway.filter.ValidationFilter      : Validation error: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081
2025-05-09T11:11:19.339+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-6] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [b0545513-9288-49f5-aeb8-f717293e5502]: Status=200 OK, Error=400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
	at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
	at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:19.353+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-6] c.c.g.exception.GlobalErrorHandler       : Gateway error: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ com.cherenkov.gateway.filter.JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ AuthorizationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ExceptionTranslationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ LogoutWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerRequestCacheWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ CorsWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ HttpHeaderWriterWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]
	*__checkpoint ⇢ HTTP POST "/api/auth/login" [ExceptionHandlingWebHandler]
Original Stack Trace:
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
		at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
		at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:19.358+03:00  WARN 2995 --- [gateway] [reactor-http-nio-6] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [85fcaaa5-8b37-426f-b928-07ad84462be4]: Status=400 BAD_REQUEST, Duration=27ms
2025-05-09T11:11:20.511+03:00  INFO 2995 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [4b2842b0-0d23-472f-a241-c6a998011563]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T11:11:20.511+03:00  INFO 2995 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [82a652bd-0b94-4af5-91b4-36a7296d2585]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=75fd192a-53cc-40ef-bdb2-cfb4a1493b68, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=4b2842b0-0d23-472f-a241-c6a998011563}
2025-05-09T11:11:20.518+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.ValidationFilter      : Validation error: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081
2025-05-09T11:11:20.518+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [82a652bd-0b94-4af5-91b4-36a7296d2585]: Status=200 OK, Error=400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
	at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
	at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:20.520+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-7] c.c.g.exception.GlobalErrorHandler       : Gateway error: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ com.cherenkov.gateway.filter.JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ AuthorizationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ExceptionTranslationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ LogoutWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerRequestCacheWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ CorsWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ HttpHeaderWriterWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]
	*__checkpoint ⇢ HTTP POST "/api/auth/login" [ExceptionHandlingWebHandler]
Original Stack Trace:
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
		at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
		at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:20.523+03:00  WARN 2995 --- [gateway] [reactor-http-nio-7] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [4b2842b0-0d23-472f-a241-c6a998011563]: Status=400 BAD_REQUEST, Duration=12ms
2025-05-09T11:11:42.942+03:00  INFO 2995 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [72e6ded7-08d8-4b93-b5e9-0f80fb7170e3]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T11:11:42.943+03:00  INFO 2995 --- [gateway] [parallel-7] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [0fa2b623-983d-4fa9-ad21-f8ef90449eee]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=fdc8d214-18d0-4b34-96ab-a05a1dbda90f, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=72e6ded7-08d8-4b93-b5e9-0f80fb7170e3}
2025-05-09T11:11:42.951+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-8] c.c.gateway.filter.ValidationFilter      : Validation error: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081
2025-05-09T11:11:42.951+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-8] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [0fa2b623-983d-4fa9-ad21-f8ef90449eee]: Status=200 OK, Error=400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
	at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
	at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
	at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:42.955+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-8] c.c.g.exception.GlobalErrorHandler       : Gateway error: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"

com.cherenkov.gateway.exception.ValidationException: 400 BAD_REQUEST "Request validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081"
	at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ com.cherenkov.gateway.filter.JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ AuthorizationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ExceptionTranslationWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ LogoutWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerRequestCacheWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ JwtAuthenticationFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ CorsWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ HttpHeaderWriterWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]
	*__checkpoint ⇢ HTTP POST "/api/auth/login" [ExceptionHandlingWebHandler]
Original Stack Trace:
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:48) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter$filter$1.invoke(ValidationFilter.kt:43) ~[main/:na]
		at com.cherenkov.gateway.filter.ValidationFilter.filter$lambda$1(ValidationFilter.kt:43) ~[main/:na]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onError(FluxTimeout.java:220) ~[reactor-core-3.7.4.jar:3.7.4]
		at io.github.resilience4j.reactor.circuitbreaker.operator.CircuitBreakerSubscriber.hookOnError(CircuitBreakerSubscriber.java:86) ~[resilience4j-reactor-2.2.0.jar:2.2.0]
		at reactor.core.publisher.BaseSubscriber.onError(BaseSubscriber.java:180) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:280) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:323) ~[reactor-netty-http-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:174) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:479) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:443) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:593) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315) ~[reactor-core-3.7.4.jar:3.7.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261) ~[reactor-netty-core-1.2.4.jar:1.2.4]
		at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
		at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:42.958+03:00  WARN 2995 --- [gateway] [reactor-http-nio-8] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [72e6ded7-08d8-4b93-b5e9-0f80fb7170e3]: Status=400 BAD_REQUEST, Duration=17ms
2025-05-09T11:11:53.410+03:00  INFO 2995 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /reports/attendance
2025-05-09T11:11:53.414+03:00  INFO 2995 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kiriill on path: /reports/attendance
2025-05-09T11:11:53.414+03:00  INFO 2995 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [c66c8bc0-4d91-4877-bdaa-4a248ec77937]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-09T11:11:53.414+03:00  INFO 2995 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [3255cf9d-4ed2-4490-a7a7-98a8fc801c54]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=0ee400b1-8c8b-4449-8d98-60a5fb0f9373, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=kiriill, X-Gateway-Auth=true, X-Correlation-ID=c66c8bc0-4d91-4877-bdaa-4a248ec77937}
2025-05-09T11:11:53.417+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-1] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [3255cf9d-4ed2-4490-a7a7-98a8fc801c54]: Status=200 OK, Error=Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081

io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:673) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:53.417+03:00 ERROR 2995 --- [gateway] [reactor-http-nio-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validation failed: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081

io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:8081
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:673) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.119.Final.jar:4.1.119.Final]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-09T11:11:53.418+03:00  WARN 2995 --- [gateway] [reactor-http-nio-1] c.c.gateway.filter.LoggingGlobalFilter   : ERROR RESPONSE [c66c8bc0-4d91-4877-bdaa-4a248ec77937]: Status=401 UNAUTHORIZED, Duration=4ms
2025-05-09T11:11:53.418+03:00  WARN 2995 --- [gateway] [reactor-http-nio-1] c.c.gateway.filter.LoggingGlobalFilter   : UNAUTHORIZED ACCESS [c66c8bc0-4d91-4877-bdaa-4a248ec77937]: Path=/reports/attendance, Headers={Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=0ee400b1-8c8b-4449-8d98-60a5fb0f9373, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=kiriill, X-Gateway-Auth=true}
2025-05-09T11:13:41.006+03:00  INFO 2995 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [e2e25130-dacd-463b-a61d-9d74fc371235]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T11:13:41.006+03:00  INFO 2995 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [8acec766-81db-4f4c-8943-f7b8f6ade093]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=18a8d0af-7707-4bee-9dbf-3ca66d8fbc2e, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=50, X-Gateway-Auth=true, X-Correlation-ID=e2e25130-dacd-463b-a61d-9d74fc371235}
2025-05-09T11:13:41.191+03:00  INFO 2995 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [8acec766-81db-4f4c-8943-f7b8f6ade093]: Status=200 OK
2025-05-09T11:13:41.191+03:00  INFO 2995 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [e2e25130-dacd-463b-a61d-9d74fc371235]: Status=200 OK, Duration=186ms
2025-05-09T11:15:07.757+03:00  INFO 2995 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T11:15:07.758+03:00  INFO 2995 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-09T11:20:49.177+03:00  INFO 3329 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 3329 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T11:20:49.179+03:00  INFO 3329 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T11:20:49.884+03:00  INFO 3329 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T11:20:50.167+03:00  INFO 3329 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 9d02a258-b01e-4899-a8bf-debbb04c7ccf

2025-05-09T11:20:50.206+03:00  INFO 3329 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T11:20:50.442+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T11:20:50.442+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T11:20:50.442+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T11:20:50.442+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T11:20:50.443+03:00  INFO 3329 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T11:20:50.570+03:00  INFO 3329 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T11:20:50.781+03:00  INFO 3329 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T11:20:50.825+03:00  INFO 3329 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.842 seconds (process running for 2.192)
2025-05-09T11:21:07.416+03:00  INFO 3329 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/group
2025-05-09T11:21:07.434+03:00  INFO 3329 --- [gateway] [parallel-1] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: test on path: /reports/group
2025-05-09T11:21:07.439+03:00  INFO 3329 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [1c74af61-7179-41c0-9eed-ebcada7e39fc]: POST http://localhost:8080/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T11:21:07.441+03:00  INFO 3329 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [cf309c00-bbd8-48bc-a6b8-7019475ebe9c]: POST http://localhost:8080/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=acd48c37-a4bf-4616-bb63-37eb8bccb8d1, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=test, X-Gateway-Auth=true, X-Correlation-ID=1c74af61-7179-41c0-9eed-ebcada7e39fc}
2025-05-09T11:21:07.477+03:00 ERROR 3329 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T11:21:08.633+03:00  INFO 3329 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [cf309c00-bbd8-48bc-a6b8-7019475ebe9c]: Status=200 OK
2025-05-09T11:21:08.635+03:00  INFO 3329 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [1c74af61-7179-41c0-9eed-ebcada7e39fc]: Status=200 OK, Duration=1198ms
2025-05-09T11:21:27.363+03:00  INFO 3329 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T11:21:27.365+03:00  INFO 3329 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
2025-05-09T12:00:12.187+03:00  INFO 4898 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Starting GatewayApplicationKt using Java 20.0.2.1 with PID 4898 (/Users/nikitacerenkov/Documents/GitHub/labs/gateway/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-09T12:00:12.188+03:00  INFO 4898 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : The following 1 profile is active: "gateway"
2025-05-09T12:00:12.844+03:00  INFO 4898 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=64ea6394-4c94-3868-9140-610789fb9bfa
2025-05-09T12:00:13.094+03:00  INFO 4898 --- [gateway] [main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: 5e20a7e8-7780-4147-93c5-392b84b62db9

2025-05-09T12:00:13.129+03:00  INFO 4898 --- [gateway] [main] c.c.gateway.config.SecurityConfig        : Configuring security with exclude paths: [/api/auth/login, /api/auth/register, /api/auth/refresh-token, /actuator/**, /fallback/**]
2025-05-09T12:00:13.352+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-05-09T12:00:13.353+03:00  INFO 4898 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-05-09T12:00:13.461+03:00  INFO 4898 --- [gateway] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
2025-05-09T12:00:13.674+03:00  INFO 4898 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080 (http)
2025-05-09T12:00:13.718+03:00  INFO 4898 --- [gateway] [main] c.c.gateway.GatewayApplicationKt         : Started GatewayApplicationKt in 1.741 seconds (process running for 2.049)
2025-05-09T12:00:58.679+03:00  INFO 4898 --- [gateway] [parallel-1] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [1ebc60f5-9525-4f6f-877f-141d5e4f86d0]: POST http://localhost:8080/api/auth/login from 0:0:0:0:0:0:0:1
2025-05-09T12:00:58.682+03:00  INFO 4898 --- [gateway] [parallel-1] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [1bd70868-c4e1-43cd-ae02-c2ffa600daee]: POST http://localhost:8080/api/auth/login {Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=0b031d47-6a29-4fe6-991a-99df5a257dce, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=55, X-Gateway-Auth=true, X-Correlation-ID=1ebc60f5-9525-4f6f-877f-141d5e4f86d0}
2025-05-09T12:00:58.720+03:00 ERROR 4898 --- [gateway] [parallel-1] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-09T12:00:58.946+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [1bd70868-c4e1-43cd-ae02-c2ffa600daee]: Status=200 OK
2025-05-09T12:00:58.948+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [1ebc60f5-9525-4f6f-877f-141d5e4f86d0]: Status=200 OK, Duration=270ms
2025-05-09T12:01:13.169+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kirillik on path: /reports/attendance
2025-05-09T12:01:13.173+03:00  INFO 4898 --- [gateway] [parallel-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kirillik on path: /reports/attendance
2025-05-09T12:01:13.174+03:00  INFO 4898 --- [gateway] [parallel-3] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [f3a64712-0969-4a62-a3c4-ba45543a6bff]: POST http://localhost:8080/reports/attendance from 0:0:0:0:0:0:0:1
2025-05-09T12:01:13.174+03:00  INFO 4898 --- [gateway] [parallel-3] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [8cb2f32a-3cb6-4dcf-bafa-64b87434ebef]: POST http://localhost:8080/reports/attendance {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=f0547e23-cf9e-42eb-8dd2-af9416dad706, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=110, X-Auth-User=kirillik, X-Gateway-Auth=true, X-Correlation-ID=f3a64712-0969-4a62-a3c4-ba45543a6bff}
2025-05-09T12:01:14.381+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [8cb2f32a-3cb6-4dcf-bafa-64b87434ebef]: Status=200 OK
2025-05-09T12:01:14.382+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [f3a64712-0969-4a62-a3c4-ba45543a6bff]: Status=200 OK, Duration=1208ms
2025-05-09T12:01:31.974+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kirillik on path: /reports/course
2025-05-09T12:01:31.984+03:00  INFO 4898 --- [gateway] [parallel-5] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kirillik on path: /reports/course
2025-05-09T12:01:31.985+03:00  INFO 4898 --- [gateway] [parallel-5] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [6b669663-21c8-4295-bf9c-3cc02f6dc8a5]: POST http://localhost:8080/reports/course from 0:0:0:0:0:0:0:1
2025-05-09T12:01:31.986+03:00  INFO 4898 --- [gateway] [parallel-5] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [0337da84-56b8-4625-9bc7-8fab8b79ca97]: POST http://localhost:8080/reports/course {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=389f2db5-6efe-4395-80d3-baa07587d975, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=58, X-Auth-User=kirillik, X-Gateway-Auth=true, X-Correlation-ID=6b669663-21c8-4295-bf9c-3cc02f6dc8a5}
2025-05-09T12:01:32.720+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [0337da84-56b8-4625-9bc7-8fab8b79ca97]: Status=200 OK
2025-05-09T12:01:32.721+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [6b669663-21c8-4295-bf9c-3cc02f6dc8a5]: Status=200 OK, Duration=736ms
2025-05-09T12:01:47.517+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kirillik on path: /reports/group
2025-05-09T12:01:47.526+03:00  INFO 4898 --- [gateway] [parallel-7] c.c.g.filter.JwtAuthenticationFilter     : JWT validated for user: kirillik on path: /reports/group
2025-05-09T12:01:47.528+03:00  INFO 4898 --- [gateway] [parallel-7] c.c.gateway.filter.LoggingGlobalFilter   : REQUEST [6ac6f6c8-00e2-4865-8359-36920c7550a8]: POST http://localhost:8080/reports/group from 0:0:0:0:0:0:0:1
2025-05-09T12:01:47.529+03:00  INFO 4898 --- [gateway] [parallel-7] c.c.gateway.filter.RequestLoggingFilter  : REQUEST [bc5b2aff-f5c8-4631-a15d-6952b23c19ab]: POST http://localhost:8080/reports/group {Authorization=Bearer [MASKED], Content-Type=application/json, User-Agent=PostmanRuntime/7.43.4, Accept=*/*, Cache-Control=no-cache, Postman-Token=17cb3d94-7192-4a48-ba5e-46b0936c5510, Host=localhost:8080, Accept-Encoding=gzip, deflate, br, Connection=keep-alive, Content-Length=20, X-Auth-User=kirillik, X-Gateway-Auth=true, X-Correlation-ID=6ac6f6c8-00e2-4865-8359-36920c7550a8}
2025-05-09T12:01:48.552+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.RequestLoggingFilter  : RESPONSE [bc5b2aff-f5c8-4631-a15d-6952b23c19ab]: Status=200 OK
2025-05-09T12:01:48.553+03:00  INFO 4898 --- [gateway] [reactor-http-nio-3] c.c.gateway.filter.LoggingGlobalFilter   : RESPONSE [6ac6f6c8-00e2-4865-8359-36920c7550a8]: Status=200 OK, Duration=1026ms
2025-05-09T12:02:25.042+03:00  INFO 4898 --- [gateway] [SpringApplicationShutdownHook] o.s.b.w.embedded.netty.GracefulShutdown  : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-09T12:02:25.043+03:00  INFO 4898 --- [gateway] [netty-shutdown] o.s.b.w.embedded.netty.GracefulShutdown  : Graceful shutdown complete
