2025-05-07T18:39:06.211+03:00  INFO 2527 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 2527 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T18:39:06.212+03:00 DEBUG 2527 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07T18:39:06.212+03:00  INFO 2527 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : No active profile set, falling back to 1 default profile: "default"
2025-05-07T18:39:06.717+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:39:06.718+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:39:06.730+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07T18:39:06.733+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:39:06.733+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:39:06.735+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07T18:39:06.756+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:39:06.756+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07T18:39:06.758+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07T18:39:06.773+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:39:06.774+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:39:06.776+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:39:06.779+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:39:06.779+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:39:06.781+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:39:06.789+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:39:06.790+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07T18:39:06.793+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 R2DBC repository interfaces.
2025-05-07T18:39:06.803+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:39:06.803+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07T18:39:06.809+03:00  INFO 2527 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07T18:39:07.168+03:00  INFO 2527 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-05-07T18:39:07.175+03:00  INFO 2527 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07T18:39:07.176+03:00  INFO 2527 --- [lab-2] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07T18:39:07.197+03:00  INFO 2527 --- [lab-2] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07T18:39:07.197+03:00  INFO 2527 --- [lab-2] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 964 ms
2025-05-07T18:39:07.234+03:00  WARN 2527 --- [lab-2] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportController' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/controllers/ReportController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'reportService' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/service/ReportService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'courseRepository' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/repository/CourseRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.jooq.DSLContext' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-07T18:39:07.235+03:00  INFO 2527 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-07T18:39:07.245+03:00  INFO 2527 --- [lab-2] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-07T18:39:07.255+03:00 ERROR 2527 --- [lab-2] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.cherenkov.lab_2.repository.CourseRepository required a bean of type 'org.jooq.DSLContext' that could not be found.


Action:

Consider defining a bean of type 'org.jooq.DSLContext' in your configuration.

2025-05-07T18:42:10.917+03:00  INFO 2673 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 2673 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T18:42:10.918+03:00 DEBUG 2673 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07T18:42:10.919+03:00  INFO 2673 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : No active profile set, falling back to 1 default profile: "default"
2025-05-07T18:42:11.535+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:42:11.536+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:42:11.549+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07T18:42:11.553+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:42:11.554+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:42:11.557+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07T18:42:11.572+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:42:11.572+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07T18:42:11.574+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07T18:42:11.588+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:42:11.589+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:42:11.593+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:42:11.596+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:42:11.596+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:42:11.599+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:42:11.606+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:42:11.607+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07T18:42:11.609+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 R2DBC repository interfaces.
2025-05-07T18:42:11.616+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:42:11.617+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07T18:42:11.623+03:00  INFO 2673 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07T18:42:11.982+03:00  INFO 2673 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-05-07T18:42:11.991+03:00  INFO 2673 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07T18:42:11.991+03:00  INFO 2673 --- [lab-2] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07T18:42:12.017+03:00  INFO 2673 --- [lab-2] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07T18:42:12.017+03:00  INFO 2673 --- [lab-2] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1073 ms
2025-05-07T18:42:12.060+03:00  WARN 2673 --- [lab-2] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportController' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/controllers/ReportController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'reportService' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/service/ReportService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'courseRepository' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/repository/CourseRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'r2dbcScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/R2dbcInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'r2dbcScriptDatabaseInitializer' parameter 0: Error creating bean with name 'connectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/r2dbc/ConnectionFactoryConfigurations$PoolConfiguration$PooledConnectionFactoryConfiguration.class]: Failed to instantiate [io.r2dbc.pool.ConnectionPool]: Factory method 'connectionFactory' threw exception with message: Failed to determine a suitable R2DBC Connection URL
2025-05-07T18:42:12.061+03:00  INFO 2673 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-07T18:42:12.071+03:00  INFO 2673 --- [lab-2] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-07T18:42:12.078+03:00 ERROR 2673 --- [lab-2] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a ConnectionFactory: 'url' attribute is not specified and no embedded database could be configured.

Reason: Failed to determine a suitable R2DBC Connection URL


Action:

Consider the following:
	If you want an embedded database (H2), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).

2025-05-07T18:43:10.665+03:00  INFO 2722 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 2722 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T18:43:10.666+03:00 DEBUG 2722 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07T18:43:10.666+03:00  INFO 2722 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : No active profile set, falling back to 1 default profile: "default"
2025-05-07T18:43:11.060+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:11.061+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:43:11.070+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07T18:43:11.073+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:11.073+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:43:11.075+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07T18:43:11.086+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:11.086+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07T18:43:11.087+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07T18:43:11.104+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:11.104+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:43:11.107+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:43:11.108+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:11.108+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:43:11.110+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:43:11.116+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:11.116+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07T18:43:11.118+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 R2DBC repository interfaces.
2025-05-07T18:43:11.123+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:11.124+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07T18:43:11.129+03:00  INFO 2722 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-07T18:43:11.449+03:00  INFO 2722 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-05-07T18:43:11.456+03:00  INFO 2722 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07T18:43:11.456+03:00  INFO 2722 --- [lab-2] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07T18:43:11.479+03:00  INFO 2722 --- [lab-2] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07T18:43:11.479+03:00  INFO 2722 --- [lab-2] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 793 ms
2025-05-07T18:43:11.598+03:00  WARN 2722 --- [lab-2] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportController' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/controllers/ReportController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'reportService' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/service/ReportService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'courseRepository' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/repository/CourseRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dslContext' defined in class path resource [com/cherenkov/lab_2/configs/JooqConfig.class]: Unsatisfied dependency expressed through method 'dslContext' parameter 0: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-07T18:43:11.603+03:00  INFO 2722 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-07T18:43:11.612+03:00  INFO 2722 --- [lab-2] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-07T18:43:11.620+03:00 ERROR 2722 --- [lab-2] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method dslContext in com.cherenkov.lab_2.configs.JooqConfig required a bean of type 'javax.sql.DataSource' that could not be found.


Action:

Consider defining a bean of type 'javax.sql.DataSource' in your configuration.

2025-05-07T18:43:48.989+03:00  INFO 2746 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 2746 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T18:43:48.990+03:00 DEBUG 2746 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07T18:43:48.990+03:00  INFO 2746 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : No active profile set, falling back to 1 default profile: "default"
2025-05-07T18:43:49.457+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:49.459+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:43:49.491+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07T18:43:49.494+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:49.495+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:43:49.498+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07T18:43:49.521+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:49.521+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07T18:43:49.524+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07T18:43:49.539+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:49.540+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:43:49.542+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:43:49.545+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:49.545+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:43:49.547+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:43:49.554+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:49.554+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07T18:43:49.556+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 R2DBC repository interfaces.
2025-05-07T18:43:49.565+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:43:49.565+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07T18:43:49.570+03:00  INFO 2746 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07T18:43:49.987+03:00  INFO 2746 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-05-07T18:43:49.994+03:00  INFO 2746 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07T18:43:49.995+03:00  INFO 2746 --- [lab-2] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07T18:43:50.018+03:00  INFO 2746 --- [lab-2] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07T18:43:50.018+03:00  INFO 2746 --- [lab-2] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1008 ms
2025-05-07T18:43:50.048+03:00  WARN 2746 --- [lab-2] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jooqConfig' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/configs/JooqConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-07T18:43:50.049+03:00  INFO 2746 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-07T18:43:50.058+03:00  INFO 2746 --- [lab-2] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-07T18:43:50.067+03:00 ERROR 2746 --- [lab-2] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.cherenkov.lab_2.configs.JooqConfig required a bean of type 'javax.sql.DataSource' that could not be found.


Action:

Consider defining a bean of type 'javax.sql.DataSource' in your configuration.

2025-05-07T18:44:25.346+03:00  INFO 2786 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 2786 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T18:44:25.347+03:00 DEBUG 2786 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07T18:44:25.347+03:00  INFO 2786 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : No active profile set, falling back to 1 default profile: "default"
2025-05-07T18:44:25.725+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:44:25.726+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:44:25.735+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07T18:44:25.738+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:44:25.738+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:44:25.740+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07T18:44:25.750+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:44:25.750+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07T18:44:25.752+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07T18:44:25.768+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:44:25.768+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:44:25.771+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:44:25.772+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:44:25.772+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:44:25.774+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:44:25.780+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:44:25.780+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07T18:44:25.781+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 R2DBC repository interfaces.
2025-05-07T18:44:25.788+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:44:25.788+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07T18:44:25.793+03:00  INFO 2786 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-07T18:44:26.098+03:00  INFO 2786 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-05-07T18:44:26.105+03:00  INFO 2786 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07T18:44:26.106+03:00  INFO 2786 --- [lab-2] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07T18:44:26.126+03:00  INFO 2786 --- [lab-2] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07T18:44:26.127+03:00  INFO 2786 --- [lab-2] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 759 ms
2025-05-07T18:44:26.157+03:00  WARN 2786 --- [lab-2] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jooqConfig' defined in file [/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main/com/cherenkov/lab_2/configs/JooqConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-07T18:44:26.158+03:00  INFO 2786 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-07T18:44:26.167+03:00  INFO 2786 --- [lab-2] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-07T18:44:26.175+03:00 ERROR 2786 --- [lab-2] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.cherenkov.lab_2.configs.JooqConfig required a bean of type 'javax.sql.DataSource' that could not be found.


Action:

Consider defining a bean of type 'javax.sql.DataSource' in your configuration.

2025-05-07T18:46:54.633+03:00  INFO 2883 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 2883 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T18:46:54.633+03:00 DEBUG 2883 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07T18:46:54.634+03:00  INFO 2883 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : No active profile set, falling back to 1 default profile: "default"
2025-05-07T18:46:55.120+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:46:55.121+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:46:55.139+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07T18:46:55.142+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:46:55.143+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:46:55.145+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07T18:46:55.159+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:46:55.159+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07T18:46:55.161+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07T18:46:55.174+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:46:55.175+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:46:55.178+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:46:55.180+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:46:55.180+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:46:55.182+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:46:55.190+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:46:55.190+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07T18:46:55.192+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 R2DBC repository interfaces.
2025-05-07T18:46:55.199+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:46:55.199+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07T18:46:55.205+03:00  INFO 2883 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07T18:46:55.648+03:00  INFO 2883 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-05-07T18:46:55.655+03:00  INFO 2883 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07T18:46:55.656+03:00  INFO 2883 --- [lab-2] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07T18:46:55.680+03:00  INFO 2883 --- [lab-2] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07T18:46:55.680+03:00  INFO 2883 --- [lab-2] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1026 ms
2025-05-07T18:46:55.711+03:00 DEBUG 2883 --- [lab-2] [main] c.c.lab_2.configs.GatewayAuthFilter      : Filter 'gatewayAuthFilter' configured for use
2025-05-07T18:46:55.711+03:00 DEBUG 2883 --- [lab-2] [main] c.c.lab_2.configs.RequestLoggingFilter   : Filter 'requestLoggingFilter' configured for use
2025-05-07T18:46:56.133+03:00  INFO 2883 --- [lab-2] [main] o.neo4j.driver.internal.DriverFactory    : Direct driver instance 940563698 created for server address localhost:7687
2025-05-07T18:46:56.209+03:00  INFO 2883 --- [lab-2] [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@752494dd, com.mongodb.Jep395RecordCodecProvider@2986427e, com.mongodb.KotlinCodecProvider@35d88a54]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-05-07T18:46:56.218+03:00  INFO 2883 --- [lab-2] [cluster-ClusterId{value='681b80704616c44d0c028fc9', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=10220416, minRoundTripTimeNanos=0}
2025-05-07T18:46:56.899+03:00  WARN 2883 --- [lab-2] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 846185e2-0275-4b5a-b28e-851287c921ce

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-07T18:46:56.905+03:00  INFO 2883 --- [lab-2] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-07T18:46:57.013+03:00  INFO 2883 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-05-07T18:46:57.019+03:00  INFO 2883 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Started Lab2ApplicationKt in 2.58 seconds (process running for 2.841)
2025-05-07T18:49:12.610+03:00  INFO 2883 --- [lab-2] [http-nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07T18:49:12.611+03:00  INFO 2883 --- [lab-2] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07T18:49:12.612+03:00  INFO 2883 --- [lab-2] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-07T18:49:12.616+03:00 DEBUG 2883 --- [lab-2] [http-nio-8082-exec-1] com.cherenkov.lab_1.utils.LoggingUtils   : Настроен контекст логирования для запроса db6fbd14-bee1-4821-8816-bd597b38438d: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07T18:49:12.619+03:00  INFO 2883 --- [lab-2] [http-nio-8082-exec-1] c.c.lab_2.configs.RequestLoggingFilter   : >>> {POST} {/reports/course}
2025-05-07T18:49:12.638+03:00  INFO 2883 --- [lab-2] [http-nio-8082-exec-1] c.c.lab_2.configs.RequestLoggingFilter   : <<< {org.apache.catalina.connector.ResponseFacade@7ac65f4} - {403} ({20} мс)
2025-05-07T18:49:55.557+03:00  INFO 2883 --- [lab-2] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07T18:49:55.560+03:00  INFO 2883 --- [lab-2] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-07T18:49:55.693+03:00  INFO 2883 --- [lab-2] [SpringApplicationShutdownHook] o.neo4j.driver.internal.InternalDriver   : Closing driver instance 940563698
2025-05-07T18:59:42.003+03:00  INFO 3469 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 3469 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07T18:59:42.004+03:00 DEBUG 3469 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07T18:59:42.004+03:00  INFO 3469 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : No active profile set, falling back to 1 default profile: "default"
2025-05-07T18:59:42.642+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:59:42.643+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:59:42.659+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07T18:59:42.663+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:59:42.663+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07T18:59:42.666+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07T18:59:42.681+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:59:42.681+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07T18:59:42.684+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07T18:59:42.698+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:59:42.698+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:59:42.701+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:59:42.705+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:59:42.705+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07T18:59:42.707+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07T18:59:42.716+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:59:42.716+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07T18:59:42.719+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 R2DBC repository interfaces.
2025-05-07T18:59:42.727+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07T18:59:42.728+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07T18:59:42.733+03:00  INFO 3469 --- [lab-2] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07T18:59:43.065+03:00  INFO 3469 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-05-07T18:59:43.072+03:00  INFO 3469 --- [lab-2] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07T18:59:43.072+03:00  INFO 3469 --- [lab-2] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07T18:59:43.093+03:00  INFO 3469 --- [lab-2] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07T18:59:43.093+03:00  INFO 3469 --- [lab-2] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1067 ms
2025-05-07T18:59:43.125+03:00 DEBUG 3469 --- [lab-2] [main] c.c.lab_2.configs.RequestLoggingFilter   : Filter 'requestLoggingFilter' configured for use
2025-05-07T18:59:43.126+03:00 DEBUG 3469 --- [lab-2] [main] c.cherenkov.lab_2.configs.JwtAuthFilter  : Filter 'jwtAuthFilter' configured for use
2025-05-07T18:59:43.528+03:00  INFO 3469 --- [lab-2] [main] o.neo4j.driver.internal.DriverFactory    : Direct driver instance 1941851357 created for server address localhost:7687
2025-05-07T18:59:43.606+03:00  INFO 3469 --- [lab-2] [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@615c4ea4, com.mongodb.Jep395RecordCodecProvider@417446d9, com.mongodb.KotlinCodecProvider@34070bd2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-05-07T18:59:43.620+03:00  INFO 3469 --- [lab-2] [cluster-ClusterId{value='681b836f828ed0094f1f1660', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=15599959, minRoundTripTimeNanos=0}
2025-05-07T18:59:43.861+03:00  INFO 3469 --- [lab-2] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userService
2025-05-07T18:59:44.407+03:00  INFO 3469 --- [lab-2] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-05-07T18:59:44.413+03:00  INFO 3469 --- [lab-2] [main] com.cherenkov.lab_2.Lab2ApplicationKt    : Started Lab2ApplicationKt in 2.61 seconds (process running for 2.87)
2025-05-07T19:00:23.651+03:00  INFO 3469 --- [lab-2] [http-nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07T19:00:23.651+03:00  INFO 3469 --- [lab-2] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07T19:00:23.653+03:00  INFO 3469 --- [lab-2] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-07T19:00:23.656+03:00 DEBUG 3469 --- [lab-2] [http-nio-8082-exec-1] com.cherenkov.lab_1.utils.LoggingUtils   : Настроен контекст логирования для запроса d10850d3-56c5-4c1a-923b-097d94b866a9: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07T19:00:23.660+03:00  INFO 3469 --- [lab-2] [http-nio-8082-exec-1] c.c.lab_2.configs.RequestLoggingFilter   : >>> {POST} {/reports/course}
2025-05-07T19:00:23.736+03:00  INFO 3469 --- [lab-2] [http-nio-8082-exec-1] c.c.lab_2.configs.RequestLoggingFilter   : <<< {org.apache.catalina.connector.ResponseFacade@7d68d0a5} - {403} ({78} мс)
2025-05-07T19:01:09.744+03:00 DEBUG 3469 --- [lab-2] [http-nio-8082-exec-2] com.cherenkov.lab_1.utils.LoggingUtils   : Настроен контекст логирования для запроса 1b902812-dc58-486d-8cf8-0d0a582ad7eb: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07T19:01:09.746+03:00  INFO 3469 --- [lab-2] [http-nio-8082-exec-2] c.c.lab_2.configs.RequestLoggingFilter   : >>> {POST} {/reports/course}
2025-05-07T19:01:09.755+03:00  INFO 3469 --- [lab-2] [http-nio-8082-exec-2] c.c.lab_2.configs.RequestLoggingFilter   : <<< {org.apache.catalina.connector.ResponseFacade@1703e0cd} - {403} ({8} мс)
2025-05-07T19:02:25.501+03:00  INFO 3469 --- [lab-2] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07T19:02:25.503+03:00  INFO 3469 --- [lab-2] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-07T19:02:25.631+03:00  INFO 3469 --- [lab-2] [SpringApplicationShutdownHook] o.neo4j.driver.internal.InternalDriver   : Closing driver instance 1941851357
2025-05-07 19:17:11.473 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 4336 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07 19:17:11.475 [main] [] DEBUG c.cherenkov.lab_2.Lab2ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07 19:17:11.475 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-05-07 19:17:11.570 [main] [] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.cherenkov.lab_2.Lab2Application]
2025-05-07 19:17:11.847 [main] [] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.cherenkov.lab_2.Lab2Application]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.cherenkov.lab_2.Lab2ApplicationKt.main(Lab2Application.kt:13)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'globalExceptionHandler' for bean class [com.cherenkov.lab_2.exceptions.GlobalExceptionHandler] conflicts with existing, non-compatible bean definition of same name and class [com.cherenkov.lab_2.configs.GlobalExceptionHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:345)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:280)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:203)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:172)
	... 13 common frames omitted
2025-05-07 19:18:08.028 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 4392 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07 19:18:08.029 [main] [] DEBUG c.cherenkov.lab_2.Lab2ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07 19:18:08.029 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-05-07 19:18:08.112 [main] [] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.cherenkov.lab_2.Lab2Application]
2025-05-07 19:18:08.389 [main] [] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.cherenkov.lab_2.Lab2Application]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.cherenkov.lab_2.Lab2ApplicationKt.main(Lab2Application.kt:13)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'jwtAuthFilter' for bean class [com.cherenkov.lab_2.filter.JwtAuthFilter] conflicts with existing, non-compatible bean definition of same name and class [com.cherenkov.lab_2.configs.JwtAuthFilter]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:345)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:280)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:203)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:172)
	... 13 common frames omitted
2025-05-07 19:19:33.672 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 4483 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07 19:19:33.673 [main] [] DEBUG c.cherenkov.lab_2.Lab2ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07 19:19:33.673 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-05-07 19:19:34.237 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:19:34.238 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07 19:19:34.256 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07 19:19:34.259 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:19:34.259 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07 19:19:34.262 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07 19:19:34.274 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:19:34.274 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07 19:19:34.276 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07 19:19:34.287 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:19:34.288 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07 19:19:34.290 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07 19:19:34.292 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:19:34.292 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07 19:19:34.294 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07 19:19:34.301 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:19:34.301 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07 19:19:34.303 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 R2DBC repository interfaces.
2025-05-07 19:19:34.310 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:19:34.310 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07 19:19:34.316 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07 19:19:34.633 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-05-07 19:19:34.640 [main] [] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-07 19:19:34.640 [main] [] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07 19:19:34.661 [main] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-07 19:19:34.661 [main] [] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 967 ms
2025-05-07 19:19:34.691 [main] [] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-05-07 19:19:34.692 [main] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-05-07 19:19:35.098 [main] [] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 147550597 created for server address localhost:7687
2025-05-07 19:19:35.175 [main] [] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7a34c1f6, com.mongodb.Jep395RecordCodecProvider@6e9f8160, com.mongodb.KotlinCodecProvider@3e998033]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-05-07 19:19:35.184 [cluster-ClusterId{value='681b88177e442d09e934d9b4', description='null'}-localhost:27017] [] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=9593041, minRoundTripTimeNanos=0}
2025-05-07 19:19:35.432 [main] [] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userService
2025-05-07 19:19:35.976 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-05-07 19:19:35.983 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Started Lab2ApplicationKt in 2.537 seconds (process running for 2.815)
2025-05-07 19:20:19.655 [http-nio-8082-exec-2] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 19:20:19.655 [http-nio-8082-exec-2] [] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-07 19:20:19.657 [http-nio-8082-exec-2] [] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-07 19:20:19.660 [http-nio-8082-exec-2] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 06f81349-d945-48bc-9b73-605889b87d90: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:20:19.663 [http-nio-8082-exec-2] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:20:19.675 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:20:19.675 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:20:19.675 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:20:19.732 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] Извлечен username из токена: test
2025-05-07 19:20:19.732 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] Создание UserDetails для пользователя: test
2025-05-07 19:20:19.736 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] JWT токен действителен, создание аутентификации
2025-05-07 19:20:19.736 [http-nio-8082-exec-2] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:20:19.736 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [cc7458a1] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:20:19.802 [http-nio-8082-exec-2] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=1, semester=1, studyYear=2023
2025-05-07 19:20:19.802 [http-nio-8082-exec-2] [] INFO  c.c.lab_2.service.ReportService - [0379ca7a] Запрос на генерацию отчета: courseId=1, semester=1, studyYear=2023
2025-05-07 19:20:19.802 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Запрос курса из базы данных: courseId=1
2025-05-07 19:20:19.973 [http-nio-8082-exec-2] [] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-05-07 19:20:19.973 [http-nio-8082-exec-2] [] INFO  org.jooq.Constants - 

jOOQ tip of the day: A Condition can be turned into a Field<Boolean> using DSL.field(Condition) for use in SELECT, GROUP BY, ORDER BY, etc.: https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/boolean-column/ (though it might not be necessary: https://blog.jooq.org/a-condition-is-a-field/)

2025-05-07 19:20:19.993 [http-nio-8082-exec-2] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-07 19:20:20.087 [http-nio-8082-exec-2] [] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2f6c7574
2025-05-07 19:20:20.088 [http-nio-8082-exec-2] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-07 19:20:20.092 [http-nio-8082-exec-2] [] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-05-07 19:20:20.125 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Курс загружен: id=1, name='Компьютерная графика', departmentId=1
2025-05-07 19:20:20.125 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Запрос лекций из базы данных: courseId=1
2025-05-07 19:20:20.137 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Загружено 2 лекций для курса 'Компьютерная графика'
2025-05-07 19:20:20.137 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:20:20.144 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:20:20.659 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:20:20.660 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:20:20.660 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Запрос информации об университете из MongoDB: departmentId=1
2025-05-07 19:20:20.662 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [0379ca7a] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 1}, Fields: {}, Sort: {}
2025-05-07 19:20:20.722 [http-nio-8082-exec-2] [] ERROR c.c.lab_2.service.ReportService - [0379ca7a] Необработанная ошибка при получении информации об университете: Failed to instantiate com.cherenkov.lab_2.entity.Institute using constructor fun `<init>`(kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Department>): com.cherenkov.lab_2.entity.Institute with arguments null,Институт информационных технологий,[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]
org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.cherenkov.lab_2.entity.Institute using constructor fun `<init>`(kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Department>): com.cherenkov.lab_2.entity.Institute with arguments null,Институт информационных технологий,[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:278)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:98)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:570)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:522)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2420)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2232)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readCollectionOrArray(MappingMongoConverter.java:1505)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2397)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2232)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1998)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:2057)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:2016)
	at org.springframework.data.mapping.model.PersistentEntityParameterValueProvider.getParameterValue(PersistentEntityParameterValueProvider.java:72)
	at org.springframework.data.mapping.model.ValueExpressionParameterValueProvider.getParameterValue(ValueExpressionParameterValueProvider.java:56)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.extractInvocationArguments(ClassGeneratingEntityInstantiator.java:301)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:273)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:98)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:570)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:522)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:454)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:126)
	at org.springframework.data.mongodb.core.MongoTemplate$ReadDocumentCallback.doWith(MongoTemplate.java:3302)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2893)
	at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:2546)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:819)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:806)
	at com.cherenkov.lab_2.service.ReportService.getUniversityByDepartmentId(ReportService.kt:348)
	at com.cherenkov.lab_2.service.ReportService.generateReport(ReportService.kt:83)
	at com.cherenkov.lab_2.controllers.ReportController.getReport(ReportController.kt:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)
	at org.springframework.web.method.support.InvocableHandlerMethod$KotlinDelegate.invokeFunction(InvocableHandlerMethod.java:335)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.cherenkov.lab_2.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.kt:121)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cherenkov.lab_2.configs.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.kt:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Parameter id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:181)
	at com.cherenkov.lab_2.entity.Institute_Instantiator_f03eyz.newInstance(Unknown Source)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:276)
	... 136 common frames omitted
2025-05-07 19:20:20.805 [http-nio-8082-exec-2] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@2fc24672} - {400} ({1143} мс)
2025-05-07 19:20:20.805 [http-nio-8082-exec-2] [] WARN  c.c.l.configs.RequestLoggingFilter - Ответ с ошибкой {400}: {{"error":"ÐÑÐ¸Ð±ÐºÐ° Ð² Ð·Ð°Ð¿ÑÐ¾ÑÐµ","message":"Parameter id must not be null"}}
2025-05-07 19:23:05.326 [http-nio-8082-exec-1] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 0e7ecb40-6169-465f-9eb4-458f0087b049: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:23:05.328 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:23:05.329 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [18edd846] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:23:05.330 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [18edd846] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:23:05.330 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [18edd846] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:23:05.332 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [18edd846] Извлечен username из токена: test
2025-05-07 19:23:05.332 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [18edd846] Создание UserDetails для пользователя: test
2025-05-07 19:23:05.333 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [18edd846] JWT токен действителен, создание аутентификации
2025-05-07 19:23:05.333 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [18edd846] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:23:05.333 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [18edd846] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:23:05.338 [http-nio-8082-exec-1] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=23, semester=1, studyYear=2023
2025-05-07 19:23:05.338 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.service.ReportService - [a6a0a048] Запрос на генерацию отчета: courseId=23, semester=1, studyYear=2023
2025-05-07 19:23:05.338 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Запрос курса из базы данных: courseId=23
2025-05-07 19:23:05.347 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Курс загружен: id=23, name='Машинное обучение', departmentId=5
2025-05-07 19:23:05.348 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Запрос лекций из базы данных: courseId=23
2025-05-07 19:23:05.358 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Загружено 2 лекций для курса 'Машинное обучение'
2025-05-07 19:23:05.358 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:23:05.358 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:23:05.478 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:23:05.478 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:23:05.478 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Запрос информации об университете из MongoDB: departmentId=5
2025-05-07 19:23:05.478 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [a6a0a048] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 5}, Fields: {}, Sort: {}
2025-05-07 19:23:05.483 [http-nio-8082-exec-1] [] ERROR c.c.lab_2.service.ReportService - [a6a0a048] Необработанная ошибка при получении информации об университете: Failed to instantiate com.cherenkov.lab_2.entity.Institute using constructor fun `<init>`(kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Department>): com.cherenkov.lab_2.entity.Institute with arguments null,Институт информационных технологий,[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]
org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.cherenkov.lab_2.entity.Institute using constructor fun `<init>`(kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Department>): com.cherenkov.lab_2.entity.Institute with arguments null,Институт информационных технологий,[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:278)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:98)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:570)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:522)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2420)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2232)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readCollectionOrArray(MappingMongoConverter.java:1505)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2397)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2232)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1998)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:2057)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:2016)
	at org.springframework.data.mapping.model.PersistentEntityParameterValueProvider.getParameterValue(PersistentEntityParameterValueProvider.java:72)
	at org.springframework.data.mapping.model.ValueExpressionParameterValueProvider.getParameterValue(ValueExpressionParameterValueProvider.java:56)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.extractInvocationArguments(ClassGeneratingEntityInstantiator.java:301)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:273)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:98)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:570)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:522)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:454)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:126)
	at org.springframework.data.mongodb.core.MongoTemplate$ReadDocumentCallback.doWith(MongoTemplate.java:3302)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2893)
	at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:2546)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:819)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:806)
	at com.cherenkov.lab_2.service.ReportService.getUniversityByDepartmentId(ReportService.kt:348)
	at com.cherenkov.lab_2.service.ReportService.generateReport(ReportService.kt:83)
	at com.cherenkov.lab_2.controllers.ReportController.getReport(ReportController.kt:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)
	at org.springframework.web.method.support.InvocableHandlerMethod$KotlinDelegate.invokeFunction(InvocableHandlerMethod.java:335)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.cherenkov.lab_2.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.kt:121)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cherenkov.lab_2.configs.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.kt:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Parameter id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:181)
	at com.cherenkov.lab_2.entity.Institute_Instantiator_f03eyz.newInstance(Unknown Source)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:276)
	... 136 common frames omitted
2025-05-07 19:23:05.493 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@50417a1d} - {400} ({165} мс)
2025-05-07 19:23:05.493 [http-nio-8082-exec-1] [] WARN  c.c.l.configs.RequestLoggingFilter - Ответ с ошибкой {400}: {{"error":"ÐÑÐ¸Ð±ÐºÐ° Ð² Ð·Ð°Ð¿ÑÐ¾ÑÐµ","message":"Parameter id must not be null"}}
2025-05-07 19:23:09.594 [http-nio-8082-exec-3] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса f6740ff3-96d3-4e3b-8fb4-13ac12698b0f: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:23:09.594 [http-nio-8082-exec-3] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:23:09.594 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [30efbced] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:23:09.595 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [30efbced] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:23:09.595 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [30efbced] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:23:09.596 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [30efbced] Извлечен username из токена: test
2025-05-07 19:23:09.596 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [30efbced] Создание UserDetails для пользователя: test
2025-05-07 19:23:09.597 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [30efbced] JWT токен действителен, создание аутентификации
2025-05-07 19:23:09.597 [http-nio-8082-exec-3] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [30efbced] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:23:09.597 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [30efbced] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:23:09.598 [http-nio-8082-exec-3] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=23, semester=1, studyYear=2023
2025-05-07 19:23:09.598 [http-nio-8082-exec-3] [] INFO  c.c.lab_2.service.ReportService - [1b4c5829] Запрос на генерацию отчета: courseId=23, semester=1, studyYear=2023
2025-05-07 19:23:09.598 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Запрос курса из базы данных: courseId=23
2025-05-07 19:23:09.602 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Курс загружен: id=23, name='Машинное обучение', departmentId=5
2025-05-07 19:23:09.602 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Запрос лекций из базы данных: courseId=23
2025-05-07 19:23:09.604 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Загружено 2 лекций для курса 'Машинное обучение'
2025-05-07 19:23:09.604 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:23:09.604 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:23:09.678 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:23:09.678 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:23:09.678 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Запрос информации об университете из MongoDB: departmentId=5
2025-05-07 19:23:09.678 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [1b4c5829] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 5}, Fields: {}, Sort: {}
2025-05-07 19:23:09.681 [http-nio-8082-exec-3] [] ERROR c.c.lab_2.service.ReportService - [1b4c5829] Необработанная ошибка при получении информации об университете: Failed to instantiate com.cherenkov.lab_2.entity.Institute using constructor fun `<init>`(kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Department>): com.cherenkov.lab_2.entity.Institute with arguments null,Институт информационных технологий,[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]
org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.cherenkov.lab_2.entity.Institute using constructor fun `<init>`(kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Department>): com.cherenkov.lab_2.entity.Institute with arguments null,Институт информационных технологий,[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:278)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:98)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:570)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:522)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2420)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2232)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readCollectionOrArray(MappingMongoConverter.java:1505)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2397)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2232)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1998)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:2057)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:2016)
	at org.springframework.data.mapping.model.PersistentEntityParameterValueProvider.getParameterValue(PersistentEntityParameterValueProvider.java:72)
	at org.springframework.data.mapping.model.ValueExpressionParameterValueProvider.getParameterValue(ValueExpressionParameterValueProvider.java:56)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.extractInvocationArguments(ClassGeneratingEntityInstantiator.java:301)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:273)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:98)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:570)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:522)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:454)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:126)
	at org.springframework.data.mongodb.core.MongoTemplate$ReadDocumentCallback.doWith(MongoTemplate.java:3302)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2893)
	at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:2546)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:819)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:806)
	at com.cherenkov.lab_2.service.ReportService.getUniversityByDepartmentId(ReportService.kt:348)
	at com.cherenkov.lab_2.service.ReportService.generateReport(ReportService.kt:83)
	at com.cherenkov.lab_2.controllers.ReportController.getReport(ReportController.kt:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)
	at org.springframework.web.method.support.InvocableHandlerMethod$KotlinDelegate.invokeFunction(InvocableHandlerMethod.java:335)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.cherenkov.lab_2.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.kt:121)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cherenkov.lab_2.configs.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.kt:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Parameter id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:181)
	at com.cherenkov.lab_2.entity.Institute_Instantiator_f03eyz.newInstance(Unknown Source)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:276)
	... 136 common frames omitted
2025-05-07 19:23:09.683 [http-nio-8082-exec-3] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@29bbf226} - {400} ({89} мс)
2025-05-07 19:23:09.683 [http-nio-8082-exec-3] [] WARN  c.c.l.configs.RequestLoggingFilter - Ответ с ошибкой {400}: {{"error":"ÐÑÐ¸Ð±ÐºÐ° Ð² Ð·Ð°Ð¿ÑÐ¾ÑÐµ","message":"Parameter id must not be null"}}
2025-05-07 19:23:16.311 [SpringApplicationShutdownHook] [] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07 19:23:16.313 [tomcat-shutdown] [] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-07 19:23:16.446 [SpringApplicationShutdownHook] [] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 147550597
2025-05-07 19:23:16.662 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-07 19:23:16.664 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-07 19:23:29.583 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 4647 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07 19:23:29.584 [main] [] DEBUG c.cherenkov.lab_2.Lab2ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07 19:23:29.584 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-05-07 19:23:30.086 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:23:30.087 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07 19:23:30.122 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07 19:23:30.126 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:23:30.126 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07 19:23:30.129 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07 19:23:30.144 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:23:30.144 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07 19:23:30.146 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07 19:23:30.160 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:23:30.160 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07 19:23:30.163 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07 19:23:30.166 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:23:30.166 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07 19:23:30.168 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07 19:23:30.181 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:23:30.182 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07 19:23:30.184 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 R2DBC repository interfaces.
2025-05-07 19:23:30.191 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:23:30.192 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07 19:23:30.198 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07 19:23:30.586 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-05-07 19:23:30.593 [main] [] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-07 19:23:30.593 [main] [] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07 19:23:30.614 [main] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-07 19:23:30.614 [main] [] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1008 ms
2025-05-07 19:23:30.646 [main] [] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-05-07 19:23:30.646 [main] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-05-07 19:23:31.049 [main] [] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1595979518 created for server address localhost:7687
2025-05-07 19:23:31.128 [main] [] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1c62d2ad, com.mongodb.Jep395RecordCodecProvider@651caa2e, com.mongodb.KotlinCodecProvider@433ae0b0]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-05-07 19:23:31.138 [cluster-ClusterId{value='681b8903ebbeda49b7c3b5ea', description='null'}-localhost:27017] [] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=11943041, minRoundTripTimeNanos=0}
2025-05-07 19:23:31.417 [main] [] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userService
2025-05-07 19:23:31.983 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-05-07 19:23:31.989 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Started Lab2ApplicationKt in 2.623 seconds (process running for 2.902)
2025-05-07 19:23:56.736 [http-nio-8082-exec-1] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 19:23:56.736 [http-nio-8082-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-07 19:23:56.737 [http-nio-8082-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-07 19:23:56.740 [http-nio-8082-exec-1] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса e240d1f3-7e29-40c3-8317-e4f634045228: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:23:56.744 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:23:56.754 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:23:56.755 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:23:56.755 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:23:56.812 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] Извлечен username из токена: test
2025-05-07 19:23:56.812 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] Создание UserDetails для пользователя: test
2025-05-07 19:23:56.816 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] JWT токен действителен, создание аутентификации
2025-05-07 19:23:56.816 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:23:56.817 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [dfd8b24c] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:23:56.881 [http-nio-8082-exec-1] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=23, semester=1, studyYear=2023
2025-05-07 19:23:56.882 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.service.ReportService - [eee8b780] Запрос на генерацию отчета: courseId=23, semester=1, studyYear=2023
2025-05-07 19:23:56.882 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Запрос курса из базы данных: courseId=23
2025-05-07 19:23:57.058 [http-nio-8082-exec-1] [] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-05-07 19:23:57.058 [http-nio-8082-exec-1] [] INFO  org.jooq.Constants - 

jOOQ tip of the day: If you must be using OFFSET pagination (you probably shouldn't!), then do it right, and without extra round trips: https://blog.jooq.org/calculating-pagination-metadata-without-extra-roundtrips-in-sql/

2025-05-07 19:23:57.079 [http-nio-8082-exec-1] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-07 19:23:57.179 [http-nio-8082-exec-1] [] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@164d6a39
2025-05-07 19:23:57.180 [http-nio-8082-exec-1] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-07 19:23:57.185 [http-nio-8082-exec-1] [] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-05-07 19:23:57.215 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Курс загружен: id=23, name='Машинное обучение', departmentId=5
2025-05-07 19:23:57.215 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Запрос лекций из базы данных: courseId=23
2025-05-07 19:23:57.224 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Загружено 2 лекций для курса 'Машинное обучение'
2025-05-07 19:23:57.224 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:23:57.230 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:23:57.390 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:23:57.391 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:23:57.392 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Запрос информации об университете из MongoDB: departmentId=5
2025-05-07 19:23:57.394 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [eee8b780] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 5}, Fields: {}, Sort: {}
2025-05-07 19:23:57.453 [http-nio-8082-exec-1] [] ERROR c.c.lab_2.service.ReportService - [eee8b780] Необработанная ошибка при получении информации об университете: Failed to instantiate com.cherenkov.lab_2.entity.UniversityDocument using constructor fun `<init>`(kotlin.String, kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Institute>): com.cherenkov.lab_2.entity.UniversityDocument with arguments 681b645dbe9614141fde3b0a,null,РТУ МИРЭА,[Institute(id=null, name=Институт информационных технологий, departments=[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]), Institute(id=null, name=Институт кибербезопасности, departments=[Department(departmentId=6, name=Кафедра информатики), Department(departmentId=7, name=Кафедра кибербезопасности), Department(departmentId=8, name=Кафедра прикладной математики), Department(departmentId=9, name=Кафедра системного анализа), Department(departmentId=10, name=Кафедра программной инженерии)]), Institute(id=null, name=Институт экономики и управления, departments=[Department(departmentId=11, name=Кафедра информатики), Department(departmentId=12, name=Кафедра кибербезопасности), Department(departmentId=13, name=Кафедра прикладной математики), Department(departmentId=14, name=Кафедра системного анализа), Department(departmentId=15, name=Кафедра программной инженерии)]), Institute(id=null, name=Институт тонких химических технологий, departments=[Department(departmentId=16, name=Кафедра информатики), Department(departmentId=17, name=Кафедра кибербезопасности), Department(departmentId=18, name=Кафедра прикладной математики), Department(departmentId=19, name=Кафедра системного анализа), Department(departmentId=20, name=Кафедра программной инженерии)])]
org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.cherenkov.lab_2.entity.UniversityDocument using constructor fun `<init>`(kotlin.String, kotlin.Int, kotlin.String, kotlin.collections.List<com.cherenkov.lab_2.entity.Institute>): com.cherenkov.lab_2.entity.UniversityDocument with arguments 681b645dbe9614141fde3b0a,null,РТУ МИРЭА,[Institute(id=null, name=Институт информационных технологий, departments=[Department(departmentId=1, name=Кафедра информатики), Department(departmentId=2, name=Кафедра кибербезопасности), Department(departmentId=3, name=Кафедра прикладной математики), Department(departmentId=4, name=Кафедра системного анализа), Department(departmentId=5, name=Кафедра программной инженерии)]), Institute(id=null, name=Институт кибербезопасности, departments=[Department(departmentId=6, name=Кафедра информатики), Department(departmentId=7, name=Кафедра кибербезопасности), Department(departmentId=8, name=Кафедра прикладной математики), Department(departmentId=9, name=Кафедра системного анализа), Department(departmentId=10, name=Кафедра программной инженерии)]), Institute(id=null, name=Институт экономики и управления, departments=[Department(departmentId=11, name=Кафедра информатики), Department(departmentId=12, name=Кафедра кибербезопасности), Department(departmentId=13, name=Кафедра прикладной математики), Department(departmentId=14, name=Кафедра системного анализа), Department(departmentId=15, name=Кафедра программной инженерии)]), Institute(id=null, name=Институт тонких химических технологий, departments=[Department(departmentId=16, name=Кафедра информатики), Department(departmentId=17, name=Кафедра кибербезопасности), Department(departmentId=18, name=Кафедра прикладной математики), Department(departmentId=19, name=Кафедра системного анализа), Department(departmentId=20, name=Кафедра программной инженерии)])]
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:278)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:98)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:570)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:522)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:454)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:126)
	at org.springframework.data.mongodb.core.MongoTemplate$ReadDocumentCallback.doWith(MongoTemplate.java:3302)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2893)
	at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:2546)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:819)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:806)
	at com.cherenkov.lab_2.service.ReportService.getUniversityByDepartmentId(ReportService.kt:348)
	at com.cherenkov.lab_2.service.ReportService.generateReport(ReportService.kt:83)
	at com.cherenkov.lab_2.controllers.ReportController.getReport(ReportController.kt:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)
	at org.springframework.web.method.support.InvocableHandlerMethod$KotlinDelegate.invokeFunction(InvocableHandlerMethod.java:335)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.cherenkov.lab_2.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.kt:121)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cherenkov.lab_2.configs.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.kt:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Parameter universityId must not be null
	at org.springframework.util.Assert.notNull(Assert.java:181)
	at com.cherenkov.lab_2.entity.UniversityDocument_Instantiator_fohafx.newInstance(Unknown Source)
	at org.springframework.data.mapping.model.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:276)
	... 121 common frames omitted
2025-05-07 19:23:57.531 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@4201e2b4} - {400} ({790} мс)
2025-05-07 19:23:57.532 [http-nio-8082-exec-1] [] WARN  c.c.l.configs.RequestLoggingFilter - Ответ с ошибкой {400}: {{"error":"ÐÑÐ¸Ð±ÐºÐ° Ð² Ð·Ð°Ð¿ÑÐ¾ÑÐµ","message":"Parameter universityId must not be null"}}
2025-05-07 19:25:34.415 [SpringApplicationShutdownHook] [] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07 19:25:34.424 [tomcat-shutdown] [] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-07 19:25:34.571 [SpringApplicationShutdownHook] [] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1595979518
2025-05-07 19:25:34.786 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-07 19:25:34.788 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-07 19:31:29.973 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Starting Lab2ApplicationKt using Java 20.0.2.1 with PID 4870 (/Users/nikitacerenkov/Documents/GitHub/labs/lab_2/build/classes/kotlin/main started by nikitacerenkov in /Users/nikitacerenkov/Documents/GitHub/labs)
2025-05-07 19:31:29.973 [main] [] DEBUG c.cherenkov.lab_2.Lab2ApplicationKt - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-07 19:31:29.974 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - No active profile set, falling back to 1 default profile: "default"
2025-05-07 19:31:30.699 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:31:30.700 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-05-07 19:31:30.718 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Elasticsearch repository interfaces.
2025-05-07 19:31:30.722 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:31:30.722 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-05-07 19:31:30.725 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-05-07 19:31:30.742 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:31:30.742 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-05-07 19:31:30.745 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-05-07 19:31:30.759 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:31:30.760 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07 19:31:30.763 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07 19:31:30.766 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:31:30.766 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-05-07 19:31:30.768 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Neo4j repository interfaces.
2025-05-07 19:31:30.776 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:31:30.776 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2025-05-07 19:31:30.779 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 R2DBC repository interfaces.
2025-05-07 19:31:30.786 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-07 19:31:30.787 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-07 19:31:30.794 [main] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-07 19:31:31.164 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-05-07 19:31:31.173 [main] [] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-07 19:31:31.173 [main] [] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-07 19:31:31.201 [main] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-07 19:31:31.201 [main] [] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1207 ms
2025-05-07 19:31:31.239 [main] [] DEBUG c.c.l.configs.RequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-05-07 19:31:31.240 [main] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-05-07 19:31:31.718 [main] [] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 566447096 created for server address localhost:7687
2025-05-07 19:31:31.810 [main] [] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "15.3.2"}, "platform": "Java/Amazon.com Inc./20.0.2.1+10-FR"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@68f69ca3, com.mongodb.Jep395RecordCodecProvider@1e3566e, com.mongodb.KotlinCodecProvider@2b058bfd]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-05-07 19:31:31.825 [cluster-ClusterId{value='681b8ae34ae5d17aef18e522', description='null'}-localhost:27017] [] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=16982625, minRoundTripTimeNanos=0}
2025-05-07 19:31:32.120 [main] [] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userService
2025-05-07 19:31:32.772 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-05-07 19:31:32.780 [main] [] INFO  c.cherenkov.lab_2.Lab2ApplicationKt - Started Lab2ApplicationKt in 3.006 seconds (process running for 3.301)
2025-05-07 19:32:22.892 [http-nio-8082-exec-1] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 19:32:22.892 [http-nio-8082-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-07 19:32:22.895 [http-nio-8082-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-05-07 19:32:22.899 [http-nio-8082-exec-1] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 0bc0b5d5-81d7-4101-ba91-1ad963c6647c: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:32:22.904 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:32:22.916 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [545cd91f] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:32:22.917 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [545cd91f] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:32:22.917 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [545cd91f] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:32:22.994 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [545cd91f] Извлечен username из токена: test
2025-05-07 19:32:22.995 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [545cd91f] Создание UserDetails для пользователя: test
2025-05-07 19:32:22.998 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [545cd91f] JWT токен действителен, создание аутентификации
2025-05-07 19:32:22.998 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [545cd91f] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:32:22.998 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [545cd91f] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:32:23.080 [http-nio-8082-exec-1] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=23, semester=1, studyYear=2023
2025-05-07 19:32:23.080 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.service.ReportService - [fb17c78b] Запрос на генерацию отчета: courseId=23, semester=1, studyYear=2023
2025-05-07 19:32:23.080 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Запрос курса из базы данных: courseId=23
2025-05-07 19:32:23.254 [http-nio-8082-exec-1] [] INFO  org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.19.21 (Build date: 2025-03-11T08:47:49Z)
                                      
2025-05-07 19:32:23.254 [http-nio-8082-exec-1] [] INFO  org.jooq.Constants - 

jOOQ tip of the day: jOOQ works even better in kotlin! https://blog.jooq.org/10-nice-examples-of-writing-sql-in-kotlin-with-jooq/

2025-05-07 19:32:23.274 [http-nio-8082-exec-1] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-07 19:32:23.372 [http-nio-8082-exec-1] [] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3384be96
2025-05-07 19:32:23.373 [http-nio-8082-exec-1] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-07 19:32:23.378 [http-nio-8082-exec-1] [] INFO  o.j.i.D.logVersionSupport - Version                  : Database version is supported by dialect POSTGRES: 17.4 (Debian 17.4-1.pgdg120+2)
2025-05-07 19:32:23.410 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Курс загружен: id=23, name='Программирование на Python', departmentId=5
2025-05-07 19:32:23.410 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Запрос лекций из базы данных: courseId=23
2025-05-07 19:32:23.417 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Загружено 2 лекций для курса 'Программирование на Python'
2025-05-07 19:32:23.417 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:32:23.424 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:32:23.977 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:32:23.978 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:32:23.978 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Запрос информации об университете из MongoDB: departmentId=5
2025-05-07 19:32:23.981 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 5}, Fields: {}, Sort: {}
2025-05-07 19:32:24.034 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:32:24.034 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:32:24.034 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Определен институт='Институт информационных технологий', кафедра='Кафедра программной инженерии'
2025-05-07 19:32:24.034 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Отфильтровано 2 лекций для отчета
2025-05-07 19:32:24.034 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Обработка лекции id=45 name='Kubernetes и оркестрация контейнеров (Программирование на Python)'
2025-05-07 19:32:24.034 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Запрос количества студентов из Neo4j: lectureId=45, semester=1, studyYear=2023
2025-05-07 19:32:24.034 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 45}
2025-05-07 19:32:24.201 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Получено количество студентов для лекции 45: 150
2025-05-07 19:32:24.202 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Лекция id=45 имеет studentCount=150
2025-05-07 19:32:24.202 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Обработка лекции id=46 name='Введение и основные концепции (Программирование на Python)'
2025-05-07 19:32:24.202 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Запрос количества студентов из Neo4j: lectureId=46, semester=1, studyYear=2023
2025-05-07 19:32:24.202 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 46}
2025-05-07 19:32:24.206 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Получено количество студентов для лекции 46: 150
2025-05-07 19:32:24.207 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [fb17c78b] Лекция id=46 имеет studentCount=150
2025-05-07 19:32:24.207 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.service.ReportService - [fb17c78b] Отчет успешно сформирован: 2 записей
2025-05-07 19:32:24.207 [http-nio-8082-exec-1] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:32:24.228 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@48aae926} - {200} ({1326} мс)
2025-05-07 19:33:03.850 [http-nio-8082-exec-2] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса c8e2476f-f6bc-4434-8a36-9a4f8362d47a: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:33:03.851 [http-nio-8082-exec-2] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:33:03.851 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [7a336774] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:33:03.851 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [7a336774] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:33:03.851 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [7a336774] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:33:03.852 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [7a336774] Извлечен username из токена: test
2025-05-07 19:33:03.852 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [7a336774] Создание UserDetails для пользователя: test
2025-05-07 19:33:03.853 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [7a336774] JWT токен действителен, создание аутентификации
2025-05-07 19:33:03.853 [http-nio-8082-exec-2] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [7a336774] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:33:03.853 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [7a336774] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:33:03.854 [http-nio-8082-exec-2] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=14656, semester=1, studyYear=2023
2025-05-07 19:33:03.855 [http-nio-8082-exec-2] [] INFO  c.c.lab_2.service.ReportService - [329d6329] Запрос на генерацию отчета: courseId=14656, semester=1, studyYear=2023
2025-05-07 19:33:03.855 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [329d6329] Запрос курса из базы данных: courseId=14656
2025-05-07 19:33:03.868 [http-nio-8082-exec-2] [] ERROR c.c.l.e.GlobalExceptionHandler - Произошла ошибка приложения: Ресурс типа 'Course' с идентификатором '14656' не найден (RESOURCE_NOT_FOUND)
com.cherenkov.lab_2.exceptions.ResourceNotFoundException: Ресурс типа 'Course' с идентификатором '14656' не найден
	at com.cherenkov.lab_2.service.ReportService.generateReport(ReportService.kt:49)
	at com.cherenkov.lab_2.controllers.ReportController.getReport(ReportController.kt:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:207)
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)
	at org.springframework.web.method.support.InvocableHandlerMethod$KotlinDelegate.invokeFunction(InvocableHandlerMethod.java:335)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.cherenkov.lab_2.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.kt:121)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cherenkov.lab_2.configs.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.kt:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-05-07 19:33:03.884 [http-nio-8082-exec-2] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@1521ec87} - {404} ({33} мс)
2025-05-07 19:33:03.885 [http-nio-8082-exec-2] [] WARN  c.c.l.configs.RequestLoggingFilter - Ответ с ошибкой {404}: {{
  "timestamp" : "2025-05-07T19:33:03.8734",
  "status" : 404,
  "error" : "Not Found",
  "code" : "RESOURCE_NOT_FOUND",
  "message" : "Ð ÐµÑÑÑÑ ÑÐ¸Ð¿Ð° 'Course' Ñ Ð¸Ð´ÐµÐ½ÑÐ¸ÑÐ¸ÐºÐ°ÑÐ¾ÑÐ¾Ð¼ '14656' Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½",
  "path" : "/reports/course",
  "details" : {
    "requestId" : "329d6329",
    "courseId" : 14656
  }
}}
2025-05-07 19:33:10.238 [http-nio-8082-exec-3] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 5b7dd03c-4650-457b-b0b9-7e74abd83cad: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:33:10.238 [http-nio-8082-exec-3] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:33:10.239 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:33:10.239 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:33:10.239 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:33:10.239 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] Извлечен username из токена: test
2025-05-07 19:33:10.239 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] Создание UserDetails для пользователя: test
2025-05-07 19:33:10.240 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] JWT токен действителен, создание аутентификации
2025-05-07 19:33:10.240 [http-nio-8082-exec-3] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:33:10.240 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [de9b0a61] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:33:10.241 [http-nio-8082-exec-3] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=14, semester=1, studyYear=2023
2025-05-07 19:33:10.241 [http-nio-8082-exec-3] [] INFO  c.c.lab_2.service.ReportService - [b11873fc] Запрос на генерацию отчета: courseId=14, semester=1, studyYear=2023
2025-05-07 19:33:10.241 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Запрос курса из базы данных: courseId=14
2025-05-07 19:33:10.244 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Курс загружен: id=14, name='Компьютерное зрение', departmentId=3
2025-05-07 19:33:10.244 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Запрос лекций из базы данных: courseId=14
2025-05-07 19:33:10.246 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Загружено 2 лекций для курса 'Компьютерное зрение'
2025-05-07 19:33:10.246 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:33:10.246 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:33:10.362 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:33:10.363 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:33:10.363 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Запрос информации об университете из MongoDB: departmentId=3
2025-05-07 19:33:10.363 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 3}, Fields: {}, Sort: {}
2025-05-07 19:33:10.365 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:33:10.365 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:33:10.366 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Определен институт='Институт информационных технологий', кафедра='Кафедра прикладной математики'
2025-05-07 19:33:10.366 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Отфильтровано 2 лекций для отчета
2025-05-07 19:33:10.366 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Обработка лекции id=27 name='Оптимизация производительности (Компьютерное зрение)'
2025-05-07 19:33:10.366 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Запрос количества студентов из Neo4j: lectureId=27, semester=1, studyYear=2023
2025-05-07 19:33:10.366 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 27}
2025-05-07 19:33:10.370 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Получено количество студентов для лекции 27: 150
2025-05-07 19:33:10.371 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Лекция id=27 имеет studentCount=150
2025-05-07 19:33:10.371 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Обработка лекции id=28 name='Kubernetes и оркестрация контейнеров (Компьютерное зрение)'
2025-05-07 19:33:10.371 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Запрос количества студентов из Neo4j: lectureId=28, semester=1, studyYear=2023
2025-05-07 19:33:10.371 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 28}
2025-05-07 19:33:10.374 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Получено количество студентов для лекции 28: 150
2025-05-07 19:33:10.375 [http-nio-8082-exec-3] [] DEBUG c.c.lab_2.service.ReportService - [b11873fc] Лекция id=28 имеет studentCount=150
2025-05-07 19:33:10.375 [http-nio-8082-exec-3] [] INFO  c.c.lab_2.service.ReportService - [b11873fc] Отчет успешно сформирован: 2 записей
2025-05-07 19:33:10.375 [http-nio-8082-exec-3] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:33:10.376 [http-nio-8082-exec-3] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@812ab16} - {200} ({138} мс)
2025-05-07 19:33:15.557 [http-nio-8082-exec-4] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 8ea14347-88fa-456e-8cc7-2266604ee7ce: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:33:15.558 [http-nio-8082-exec-4] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:33:15.558 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:33:15.558 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:33:15.558 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:33:15.560 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] Извлечен username из токена: test
2025-05-07 19:33:15.561 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] Создание UserDetails для пользователя: test
2025-05-07 19:33:15.562 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] JWT токен действителен, создание аутентификации
2025-05-07 19:33:15.562 [http-nio-8082-exec-4] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:33:15.562 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f0f114b0] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:33:15.564 [http-nio-8082-exec-4] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=1, semester=1, studyYear=2023
2025-05-07 19:33:15.565 [http-nio-8082-exec-4] [] INFO  c.c.lab_2.service.ReportService - [6ab5b8ed] Запрос на генерацию отчета: courseId=1, semester=1, studyYear=2023
2025-05-07 19:33:15.565 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Запрос курса из базы данных: courseId=1
2025-05-07 19:33:15.569 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Курс загружен: id=1, name='Программирование на Python', departmentId=1
2025-05-07 19:33:15.569 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Запрос лекций из базы данных: courseId=1
2025-05-07 19:33:15.571 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Загружено 2 лекций для курса 'Программирование на Python'
2025-05-07 19:33:15.571 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:33:15.571 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:33:15.629 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:33:15.630 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:33:15.630 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Запрос информации об университете из MongoDB: departmentId=1
2025-05-07 19:33:15.630 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 1}, Fields: {}, Sort: {}
2025-05-07 19:33:15.637 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:33:15.637 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:33:15.637 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Определен институт='Институт информационных технологий', кафедра='Кафедра информатики'
2025-05-07 19:33:15.637 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Отфильтровано 2 лекций для отчета
2025-05-07 19:33:15.638 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Обработка лекции id=1 name='REST API и коммуникации (Программирование на Python)'
2025-05-07 19:33:15.638 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Запрос количества студентов из Neo4j: lectureId=1, semester=1, studyYear=2023
2025-05-07 19:33:15.638 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 1}
2025-05-07 19:33:15.643 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Получено количество студентов для лекции 1: 150
2025-05-07 19:33:15.643 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Лекция id=1 имеет studentCount=150
2025-05-07 19:33:15.643 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Обработка лекции id=2 name='Введение и основные концепции (Программирование на Python)'
2025-05-07 19:33:15.643 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Запрос количества студентов из Neo4j: lectureId=2, semester=1, studyYear=2023
2025-05-07 19:33:15.644 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 2}
2025-05-07 19:33:15.648 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Получено количество студентов для лекции 2: 150
2025-05-07 19:33:15.649 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.service.ReportService - [6ab5b8ed] Лекция id=2 имеет studentCount=150
2025-05-07 19:33:15.649 [http-nio-8082-exec-4] [] INFO  c.c.lab_2.service.ReportService - [6ab5b8ed] Отчет успешно сформирован: 2 записей
2025-05-07 19:33:15.649 [http-nio-8082-exec-4] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:33:15.651 [http-nio-8082-exec-4] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@56ed4ce4} - {200} ({93} мс)
2025-05-07 19:34:18.750 [http-nio-8082-exec-6] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса ee976db4-b214-448c-961d-503506e7a746: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:34:18.752 [http-nio-8082-exec-6] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:34:18.753 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:34:18.753 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:34:18.753 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:34:18.754 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] Извлечен username из токена: test
2025-05-07 19:34:18.755 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] Создание UserDetails для пользователя: test
2025-05-07 19:34:18.755 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] JWT токен действителен, создание аутентификации
2025-05-07 19:34:18.755 [http-nio-8082-exec-6] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:34:18.755 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38dbfcba] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:34:18.758 [http-nio-8082-exec-6] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=1, semester=1, studyYear=2022
2025-05-07 19:34:18.758 [http-nio-8082-exec-6] [] INFO  c.c.lab_2.service.ReportService - [7c9c75e3] Запрос на генерацию отчета: courseId=1, semester=1, studyYear=2022
2025-05-07 19:34:18.759 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Запрос курса из базы данных: courseId=1
2025-05-07 19:34:18.765 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Курс загружен: id=1, name='Программирование на Python', departmentId=1
2025-05-07 19:34:18.765 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Запрос лекций из базы данных: courseId=1
2025-05-07 19:34:18.767 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Загружено 2 лекций для курса 'Программирование на Python'
2025-05-07 19:34:18.767 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Запрос ID лекций из Neo4j: semester=1, studyYear=2022
2025-05-07 19:34:18.767 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2022, sem: 1}
2025-05-07 19:34:18.811 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Получены ID лекций из Neo4j: []
2025-05-07 19:34:18.812 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [7c9c75e3] Найдено 0 лекций, запланированных в семестре 1 года 2022
2025-05-07 19:34:18.812 [http-nio-8082-exec-6] [] WARN  c.c.lab_2.service.ReportService - [7c9c75e3] Не найдены запланированные лекции для семестра 1 года 2022
2025-05-07 19:34:18.812 [http-nio-8082-exec-6] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 0
2025-05-07 19:34:18.968 [http-nio-8082-exec-6] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@30cc7ea0} - {200} ({217} мс)
2025-05-07 19:34:22.249 [http-nio-8082-exec-7] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса ef0db742-4e27-4084-9eeb-708575defb82: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:34:22.249 [http-nio-8082-exec-7] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:34:22.250 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [adb3c413] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:34:22.250 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [adb3c413] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:34:22.250 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [adb3c413] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:34:22.251 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [adb3c413] Извлечен username из токена: test
2025-05-07 19:34:22.252 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [adb3c413] Создание UserDetails для пользователя: test
2025-05-07 19:34:22.253 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [adb3c413] JWT токен действителен, создание аутентификации
2025-05-07 19:34:22.253 [http-nio-8082-exec-7] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [adb3c413] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:34:22.253 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [adb3c413] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:34:22.255 [http-nio-8082-exec-7] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=1, semester=1, studyYear=2023
2025-05-07 19:34:22.255 [http-nio-8082-exec-7] [] INFO  c.c.lab_2.service.ReportService - [f1c109ea] Запрос на генерацию отчета: courseId=1, semester=1, studyYear=2023
2025-05-07 19:34:22.255 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Запрос курса из базы данных: courseId=1
2025-05-07 19:34:22.257 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Курс загружен: id=1, name='Программирование на Python', departmentId=1
2025-05-07 19:34:22.257 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Запрос лекций из базы данных: courseId=1
2025-05-07 19:34:22.258 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Загружено 2 лекций для курса 'Программирование на Python'
2025-05-07 19:34:22.258 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:34:22.259 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:34:22.312 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:34:22.315 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:34:22.316 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Запрос информации об университете из MongoDB: departmentId=1
2025-05-07 19:34:22.316 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 1}, Fields: {}, Sort: {}
2025-05-07 19:34:22.326 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:34:22.326 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:34:22.326 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Определен институт='Институт информационных технологий', кафедра='Кафедра информатики'
2025-05-07 19:34:22.326 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Отфильтровано 2 лекций для отчета
2025-05-07 19:34:22.326 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Обработка лекции id=1 name='REST API и коммуникации (Программирование на Python)'
2025-05-07 19:34:22.326 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Запрос количества студентов из Neo4j: lectureId=1, semester=1, studyYear=2023
2025-05-07 19:34:22.326 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 1}
2025-05-07 19:34:22.331 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Получено количество студентов для лекции 1: 150
2025-05-07 19:34:22.332 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Лекция id=1 имеет studentCount=150
2025-05-07 19:34:22.332 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Обработка лекции id=2 name='Введение и основные концепции (Программирование на Python)'
2025-05-07 19:34:22.332 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Запрос количества студентов из Neo4j: lectureId=2, semester=1, studyYear=2023
2025-05-07 19:34:22.332 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 2}
2025-05-07 19:34:22.335 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Получено количество студентов для лекции 2: 150
2025-05-07 19:34:22.336 [http-nio-8082-exec-7] [] DEBUG c.c.lab_2.service.ReportService - [f1c109ea] Лекция id=2 имеет studentCount=150
2025-05-07 19:34:22.336 [http-nio-8082-exec-7] [] INFO  c.c.lab_2.service.ReportService - [f1c109ea] Отчет успешно сформирован: 2 записей
2025-05-07 19:34:22.336 [http-nio-8082-exec-7] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:34:22.337 [http-nio-8082-exec-7] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@5f1ab366} - {200} ({88} мс)
2025-05-07 19:34:26.626 [http-nio-8082-exec-8] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 870bbf9e-6930-446c-92c5-2ee7377fef33: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:34:26.627 [http-nio-8082-exec-8] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:34:26.627 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38e18604] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:34:26.627 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38e18604] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:34:26.627 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38e18604] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:34:26.627 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38e18604] Извлечен username из токена: test
2025-05-07 19:34:26.627 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38e18604] Создание UserDetails для пользователя: test
2025-05-07 19:34:26.628 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38e18604] JWT токен действителен, создание аутентификации
2025-05-07 19:34:26.628 [http-nio-8082-exec-8] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [38e18604] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:34:26.628 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [38e18604] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:34:26.629 [http-nio-8082-exec-8] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=1, semester=2, studyYear=2023
2025-05-07 19:34:26.629 [http-nio-8082-exec-8] [] INFO  c.c.lab_2.service.ReportService - [aa2bd96c] Запрос на генерацию отчета: courseId=1, semester=2, studyYear=2023
2025-05-07 19:34:26.629 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Запрос курса из базы данных: courseId=1
2025-05-07 19:34:26.631 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Курс загружен: id=1, name='Программирование на Python', departmentId=1
2025-05-07 19:34:26.631 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Запрос лекций из базы данных: courseId=1
2025-05-07 19:34:26.632 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Загружено 2 лекций для курса 'Программирование на Python'
2025-05-07 19:34:26.632 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Запрос ID лекций из Neo4j: semester=2, studyYear=2023
2025-05-07 19:34:26.632 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 2}
2025-05-07 19:34:26.661 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Получены ID лекций из Neo4j: []
2025-05-07 19:34:26.661 [http-nio-8082-exec-8] [] DEBUG c.c.lab_2.service.ReportService - [aa2bd96c] Найдено 0 лекций, запланированных в семестре 2 года 2023
2025-05-07 19:34:26.662 [http-nio-8082-exec-8] [] WARN  c.c.lab_2.service.ReportService - [aa2bd96c] Не найдены запланированные лекции для семестра 2 года 2023
2025-05-07 19:34:26.662 [http-nio-8082-exec-8] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 0
2025-05-07 19:34:26.663 [http-nio-8082-exec-8] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@52ec55da} - {200} ({36} мс)
2025-05-07 19:34:32.966 [http-nio-8082-exec-9] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса db0658df-21a2-4449-bef8-fe5626e147dc: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:34:32.966 [http-nio-8082-exec-9] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:34:32.967 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:34:32.967 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:34:32.967 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:34:32.968 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] Извлечен username из токена: test
2025-05-07 19:34:32.968 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] Создание UserDetails для пользователя: test
2025-05-07 19:34:32.969 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] JWT токен действителен, создание аутентификации
2025-05-07 19:34:32.972 [http-nio-8082-exec-9] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:34:32.972 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [d9d5b467] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:34:32.974 [http-nio-8082-exec-9] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=24, semester=1, studyYear=2023
2025-05-07 19:34:32.974 [http-nio-8082-exec-9] [] INFO  c.c.lab_2.service.ReportService - [68b07c81] Запрос на генерацию отчета: courseId=24, semester=1, studyYear=2023
2025-05-07 19:34:32.974 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Запрос курса из базы данных: courseId=24
2025-05-07 19:34:32.977 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Курс загружен: id=24, name='Основы DevOps', departmentId=5
2025-05-07 19:34:32.977 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Запрос лекций из базы данных: courseId=24
2025-05-07 19:34:32.979 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Загружено 2 лекций для курса 'Основы DevOps'
2025-05-07 19:34:32.979 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:34:32.979 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:34:33.042 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:34:33.043 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:34:33.043 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Запрос информации об университете из MongoDB: departmentId=5
2025-05-07 19:34:33.043 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 5}, Fields: {}, Sort: {}
2025-05-07 19:34:33.050 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:34:33.050 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:34:33.051 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Определен институт='Институт информационных технологий', кафедра='Кафедра программной инженерии'
2025-05-07 19:34:33.051 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Отфильтровано 2 лекций для отчета
2025-05-07 19:34:33.051 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Обработка лекции id=47 name='Практическое применение (Основы DevOps)'
2025-05-07 19:34:33.051 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Запрос количества студентов из Neo4j: lectureId=47, semester=1, studyYear=2023
2025-05-07 19:34:33.051 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 47}
2025-05-07 19:34:33.055 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Получено количество студентов для лекции 47: 150
2025-05-07 19:34:33.057 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Лекция id=47 имеет studentCount=150
2025-05-07 19:34:33.057 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Обработка лекции id=48 name='Инструменты разработки (Основы DevOps)'
2025-05-07 19:34:33.057 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Запрос количества студентов из Neo4j: lectureId=48, semester=1, studyYear=2023
2025-05-07 19:34:33.057 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 48}
2025-05-07 19:34:33.061 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Получено количество студентов для лекции 48: 150
2025-05-07 19:34:33.062 [http-nio-8082-exec-9] [] DEBUG c.c.lab_2.service.ReportService - [68b07c81] Лекция id=48 имеет studentCount=150
2025-05-07 19:34:33.062 [http-nio-8082-exec-9] [] INFO  c.c.lab_2.service.ReportService - [68b07c81] Отчет успешно сформирован: 2 записей
2025-05-07 19:34:33.062 [http-nio-8082-exec-9] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:34:33.064 [http-nio-8082-exec-9] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@8d060a0} - {200} ({98} мс)
2025-05-07 19:34:51.784 [http-nio-8082-exec-10] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса ca1f74da-8e8c-4332-8d6f-e43246e2eb09: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:34:51.785 [http-nio-8082-exec-10] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:34:51.785 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:34:51.786 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:34:51.786 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:34:51.787 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] Извлечен username из токена: test
2025-05-07 19:34:51.787 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] Создание UserDetails для пользователя: test
2025-05-07 19:34:51.788 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] JWT токен действителен, создание аутентификации
2025-05-07 19:34:51.788 [http-nio-8082-exec-10] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:34:51.788 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [af70c3ea] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:34:51.790 [http-nio-8082-exec-10] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=27, semester=1, studyYear=2023
2025-05-07 19:34:51.790 [http-nio-8082-exec-10] [] INFO  c.c.lab_2.service.ReportService - [8c7851f6] Запрос на генерацию отчета: courseId=27, semester=1, studyYear=2023
2025-05-07 19:34:51.790 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Запрос курса из базы данных: courseId=27
2025-05-07 19:34:51.794 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Курс загружен: id=27, name='Веб-разработка', departmentId=6
2025-05-07 19:34:51.794 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Запрос лекций из базы данных: courseId=27
2025-05-07 19:34:51.795 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Загружено 2 лекций для курса 'Веб-разработка'
2025-05-07 19:34:51.795 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:34:51.795 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:34:51.856 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:34:51.857 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:34:51.857 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Запрос информации об университете из MongoDB: departmentId=6
2025-05-07 19:34:51.857 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 6}, Fields: {}, Sort: {}
2025-05-07 19:34:51.877 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:34:51.877 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:34:51.877 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Определен институт='Институт кибербезопасности', кафедра='Кафедра информатики'
2025-05-07 19:34:51.877 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Отфильтровано 2 лекций для отчета
2025-05-07 19:34:51.877 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Обработка лекции id=53 name='Практическое применение (Веб-разработка)'
2025-05-07 19:34:51.877 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Запрос количества студентов из Neo4j: lectureId=53, semester=1, studyYear=2023
2025-05-07 19:34:51.877 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 53}
2025-05-07 19:34:51.918 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Получено количество студентов для лекции 53: 150
2025-05-07 19:34:51.920 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Лекция id=53 имеет studentCount=150
2025-05-07 19:34:51.920 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Обработка лекции id=54 name='Микросервисная архитектура (Веб-разработка)'
2025-05-07 19:34:51.920 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Запрос количества студентов из Neo4j: lectureId=54, semester=1, studyYear=2023
2025-05-07 19:34:51.920 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 54}
2025-05-07 19:34:51.924 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Получено количество студентов для лекции 54: 150
2025-05-07 19:34:51.925 [http-nio-8082-exec-10] [] DEBUG c.c.lab_2.service.ReportService - [8c7851f6] Лекция id=54 имеет studentCount=150
2025-05-07 19:34:51.926 [http-nio-8082-exec-10] [] INFO  c.c.lab_2.service.ReportService - [8c7851f6] Отчет успешно сформирован: 2 записей
2025-05-07 19:34:51.926 [http-nio-8082-exec-10] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:34:51.927 [http-nio-8082-exec-10] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@37339cb9} - {200} ({142} мс)
2025-05-07 19:35:03.038 [http-nio-8082-exec-1] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 82cd018b-23e4-45be-abd8-a89e52b88d2c: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:35:03.038 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:35:03.039 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [58a4d569] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:35:03.039 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [58a4d569] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:35:03.039 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [58a4d569] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:35:03.040 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [58a4d569] Извлечен username из токена: test
2025-05-07 19:35:03.041 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [58a4d569] Создание UserDetails для пользователя: test
2025-05-07 19:35:03.041 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [58a4d569] JWT токен действителен, создание аутентификации
2025-05-07 19:35:03.041 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [58a4d569] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:35:03.041 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [58a4d569] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:35:03.042 [http-nio-8082-exec-1] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=28, semester=1, studyYear=2023
2025-05-07 19:35:03.042 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.service.ReportService - [41924bbb] Запрос на генерацию отчета: courseId=28, semester=1, studyYear=2023
2025-05-07 19:35:03.042 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Запрос курса из базы данных: courseId=28
2025-05-07 19:35:03.043 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Курс загружен: id=28, name='Алгоритмы и структуры данных', departmentId=6
2025-05-07 19:35:03.043 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Запрос лекций из базы данных: courseId=28
2025-05-07 19:35:03.045 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Загружено 2 лекций для курса 'Алгоритмы и структуры данных'
2025-05-07 19:35:03.045 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:35:03.045 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:35:03.114 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:35:03.115 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:35:03.115 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Запрос информации об университете из MongoDB: departmentId=6
2025-05-07 19:35:03.115 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 6}, Fields: {}, Sort: {}
2025-05-07 19:35:03.119 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:35:03.119 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:35:03.119 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Определен институт='Институт кибербезопасности', кафедра='Кафедра информатики'
2025-05-07 19:35:03.119 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Отфильтровано 2 лекций для отчета
2025-05-07 19:35:03.119 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Обработка лекции id=55 name='Безопасность и защита данных (Алгоритмы и структуры данных)'
2025-05-07 19:35:03.119 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Запрос количества студентов из Neo4j: lectureId=55, semester=1, studyYear=2023
2025-05-07 19:35:03.120 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 55}
2025-05-07 19:35:03.127 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Получено количество студентов для лекции 55: 150
2025-05-07 19:35:03.128 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Лекция id=55 имеет studentCount=150
2025-05-07 19:35:03.128 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Обработка лекции id=56 name='Аналитика и визуализация данных (Алгоритмы и структуры данных)'
2025-05-07 19:35:03.128 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Запрос количества студентов из Neo4j: lectureId=56, semester=1, studyYear=2023
2025-05-07 19:35:03.129 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 56}
2025-05-07 19:35:03.154 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Получено количество студентов для лекции 56: 150
2025-05-07 19:35:03.155 [http-nio-8082-exec-1] [] DEBUG c.c.lab_2.service.ReportService - [41924bbb] Лекция id=56 имеет studentCount=150
2025-05-07 19:35:03.156 [http-nio-8082-exec-1] [] INFO  c.c.lab_2.service.ReportService - [41924bbb] Отчет успешно сформирован: 2 записей
2025-05-07 19:35:03.156 [http-nio-8082-exec-1] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:35:03.158 [http-nio-8082-exec-1] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@22dfe154} - {200} ({119} мс)
2025-05-07 19:35:09.720 [http-nio-8082-exec-2] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса d2640598-43fb-431a-9485-deaf96ee778f: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:35:09.720 [http-nio-8082-exec-2] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:35:09.721 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:35:09.721 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:35:09.721 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:35:09.722 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] Извлечен username из токена: test
2025-05-07 19:35:09.722 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] Создание UserDetails для пользователя: test
2025-05-07 19:35:09.724 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] JWT токен действителен, создание аутентификации
2025-05-07 19:35:09.724 [http-nio-8082-exec-2] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:35:09.724 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [a9b1df66] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:35:09.725 [http-nio-8082-exec-2] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=49, semester=1, studyYear=2023
2025-05-07 19:35:09.725 [http-nio-8082-exec-2] [] INFO  c.c.lab_2.service.ReportService - [4df39e46] Запрос на генерацию отчета: courseId=49, semester=1, studyYear=2023
2025-05-07 19:35:09.725 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Запрос курса из базы данных: courseId=49
2025-05-07 19:35:09.728 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Курс загружен: id=49, name='Операционные системы', departmentId=10
2025-05-07 19:35:09.728 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Запрос лекций из базы данных: courseId=49
2025-05-07 19:35:09.729 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Загружено 2 лекций для курса 'Операционные системы'
2025-05-07 19:35:09.729 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:35:09.729 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:35:09.790 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:35:09.791 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:35:09.791 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Запрос информации об университете из MongoDB: departmentId=10
2025-05-07 19:35:09.791 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 10}, Fields: {}, Sort: {}
2025-05-07 19:35:09.796 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:35:09.796 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:35:09.796 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Определен институт='Институт кибербезопасности', кафедра='Кафедра программной инженерии'
2025-05-07 19:35:09.796 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Отфильтровано 2 лекций для отчета
2025-05-07 19:35:09.797 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Обработка лекции id=97 name='Методологии разработки ПО (Операционные системы)'
2025-05-07 19:35:09.797 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Запрос количества студентов из Neo4j: lectureId=97, semester=1, studyYear=2023
2025-05-07 19:35:09.797 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 97}
2025-05-07 19:35:09.804 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Получено количество студентов для лекции 97: 150
2025-05-07 19:35:09.805 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Лекция id=97 имеет studentCount=150
2025-05-07 19:35:09.805 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Обработка лекции id=98 name='REST API и коммуникации (Операционные системы)'
2025-05-07 19:35:09.805 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Запрос количества студентов из Neo4j: lectureId=98, semester=1, studyYear=2023
2025-05-07 19:35:09.805 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 98}
2025-05-07 19:35:09.808 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Получено количество студентов для лекции 98: 150
2025-05-07 19:35:09.809 [http-nio-8082-exec-2] [] DEBUG c.c.lab_2.service.ReportService - [4df39e46] Лекция id=98 имеет studentCount=150
2025-05-07 19:35:09.809 [http-nio-8082-exec-2] [] INFO  c.c.lab_2.service.ReportService - [4df39e46] Отчет успешно сформирован: 2 записей
2025-05-07 19:35:09.809 [http-nio-8082-exec-2] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:35:09.810 [http-nio-8082-exec-2] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@408bff74} - {200} ({90} мс)
2025-05-07 19:35:34.999 [http-nio-8082-exec-4] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 756a1bed-2699-47e0-9d29-e1aa1709e2ef: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:35:34.999 [http-nio-8082-exec-4] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:35:35.000 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f6673550] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:35:35.002 [http-nio-8082-exec-4] [] WARN  c.c.lab_2.filter.JwtAuthFilter - [f6673550] Отсутствует или некорректный заголовок шлюза 'X-Gateway-Auth': null
2025-05-07 19:35:35.006 [http-nio-8082-exec-4] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f6673550] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:35:35.008 [http-nio-8082-exec-4] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@49c8e1bb} - {403} ({9} мс)
2025-05-07 19:35:43.869 [http-nio-8082-exec-5] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса d6179285-4879-4167-a9a7-594f48627851: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:35:43.869 [http-nio-8082-exec-5] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:35:43.870 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f8e24207] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:35:43.870 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f8e24207] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:35:43.870 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f8e24207] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:35:43.871 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f8e24207] Извлечен username из токена: test
2025-05-07 19:35:43.871 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f8e24207] Создание UserDetails для пользователя: test
2025-05-07 19:35:43.872 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f8e24207] JWT токен действителен, создание аутентификации
2025-05-07 19:35:43.873 [http-nio-8082-exec-5] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [f8e24207] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:35:43.873 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [f8e24207] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:35:43.874 [http-nio-8082-exec-5] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=49, semester=1, studyYear=2023
2025-05-07 19:35:43.874 [http-nio-8082-exec-5] [] INFO  c.c.lab_2.service.ReportService - [2836786e] Запрос на генерацию отчета: courseId=49, semester=1, studyYear=2023
2025-05-07 19:35:43.874 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Запрос курса из базы данных: courseId=49
2025-05-07 19:35:43.877 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Курс загружен: id=49, name='Операционные системы', departmentId=10
2025-05-07 19:35:43.877 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Запрос лекций из базы данных: courseId=49
2025-05-07 19:35:43.878 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Загружено 2 лекций для курса 'Операционные системы'
2025-05-07 19:35:43.878 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:35:43.879 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:35:43.948 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:35:43.948 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:35:43.948 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Запрос информации об университете из MongoDB: departmentId=10
2025-05-07 19:35:43.948 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 10}, Fields: {}, Sort: {}
2025-05-07 19:35:43.954 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:35:43.955 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:35:43.955 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Определен институт='Институт кибербезопасности', кафедра='Кафедра программной инженерии'
2025-05-07 19:35:43.955 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Отфильтровано 2 лекций для отчета
2025-05-07 19:35:43.955 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Обработка лекции id=97 name='Методологии разработки ПО (Операционные системы)'
2025-05-07 19:35:43.955 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Запрос количества студентов из Neo4j: lectureId=97, semester=1, studyYear=2023
2025-05-07 19:35:43.955 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 97}
2025-05-07 19:35:43.959 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Получено количество студентов для лекции 97: 150
2025-05-07 19:35:43.961 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Лекция id=97 имеет studentCount=150
2025-05-07 19:35:43.961 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Обработка лекции id=98 name='REST API и коммуникации (Операционные системы)'
2025-05-07 19:35:43.961 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Запрос количества студентов из Neo4j: lectureId=98, semester=1, studyYear=2023
2025-05-07 19:35:43.961 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 98}
2025-05-07 19:35:43.968 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Получено количество студентов для лекции 98: 150
2025-05-07 19:35:43.969 [http-nio-8082-exec-5] [] DEBUG c.c.lab_2.service.ReportService - [2836786e] Лекция id=98 имеет studentCount=150
2025-05-07 19:35:43.969 [http-nio-8082-exec-5] [] INFO  c.c.lab_2.service.ReportService - [2836786e] Отчет успешно сформирован: 2 записей
2025-05-07 19:35:43.969 [http-nio-8082-exec-5] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:35:43.973 [http-nio-8082-exec-5] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@19a7ceaf} - {200} ({104} мс)
2025-05-07 19:36:00.839 [http-nio-8082-exec-6] [] DEBUG c.cherenkov.lab_1.utils.LoggingUtils - Настроен контекст логирования для запроса 2e7fe3e9-4c34-4b08-b224-e143d4a8d354: пользователь=anonymous, метод=POST, uri=/reports/course
2025-05-07 19:36:00.839 [http-nio-8082-exec-6] [] INFO  c.c.l.configs.RequestLoggingFilter - >>> {POST} {/reports/course}
2025-05-07 19:36:00.840 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] Начало проверки JWT для запроса POST /reports/course
2025-05-07 19:36:00.840 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] Authorization Header: Present (starts with Bearer eyJhbGci...)
2025-05-07 19:36:00.840 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] Извлечен JWT токен, начинается с: eyJhbGciOi...
2025-05-07 19:36:00.840 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] Извлечен username из токена: test
2025-05-07 19:36:00.840 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] Создание UserDetails для пользователя: test
2025-05-07 19:36:00.841 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] JWT токен действителен, создание аутентификации
2025-05-07 19:36:00.841 [http-nio-8082-exec-6] [] INFO  c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] Пользователь 'test' успешно аутентифицирован
2025-05-07 19:36:00.841 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.filter.JwtAuthFilter - [2e0d76d5] Завершение проверки JWT, продолжение цепочки фильтров
2025-05-07 19:36:00.843 [http-nio-8082-exec-6] [] INFO  c.c.l.controllers.ReportController - Получен запрос для отчета по курсу: courseId=49, semester=1, studyYear=2023
2025-05-07 19:36:00.843 [http-nio-8082-exec-6] [] INFO  c.c.lab_2.service.ReportService - [1bb3c566] Запрос на генерацию отчета: courseId=49, semester=1, studyYear=2023
2025-05-07 19:36:00.843 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Запрос курса из базы данных: courseId=49
2025-05-07 19:36:00.846 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Курс загружен: id=49, name='Операционные системы', departmentId=10
2025-05-07 19:36:00.846 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Запрос лекций из базы данных: courseId=49
2025-05-07 19:36:00.848 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Загружено 2 лекций для курса 'Операционные системы'
2025-05-07 19:36:00.848 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Запрос ID лекций из Neo4j: semester=1, studyYear=2023
2025-05-07 19:36:00.848 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Выполнение Neo4j запроса:              MATCH (g:Group)-[hs:HAS_SCHEDULE]->(l:Lecture)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN DISTINCT l.id AS id         , params: {year: 2023, sem: 1}
2025-05-07 19:36:00.914 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Получены ID лекций из Neo4j: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600]
2025-05-07 19:36:00.915 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Найдено 600 лекций, запланированных в семестре 1 года 2023
2025-05-07 19:36:00.915 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Запрос информации об университете из MongoDB: departmentId=10
2025-05-07 19:36:00.915 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Выполнение MongoDB запроса: query=Query: { "institutes.departments.departmentId" : 10}, Fields: {}, Sort: {}
2025-05-07 19:36:00.922 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Получен документ университета: id=681b8a8a0927b326c85b4e33, name=РТУ МИРЭА
2025-05-07 19:36:00.922 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Документ университета получен: universityId=null, name='РТУ МИРЭА'
2025-05-07 19:36:00.922 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Определен институт='Институт кибербезопасности', кафедра='Кафедра программной инженерии'
2025-05-07 19:36:00.922 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Отфильтровано 2 лекций для отчета
2025-05-07 19:36:00.922 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Обработка лекции id=97 name='Методологии разработки ПО (Операционные системы)'
2025-05-07 19:36:00.922 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Запрос количества студентов из Neo4j: lectureId=97, semester=1, studyYear=2023
2025-05-07 19:36:00.922 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 97}
2025-05-07 19:36:00.930 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Получено количество студентов для лекции 97: 150
2025-05-07 19:36:00.931 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Лекция id=97 имеет studentCount=150
2025-05-07 19:36:00.931 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Обработка лекции id=98 name='REST API и коммуникации (Операционные системы)'
2025-05-07 19:36:00.931 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Запрос количества студентов из Neo4j: lectureId=98, semester=1, studyYear=2023
2025-05-07 19:36:00.931 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Выполнение Neo4j запроса:              MATCH (l:Lecture {id: $lid})<-[hs:HAS_SCHEDULE]-(g:Group)<-[:BELONGS_TO]-(s:Student)             WHERE hs.date.year = $year AND (               ($sem = 1 AND hs.date.month >= 9 AND hs.date.month <= 12) OR               ($sem = 2 AND hs.date.month >= 1 AND hs.date.month <= 6)             )             RETURN count(DISTINCT s) AS cnt         , params: {sem: 1, year: 2023, lid: 98}
2025-05-07 19:36:00.934 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Получено количество студентов для лекции 98: 150
2025-05-07 19:36:00.936 [http-nio-8082-exec-6] [] DEBUG c.c.lab_2.service.ReportService - [1bb3c566] Лекция id=98 имеет studentCount=150
2025-05-07 19:36:00.936 [http-nio-8082-exec-6] [] INFO  c.c.lab_2.service.ReportService - [1bb3c566] Отчет успешно сформирован: 2 записей
2025-05-07 19:36:00.936 [http-nio-8082-exec-6] [] INFO  c.c.l.controllers.ReportController - Сформирован отчет, количество записей: 2
2025-05-07 19:36:00.939 [http-nio-8082-exec-6] [] INFO  c.c.l.configs.RequestLoggingFilter - <<< {org.apache.catalina.connector.ResponseFacade@251c1604} - {200} ({100} мс)
2025-05-07 19:36:16.318 [cluster-ClusterId{value='681b8ae34ae5d17aef18e522', description='null'}-localhost:27017] [] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server localhost:27017
com.mongodb.MongoNodeIsRecoveringException: Command failed with error 11600 (InterruptedAtShutdown): 'interrupted at shutdown' on server localhost:27017. The full response is {"ok": 0.0, "errmsg": "interrupted at shutdown", "code": 11600, "codeName": "InterruptedAtShutdown"}
	at com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:264)
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:206)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:520)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:469)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:249)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:176)
2025-05-07 19:36:26.326 [cluster-ClusterId{value='681b8ae34ae5d17aef18e522', description='null'}-localhost:27017] [] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server localhost:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:85)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:85)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:233)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:219)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:176)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:673)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:590)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:666)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:79)
	... 3 common frames omitted
2025-05-07 19:36:40.282 [SpringApplicationShutdownHook] [] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-07 19:36:40.284 [tomcat-shutdown] [] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-07 19:36:40.409 [SpringApplicationShutdownHook] [] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 566447096
2025-05-07 19:36:40.620 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-07 19:36:40.621 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
